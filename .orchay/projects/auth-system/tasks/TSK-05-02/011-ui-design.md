# TSK-05-02 - 화면 설계 문서

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-05-02 |
| 문서 버전 | 1.0 |
| 작성일 | 2026-01-26 |
| 상태 | 승인됨 |

---

## 1. 역할 관리 화면

### 1.1 화면 경로

`/admin/roles`

### 1.2 와이어프레임

```
┌─────────────────────────────────────────────────────────────────────┐
│  역할 관리                                    [새로고침] [+ 역할 등록] │
├─────────────────────────────────────────────────────────────────────┤
│  ┌────────────────────────────────────────────────────────────────┐ │
│  │ 역할명      │ 역할 코드       │ 상위 역할  │ 상태 │ 액션       │ │
│  ├────────────┼────────────────┼───────────┼─────┼────────────┤ │
│  │ 시스템 관리자│ SYSTEM_ADMIN   │ -         │ 활성 │ [권한][수정]│ │
│  │            │                │           │     │ [삭제]     │ │
│  │ 보안 관리자 │ SECURITY_ADMIN │ 시스템관리자│ 활성 │ [권한][수정]│ │
│  │            │                │           │     │ [삭제]     │ │
│  │ 운영 관리자 │ OPERATION_ADMIN│ 시스템관리자│ 활성 │ [권한][수정]│ │
│  │            │                │           │     │ [삭제]     │ │
│  └────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘
```

### 1.3 컴포넌트

| 컴포넌트 | Ant Design | 용도 |
|---------|------------|------|
| 역할 테이블 | Table | 역할 목록 표시 |
| 등록 버튼 | Button | 역할 등록 모달 열기 |
| 새로고침 버튼 | Button | 목록 새로고침 |
| 역할 코드 태그 | Tag | 역할 코드 표시 |
| 상태 태그 | Tag | 활성/비활성 표시 |
| 액션 버튼 | Space, Button | 권한/수정/삭제 |
| 삭제 확인 | Popconfirm | 삭제 전 확인 |

---

## 2. 역할 등록/수정 모달

### 2.1 와이어프레임

```
┌─────────────────────────────────────────────────────────────────────┐
│  역할 등록                                                       [X] │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  역할 코드 *                                                        │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │ ROLE_CODE                                                   │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
│  역할명 *                                                           │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │ 역할 이름                                                    │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
│  설명                                                               │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │ 역할 설명...                                                 │   │
│  │                                                              │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
│  상위 역할                                                          │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │ 상위 역할 선택                                          ▼   │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│                                        [취소]  [저장]               │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.2 필드 정의

| 필드 | 컴포넌트 | 유효성 검사 |
|------|---------|------------|
| 역할 코드 | Input | 필수, 영문 대문자+언더스코어만 |
| 역할명 | Input | 필수 |
| 설명 | Input.TextArea | 선택 |
| 상위 역할 | Select | 선택 |

---

## 3. 권한 설정 모달

### 3.1 와이어프레임

```
┌─────────────────────────────────────────────────────────────────────┐
│  권한 설정 - 시스템 관리자                                       [X] │
├─────────────────────────────────────────────────────────────────────┤
│  역할에 할당할 권한을 선택하세요                                     │
│                                                                     │
│  ▼ MENU                                                             │
│    ☑ 메뉴 접근 - 대시보드 (menu:dashboard)                          │
│    ☑ 메뉴 접근 - 사용자 관리 (menu:admin:users)                     │
│    ☑ 메뉴 접근 - 역할 관리 (menu:admin:roles)                       │
│    ☑ 메뉴 접근 - 감사 로그 (menu:admin:audit-logs)                  │
│                                                                     │
│  ▼ FEATURE                                                          │
│    ☑ 사용자 조회 (user:read)                                        │
│    ☑ 사용자 생성 (user:create)                                      │
│    ☑ 사용자 수정 (user:update)                                      │
│    ☑ 사용자 삭제 (user:delete)                                      │
│    ☑ 역할 조회 (role:read)                                          │
│    ☑ 역할 생성 (role:create)                                        │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│                                        [취소]  [저장]               │
└─────────────────────────────────────────────────────────────────────┘
```

### 3.2 컴포넌트

| 컴포넌트 | Ant Design | 용도 |
|---------|------------|------|
| 권한 트리 | Tree | 권한 그룹별 체크박스 |
| 저장 버튼 | Modal okButton | 권한 저장 |

---

## 4. 감사 로그 조회 화면

### 4.1 화면 경로

`/admin/audit-logs`

### 4.2 와이어프레임

```
┌─────────────────────────────────────────────────────────────────────┐
│  감사 로그                                            [CSV 내보내기] │
├─────────────────────────────────────────────────────────────────────┤
│  [시작일 ~ 종료일]  [액션 선택 ▼]  [상태 ▼]  [검색]  [초기화]        │
├─────────────────────────────────────────────────────────────────────┤
│  ┌────────────────────────────────────────────────────────────────┐ │
│  │ 일시              │ 사용자  │ 액션      │ 리소스 │ 상태 │ IP    │ │
│  ├──────────────────┼────────┼──────────┼───────┼─────┼───────┤ │
│  │ 2026-01-26 10:00 │ 홍길동  │ 로그인    │ -     │ ● 성공│ [상세]│ │
│  │ 2026-01-26 10:05 │ 김철수  │ 로그인 실패│ -    │ ● 실패│ [상세]│ │
│  │ 2026-01-26 10:10 │ 홍길동  │ 사용자 생성│ User │ ● 성공│ [상세]│ │
│  └────────────────────────────────────────────────────────────────┘ │
│                                                                      │
│  총 150건                              ◀ 1 2 3 ... 8 ▶              │
└─────────────────────────────────────────────────────────────────────┘
```

### 4.3 필터 영역

| 필터 | 컴포넌트 | 설명 |
|------|---------|------|
| 기간 | RangePicker | 시작일~종료일 |
| 액션 | Select (multiple) | 로그인, 로그아웃, 비밀번호 변경 등 |
| 상태 | Select | 성공/실패 |

### 4.4 테이블 컬럼

| 컬럼 | 설명 |
|------|------|
| 일시 | YYYY-MM-DD HH:mm:ss |
| 사용자 | 이름 또는 이메일 |
| 액션 | 액션 종류 (Tag) |
| 리소스 | 대상 리소스 |
| 상태 | 성공/실패 (Badge) |
| IP | IP 주소 |
| 액션 | 상세 보기 버튼 |

---

## 5. 감사 로그 상세 모달

### 5.1 와이어프레임

```
┌─────────────────────────────────────────────────────────────────────┐
│  감사 로그 상세                                                  [X] │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌────────────┬──────────────────────────────────────────────────┐ │
│  │ 일시       │ 2026-01-26 10:00:00                              │ │
│  ├────────────┼──────────────────────────────────────────────────┤ │
│  │ 사용자     │ 홍길동                  │ 이메일 │ hong@test.com │ │
│  ├────────────┼──────────────────────────────────────────────────┤ │
│  │ 액션       │ [로그인]               │ 상태   │ ● 성공         │ │
│  ├────────────┼──────────────────────────────────────────────────┤ │
│  │ 리소스     │ -                      │ ID     │ -              │ │
│  ├────────────┼──────────────────────────────────────────────────┤ │
│  │ IP         │ 192.168.1.100                                    │ │
│  ├────────────┼──────────────────────────────────────────────────┤ │
│  │ User Agent │ Mozilla/5.0 (Windows NT 10.0; Win64; x64) ...    │ │
│  ├────────────┼──────────────────────────────────────────────────┤ │
│  │ 상세 정보  │ { "method": "credentials", "browser": "..." }    │ │
│  └────────────┴──────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 5.2 컴포넌트

| 컴포넌트 | Ant Design | 용도 |
|---------|------------|------|
| 상세 정보 | Descriptions | 키-값 형태 표시 |
| JSON 표시 | pre | 상세 정보 JSON |

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-26 | Claude | 최초 작성 |
