# TSK-05-02 - 테스트 명세서

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-05-02 |
| 문서 버전 | 1.0 |
| 작성일 | 2026-01-26 |

---

## 1. 역할 관리 화면 테스트

### 1.1 역할 목록 조회

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-ROLE-001 | 역할 목록 페이지 로드 | 역할 목록이 테이블에 표시됨 |
| TC-ROLE-002 | 새로고침 버튼 클릭 | 목록이 새로고침됨 |

### 1.2 역할 등록

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-ROLE-003 | 역할 등록 버튼 클릭 | 등록 모달이 열림 |
| TC-ROLE-004 | 필수 필드 누락 후 저장 | 유효성 검사 에러 표시 |
| TC-ROLE-005 | 역할 코드 형식 오류 | 영문 대문자+언더스코어만 허용 |
| TC-ROLE-006 | 정상적인 역할 등록 | 역할이 등록되고 목록에 표시됨 |

### 1.3 역할 수정

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-ROLE-007 | 수정 버튼 클릭 | 수정 모달이 열리고 기존 값이 채워짐 |
| TC-ROLE-008 | 역할 코드 필드 비활성화 | 수정 시 역할 코드는 변경 불가 |
| TC-ROLE-009 | 정상적인 역할 수정 | 역할이 수정되고 목록에 반영됨 |

### 1.4 역할 삭제

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-ROLE-010 | 삭제 버튼 클릭 | Popconfirm이 표시됨 |
| TC-ROLE-011 | 시스템 역할 삭제 시도 | 삭제 버튼이 비활성화됨 |
| TC-ROLE-012 | 삭제 확인 | 역할이 삭제되고 목록에서 제거됨 |

### 1.5 권한 설정

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-ROLE-013 | 권한 버튼 클릭 | 권한 설정 모달이 열림 |
| TC-ROLE-014 | 기존 권한 로드 | 현재 할당된 권한이 체크됨 |
| TC-ROLE-015 | 권한 체크/해제 | 트리에서 권한 선택 가능 |
| TC-ROLE-016 | 권한 저장 | 선택한 권한이 저장됨 |

---

## 2. 감사 로그 조회 화면 테스트

### 2.1 목록 조회

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-LOG-001 | 감사 로그 페이지 로드 | 로그 목록이 테이블에 표시됨 |
| TC-LOG-002 | 페이징 | 페이지 변경 시 해당 페이지 로그 표시 |
| TC-LOG-003 | 페이지 크기 변경 | 선택한 크기만큼 표시 |

### 2.2 필터 기능

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-LOG-004 | 기간 필터 | 선택한 기간의 로그만 표시 |
| TC-LOG-005 | 액션 필터 | 선택한 액션의 로그만 표시 |
| TC-LOG-006 | 상태 필터 | 선택한 상태의 로그만 표시 |
| TC-LOG-007 | 복합 필터 | 모든 조건을 만족하는 로그만 표시 |
| TC-LOG-008 | 초기화 버튼 | 모든 필터가 초기화됨 |

### 2.3 상세 보기

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-LOG-009 | 상세 버튼 클릭 | 상세 모달이 열림 |
| TC-LOG-010 | 상세 정보 표시 | 일시, 사용자, 액션, IP 등 표시 |
| TC-LOG-011 | 오류 메시지 표시 | 실패 로그의 경우 오류 메시지 표시 |
| TC-LOG-012 | JSON 상세 정보 | details 필드 JSON 형태로 표시 |

### 2.4 CSV 내보내기

| TC ID | 테스트 케이스 | 기대 결과 |
|-------|-------------|----------|
| TC-LOG-013 | 내보내기 버튼 클릭 | CSV 파일 다운로드 |
| TC-LOG-014 | 필터 적용 후 내보내기 | 필터링된 데이터만 내보내기 |

---

## 3. 수동 테스트 체크리스트

### 3.1 역할 관리

- [ ] 역할 목록 정상 로드
- [ ] 역할 등록 성공
- [ ] 역할 수정 성공
- [ ] 시스템 역할 삭제 불가
- [ ] 일반 역할 삭제 성공
- [ ] 권한 설정 저장

### 3.2 감사 로그

- [ ] 로그 목록 정상 로드
- [ ] 기간 필터 동작
- [ ] 액션 필터 동작
- [ ] 상태 필터 동작
- [ ] 상세 모달 표시
- [ ] CSV 내보내기 동작

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-26 | Claude | 최초 작성 |
