# MES Portal PRD (Product Requirements Document)

## 1. 개요

### 1.1 프로젝트명
MES Portal (Manufacturing Execution System Portal)

### 1.2 목적
제조 현장의 생산 공정을 실시간으로 모니터링하고 관리할 수 있는 웹 기반 포털 시스템 개발

### 1.3 배경
- 제조 현장의 디지털 전환(DX) 필요성 증가
- 실시간 생산 데이터 모니터링 및 분석 요구
- 생산성 향상 및 품질 관리 강화

---

## 2. 목표

### 2.1 비즈니스 목표
- 생산 현황 실시간 가시화
- 생산 효율성 향상
- 품질 불량률 감소
- 의사결정 지원 데이터 제공

### 2.2 기술 목표
- 확장 가능한 웹 기반 아키텍처
- 실시간 데이터 처리 및 시각화
- MDI(Multiple Document Interface) 기반 UI
- DB 기반 동적 메뉴 시스템

---

## 3. 사용자

### 3.1 주요 사용자
| 사용자 유형 | 역할 | 주요 기능 |
|------------|------|----------|
| 공장장/관리자 | 전체 생산 현황 관리 | 대시보드, 리포트, 설정 |
| 생산 담당자 | 라인별 생산 관리 | 작업 지시, 실적 입력 |
| 품질 담당자 | 품질 검사 및 관리 | 검사 결과 입력, 불량 관리 |
| 설비 담당자 | 설비 상태 모니터링 | 설비 현황, 유지보수 관리 |

---

## 4. 기능 요구사항

### 4.1 핵심 기능 (MVP)

#### 4.1.1 UI/UX 프레임워크

##### MDI (Multiple Document Interface)
- [ ] 탭 기반 다중 화면 관리
- [ ] 여러 화면 동시 열기 및 전환
- [ ] 탭 드래그 앤 드롭으로 순서 변경
- [ ] 탭 닫기 (개별/전체/다른 탭 닫기)
- [ ] 화면 상태 유지 (탭 전환 시 데이터 보존)
- [ ] 최대 탭 개수 제한 설정

##### 동적 메뉴 시스템
- [ ] DB 기반 메뉴 구조 관리
- [ ] 계층형 메뉴 지원 (트리 구조)
- [ ] 사용자 권한별 메뉴 필터링
- [ ] 메뉴 아이콘 지원
- [ ] 메뉴 순서 관리
- [ ] 즐겨찾기 메뉴 기능

##### 포털 화면 설계

**전체 레이아웃 구조**
```
┌─────────────────────────────────────────────────────────────────────────┐
│                              HEADER                                      │
│  ┌──────┬────────────────────────────────────────────────────┬────────┐ │
│  │ Logo │ QuickMenu | Breadcrumb                    | Clock  │ Search │ │
│  │      │                                                    │ Noti   │ │
│  │      │                                                    │ Theme  │ │
│  │      │                                                    │ User   │ │
│  └──────┴────────────────────────────────────────────────────┴────────┘ │
├─────────┬───────────────────────────────────────────────────────────────┤
│         │                         TAB BAR                                │
│         │  ┌─────────┬─────────┬─────────┬─────────────────────────────┐│
│         │  │ Tab 1 ✕ │ Tab 2 ✕ │ Tab 3 ✕ │                             ││
│  SIDE   │  └─────────┴─────────┴─────────┴─────────────────────────────┘│
│  BAR    ├───────────────────────────────────────────────────────────────┤
│         │                                                               │
│ ┌─────┐ │                      CONTENT AREA                             │
│ │Menu │ │                                                               │
│ │Tree │ │                   (Active Tab Content)                        │
│ │     │ │                                                               │
│ │ 📁  │ │                                                               │
│ │ ├📁 │ │                                                               │
│ │ │├📄│ │                                                               │
│ │ │└📄│ │                                                               │
│ │ └📁 │ │                                                               │
│ └─────┘ │                                                               │
│ [접기]  │                                                               │
├─────────┴───────────────────────────────────────────────────────────────┤
│                              FOOTER                                      │
│              Copyright © 2026 Company. All rights reserved. | v1.0.0    │
└─────────────────────────────────────────────────────────────────────────┘
```

**헤더 (Header)**
- [ ] 높이: 고정 (60px)
- [ ] 좌측 영역
  - [ ] 로고 이미지/텍스트 (클릭 시 홈으로 이동)
  - [ ] 빠른 메뉴 버튼 (즐겨찾기 메뉴 드롭다운)
  - [ ] 브레드크럼 (현재 위치 경로 표시)
- [ ] 우측 영역
  - [ ] 시스템 시계 (현재 시간 표시, 실시간 갱신)
  - [ ] 전역 검색 (메뉴/화면 검색, 키보드 단축키 지원)
  - [ ] 알림 아이콘 (읽지 않은 알림 개수 뱃지, 클릭 시 알림 패널)
  - [ ] 테마 전환 버튼 (라이트/다크 모드 토글)
  - [ ] 사용자 프로필 (아바타, 이름, 드롭다운 메뉴)
    - [ ] 내 정보
    - [ ] 설정
    - [ ] 로그아웃

**사이드바 메뉴 (Sidebar)**
- [ ] 너비: 펼침 240px / 접힘 60px
- [ ] 접이식 토글 버튼
- [ ] 계층형 트리 메뉴
  - [ ] 1단계: 메뉴 그룹 (폴더 아이콘)
  - [ ] 2단계: 하위 메뉴 그룹 또는 화면
  - [ ] 3단계: 화면 (최대 3단계)
- [ ] 메뉴 아이템 구성
  - [ ] 아이콘 (접힘 시에도 표시)
  - [ ] 메뉴명 (펼침 시 표시)
  - [ ] 펼침/접힘 화살표 (하위 메뉴 있는 경우)
- [ ] 메뉴 상호작용
  - [ ] 호버 시 하이라이트
  - [ ] 현재 선택 메뉴 강조
  - [ ] 접힘 상태에서 호버 시 툴팁으로 메뉴명 표시
- [ ] 하단 고정 영역
  - [ ] 사이드바 접기/펼치기 버튼

**탭 바 (Tab Bar)**
- [ ] MDI 탭 영역
  - [ ] 탭 아이템: 아이콘 + 화면명 + 닫기(✕) 버튼
  - [ ] 활성 탭 강조 표시
  - [ ] 탭 드래그 앤 드롭으로 순서 변경
  - [ ] 탭 우클릭 컨텍스트 메뉴
    - [ ] 닫기
    - [ ] 다른 탭 모두 닫기
    - [ ] 오른쪽 탭 모두 닫기
    - [ ] 새로고침
- [ ] 탭 오버플로우 처리
  - [ ] 탭이 많을 경우 좌우 스크롤 또는 드롭다운

**컨텐츠 영역 (Content Area)**
- [ ] 탭 바 아래 전체 영역
- [ ] 활성화된 탭의 화면 내용 표시
- [ ] 비활성 탭 화면은 상태 유지 (unmount 하지 않음)
- [ ] 스크롤: 컨텐츠 영역 내부에서만 스크롤

**푸터 (Footer)**
- [ ] 높이: 고정 (30px)
- [ ] 좌측: 저작권 표시
- [ ] 우측: 버전 정보

##### 디자인 시스템
- [ ] 라이트/다크 모드 전환 지원
- [ ] 파란색 계열 Primary 색상 테마
- [ ] 상태 표시 색상 체계 (성공-초록, 경고-노랑, 오류-빨강, 정보-파랑)
- [ ] 시스템 기본 글꼴 사용
- [ ] 일관된 간격 및 크기 체계

##### 폼 검증 및 상태
**유효성 검사**
- [ ] 필수 필드 표시 (별표 * 또는 레이블)
- [ ] 실시간 유효성 검사 (입력 중 또는 포커스 아웃 시)
- [ ] 에러 메시지 표시 (필드 하단, 빨간색)
- [ ] 검증 규칙 (필수, 이메일, 전화번호, 숫자 범위, 정규식 등)
- [ ] 폼 전체 유효성 검사 (저장 버튼 클릭 시)

**폼 상태 관리**
- [ ] 수정된 필드 표시 (변경 감지)
- [ ] 자동 저장 (Draft) - 선택적
- [ ] 저장되지 않은 변경사항 경고 (페이지 이탈 시)
- [ ] 폼 초기화/리셋 기능

##### 로딩 및 에러 상태
**로딩 상태**
- [ ] 전체 페이지 로딩 스피너
- [ ] 컴포넌트별 로딩 스켈레톤
- [ ] 버튼 로딩 상태 (스피너 + 비활성화)
- [ ] 테이블 로딩 오버레이

**빈 상태 (Empty State)**
- [ ] 데이터 없음 안내 (아이콘 + 메시지)
- [ ] 검색 결과 없음
- [ ] 필터 결과 없음 (필터 초기화 버튼)

**에러 상태**
- [ ] 404 페이지 (페이지를 찾을 수 없음)
- [ ] 500 페이지 (서버 오류)
- [ ] 네트워크 오류 (재시도 버튼)
- [ ] 권한 없음 (403)
- [ ] 세션 만료 (재로그인 안내)

##### 확인 다이얼로그
- [ ] 삭제 확인 ("정말 삭제하시겠습니까?")
- [ ] 저장되지 않은 변경사항 경고 ("저장하지 않은 내용이 있습니다")
- [ ] 세션 만료 경고 (자동 로그아웃 전 알림)
- [ ] 작업 취소 확인
- [ ] 일괄 작업 확인 (N건 삭제/수정)

##### 키보드 및 접근성
**키보드 단축키**
- [ ] 전역 검색 (Ctrl/Cmd + K)
- [ ] 저장 (Ctrl/Cmd + S)
- [ ] 새로고침 (F5 또는 Ctrl/Cmd + R)
- [ ] 탭 닫기 (Ctrl/Cmd + W)
- [ ] 탭 전환 (Ctrl/Cmd + Tab)
- [ ] 단축키 도움말 표시 (?)

**키보드 네비게이션**
- [ ] Tab 키로 포커스 이동
- [ ] Enter 키로 버튼/링크 실행
- [ ] Escape 키로 모달/드롭다운 닫기
- [ ] 화살표 키로 메뉴/리스트 탐색

**접근성 (A11y)**
- [ ] ARIA 레이블 적용
- [ ] 포커스 표시 (outline)
- [ ] 색상 대비 준수
- [ ] 스크린 리더 호환

##### 컨텍스트 메뉴
**테이블 행 컨텍스트 메뉴**
- [ ] 우클릭 시 메뉴 표시
- [ ] 조회/수정/삭제 등 행 관련 액션
- [ ] 복사/붙여넣기 (선택적)

**일반 컨텍스트 메뉴**
- [ ] 텍스트 선택 시 컨텍스트 메뉴
- [ ] 커스텀 컨텍스트 메뉴 지원

##### 도움말 및 가이드
**온보딩**
- [ ] 첫 사용자 가이드 투어
- [ ] 단계별 하이라이트 및 설명
- [ ] 건너뛰기/다시 보지 않기 옵션

**도움말**
- [ ] 필드별 툴팁 도움말 (? 아이콘)
- [ ] 화면별 도움말 패널 (사이드 또는 모달)
- [ ] 도움말 문서 링크

##### 사용자 설정
**표시 설정**
- [ ] 언어 선택 (한국어, English 등)
- [ ] 표시 밀도 (Compact / Comfortable / Spacious)
- [ ] 테마 선택 (라이트/다크/시스템)

**개인화**
- [ ] 테이블 컬럼 표시/숨김 설정 저장
- [ ] 기본 페이지 크기 설정
- [ ] 대시보드 위젯 배치 저장

##### 데이터 내보내기
**지원 형식**
- [ ] CSV 내보내기
- [ ] Excel (XLSX) 내보내기
- [ ] PDF 내보내기 (리포트용)

**내보내기 옵션**
- [ ] 전체 데이터 / 선택된 행만
- [ ] 현재 필터 적용 데이터
- [ ] 컬럼 선택 (내보낼 컬럼 지정)

##### 공통 컴포넌트
**기본 컴포넌트**
- [ ] 버튼 (Primary, Secondary, Danger, 아이콘 버튼 등)
- [ ] 입력 폼 (텍스트, 숫자, 비밀번호, 텍스트영역 등)
- [ ] 테이블/그리드
- [ ] 모달/다이얼로그
- [ ] 알림 (Toast/Notification)
- [ ] 탭
- [ ] 카드

**확장 컴포넌트**
- [ ] 차트 (라인, 바, 파이, 게이지 등)
- [ ] 날짜 선택기 (단일, 범위)
- [ ] 드롭다운/셀렉트
- [ ] 트리뷰
- [ ] 검색 박스
- [ ] 페이지네이션

**고급 컴포넌트**
- [ ] 파일 업로드 (드래그앤드롭 지원)
- [ ] 진행률 표시 (프로그레스바, 스피너)
- [ ] 배지
- [ ] 툴팁
- [ ] 브레드크럼
- [ ] 스테퍼 (단계 표시)

##### 테이블(그리드) 기능
**기본 기능**
- [ ] 컬럼 정렬 (오름차순/내림차순)
- [ ] 페이징 (페이지 크기 선택)
- [ ] 컬럼 리사이즈

**고급 기능**
- [ ] 컬럼별 필터링
- [ ] 컬럼 고정 (좌측/우측)
- [ ] 행 선택 (단일/다중)
- [ ] 엑셀 내보내기

**전문가 기능**
- [ ] 셀 인라인 편집
- [ ] 행 드래그 앤 드롭 (순서 변경)
- [ ] 행 그룹핑
- [ ] 가상 스크롤 (대용량 데이터)

##### 화면 템플릿
**기본 템플릿**
- [ ] 목록(조회) 화면 - 검색 조건 + 그리드
- [ ] 상세 화면 - 정보 표시
- [ ] 입력/수정 폼 화면

**확장 템플릿**
- [ ] 대시보드 화면 - 위젯 기반 레이아웃
- [ ] 마스터-디테일 화면 - 상위 선택 시 하위 표시
- [ ] 팝업 화면 - 모달 기반

**고급 템플릿**
- [ ] 마법사(Wizard) 화면 - 단계별 진행
- [ ] 분할(Split) 화면 - 좌우/상하 분할
- [ ] 비교 화면 - 두 데이터 비교

##### 화면 템플릿 샘플 (검증용)
> 화면 템플릿의 기능 검증을 위한 샘플 화면. 데이터는 JSON 파일에서 로드.

**기본 템플릿 샘플**
- [ ] 사용자 목록 - 목록(조회) 화면 템플릿 검증
  - 검색 조건: 이름, 이메일, 상태
  - 그리드: 사용자 목록 표시 (정렬, 페이징, 필터링)
- [ ] 사용자 상세 - 상세 화면 템플릿 검증
  - 사용자 기본 정보 표시
  - 관련 정보 탭 (활동 이력, 권한 등)
- [ ] 사용자 등록/수정 - 입력/수정 폼 템플릿 검증
  - 다양한 입력 필드 (텍스트, 셀렉트, 날짜, 체크박스 등)
  - 유효성 검사 표시

**확장 템플릿 샘플**
- [ ] 샘플 대시보드 - 대시보드 화면 템플릿 검증
  - KPI 카드 위젯 (숫자, 증감률)
  - 차트 위젯 (라인, 바, 파이)
  - 최근 활동 위젯
- [ ] 카테고리-제품 - 마스터-디테일 화면 템플릿 검증
  - 좌측: 카테고리 목록 (트리 또는 리스트)
  - 우측: 선택된 카테고리의 제품 목록
- [ ] 항목 선택 팝업 - 팝업 화면 템플릿 검증
  - 모달 내 검색 및 목록
  - 선택 후 부모 화면에 값 전달

**고급 템플릿 샘플**
- [ ] 설정 마법사 - 마법사(Wizard) 화면 템플릿 검증
  - 4단계 진행: 기본정보 → 상세설정 → 확인 → 완료
  - 단계별 유효성 검사
  - 이전/다음 네비게이션
- [ ] 코드 편집기 - 분할(Split) 화면 템플릿 검증
  - 좌측: 파일 트리
  - 우측: 에디터 영역
  - 분할 바 드래그로 크기 조절
- [ ] 버전 비교 - 비교 화면 템플릿 검증
  - 두 버전의 데이터를 좌우로 표시
  - 차이점 하이라이트

**특수 패턴 샘플**
- [ ] 설비 모니터링 카드뷰 - 카드뷰 패턴 검증
  - 설비 상태 카드 그리드 (가동/정지/고장/점검)
  - 상태별 색상 구분 (녹색/회색/빨강/노랑)
  - 카드 클릭 시 상세 정보 Drawer
  - 실시간 상태 갱신 시뮬레이션
- [ ] 작업 일정 캘린더 - 캘린더 패턴 검증
  - 월간/주간/일간 뷰 전환
  - 작업 일정 색상 구분 표시
  - 일정 클릭 시 상세 팝업
  - 새 일정 추가 모달
- [ ] 품질 검사 입력 폼 - 동적 폼 패턴 검증
  - 검사 유형 선택 시 동적 필드 렌더링
  - 반복 항목 추가/삭제 (Form.List)
  - 조건부 필드 표시 (불량 시 사유 입력 등)
  - 파일 첨부 (이미지 업로드)
- [ ] 조직/부서 트리 - 트리 관리 패턴 검증
  - 계층형 트리 구조 표시
  - 노드 추가/수정/삭제 (컨텍스트 메뉴)
  - 드래그 앤 드롭으로 위치 이동
  - 검색 및 필터링
- [ ] 생산 계획 간트 차트 - 간트/타임라인 패턴 검증
  - 타임라인 형태의 일정 표시
  - 작업 항목 바 (시작일~종료일)
  - 확대/축소 (일/주/월 단위)
  - 진행률 표시

#### 4.1.2 대시보드
- [ ] 실시간 생산 현황 요약
- [ ] 주요 KPI 지표 표시 (가동률, 불량률, 생산량)
- [ ] 라인별/설비별 상태 표시

#### 4.1.3 생산 관리
- [ ] 작업 지시 조회/등록
- [ ] 생산 실적 입력
- [ ] 생산 이력 조회

#### 4.1.4 사용자 관리 (공통)
- [ ] 로그인/로그아웃
- [ ] 권한별 메뉴 접근 제어

### 4.2 확장 기능 (Phase 2)
- [ ] 품질 관리 (검사 결과, 불량 관리, 품질 통계)
- [ ] 설비 관리 (설비 모니터링, 가동 이력, 유지보수)
- [ ] 알림/경고 시스템
- [ ] 리포트 생성 및 내보내기
- [ ] 데이터 분석 및 예측
- [ ] 외부 시스템 연동 (ERP, SCM)

---

## 5. 비기능 요구사항

### 5.1 성능
- 페이지 로딩 시간: 3초 이내
- 실시간 데이터 갱신 주기: 5초 이내
- 동시 접속자: 100명 이상 지원

### 5.2 보안
- HTTPS 통신 필수
- JWT 기반 인증
- 역할 기반 접근 제어 (RBAC)

### 5.3 가용성
- 시스템 가용성: 99.5% 이상
- 장애 복구 시간: 4시간 이내

### 5.4 호환성
- 브라우저: Chrome, Edge, Safari 최신 버전
- 반응형: 데스크톱, 태블릿, 모바일 지원

---

## 6. 제약사항

- TBD (추후 구체화 필요)

---

## 7. 용어 정의

| 용어 | 설명 |
|------|------|
| MES | Manufacturing Execution System, 제조실행시스템 |
| MDI | Multiple Document Interface, 다중 문서 인터페이스 (탭 기반 멀티 화면) |
| KPI | Key Performance Indicator, 핵심성과지표 |
| OEE | Overall Equipment Effectiveness, 설비종합효율 |

---

## 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 0.1 | 2026-01-20 | - | 초안 작성 |
| 0.2 | 2026-01-20 | - | MDI 인터페이스, DB 기반 동적 메뉴 요구사항 추가 |
| 0.3 | 2026-01-20 | - | MVP 화면 범위 조정 (대시보드, 생산 관리) |
| 0.4 | 2026-01-20 | - | UI/UX 프레임워크 UI 설계 요구사항 추가 (레이아웃, 디자인 시스템, 공통 컴포넌트, 화면 템플릿, 테이블 기능) |
| 0.5 | 2026-01-20 | - | 화면 템플릿 샘플(검증용) 요구사항 추가, 기술 스택/마일스톤 섹션 삭제 |
| 0.6 | 2026-01-20 | - | 포털 화면 설계 추가 (레이아웃 다이어그램, 헤더/사이드바/탭바/컨텐츠/푸터 상세 요구사항) |
| 0.7 | 2026-01-20 | - | UI 요소 추가 (폼 검증, 로딩/에러 상태, 확인 다이얼로그, 키보드/접근성, 컨텍스트 메뉴, 도움말, 사용자 설정, 데이터 내보내기) |
| 0.8 | 2026-01-22 | - | 특수 패턴 샘플 5종 추가 (설비 모니터링 카드뷰, 작업 일정 캘린더, 품질 검사 입력 폼, 조직/부서 트리, 생산 계획 간트 차트) |
