# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **목적**: PRD → 설계 → 테스트 양방향 추적

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-01-01 |
| Task명 | 레이아웃 컴포넌트 구조 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | AI |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 포털 화면 설계 | 5.2 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 사이드바 메뉴 | 6.1 | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 반응형 지원 | 5.3 | UT-003 | E2E-003 | TC-003 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 전체 레이아웃 구조

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 포털 화면 설계 - 전체 레이아웃 구조 |
| 설계 | 010-design.md | 5.2 | 화면별 상세 - 포털 레이아웃 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: PortalLayout 렌더링 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 레이아웃 표시 확인 |

#### FR-002: 사이드바 접기/펼치기

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 사이드바 메뉴 - 접이식 토글 |
| 설계 | 010-design.md | 6.1 | 사이드바 토글 인터랙션 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002: 사이드바 토글 상태 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 사이드바 토글 동작 |

#### FR-003: 반응형 동작

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 5.4 | 반응형: 데스크톱, 태블릿, 모바일 지원 |
| 설계 | 010-design.md | 5.3 | 반응형 동작 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: breakpoint 반응 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 반응형 레이아웃 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 | LayoutContext | UT-004 | 사이드바 상태 localStorage 저장 확인 | 설계완료 |
| BR-002 | 4.1.1 | 8.1 | PortalLayout | UT-005 | 모바일에서 기본 접힘 상태 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 사이드바 상태 세션 간 유지

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 사이드바 상태는 페이지 새로고침/재접속 시 유지 |
| **설계 표현** | collapsed 상태를 localStorage에 저장 |
| **구현 위치** | LayoutContext / useLocalStorage 훅 |
| **검증 방법** | 새로고침 후 사이드바 상태 유지 확인 |
| **관련 테스트** | UT-004, E2E-004 |

#### BR-002: 모바일 기본 접힘 상태

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 화면 너비 767px 이하에서 사이드바 기본 접힘 |
| **설계 표현** | breakpoint 감지 후 collapsed 상태 자동 설정 |
| **구현 위치** | PortalLayout 컴포넌트 |
| **검증 방법** | 모바일 뷰포트에서 초기 상태 확인 |
| **관련 테스트** | UT-005, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | - | BR-001 | 미실행 |
| UT-005 | 단위 | - | BR-002 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | BR-002 | 미실행 |
| E2E-004 | E2E | - | BR-001 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 이 Task는 UI 컴포넌트로 별도 데이터 모델이 없음

| 설계 엔티티 | 상태 타입 | 저장 위치 |
|------------|----------|----------|
| LayoutState | `{ collapsed: boolean, breakpoint: string }` | React State + localStorage |

---

## 5. 인터페이스 추적

> 이 Task는 API 인터페이스가 없음 (프론트엔드 컴포넌트)

---

## 6. 화면 추적

| 설계 화면 | 컴포넌트 | 경로 | 요구사항 |
|----------|----------|------|----------|
| 포털 레이아웃 | PortalLayout | `components/layout/PortalLayout.tsx` | FR-001, FR-002, FR-003 |
| 헤더 슬롯 | Header (placeholder) | `components/layout/Header.tsx` | - |
| 사이드바 슬롯 | Sidebar (placeholder) | `components/layout/Sidebar.tsx` | - |
| 푸터 슬롯 | Footer (placeholder) | `components/layout/Footer.tsx` | - |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 3 | 3 | 0 | 100% |
| 비즈니스 규칙 (BR) | 2 | 2 | 0 | 100% |
| 단위 테스트 (UT) | 5 | 5 | 0 | 100% |
| E2E 테스트 | 4 | 4 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 3 | 3 | 0 | 100% |

### 7.2 미매핑 항목

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | 모두 매핑 완료 |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`
