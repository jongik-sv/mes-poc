# TDD 테스트 결과서 (070-tdd-test-results.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-21

> **목적**: Header 컴포넌트 단위 테스트 결과 기록

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-01-02 |
| Task명 | 헤더 컴포넌트 |
| 테스트 실행일 | 2026-01-21 10:25:46 |
| 테스트 프레임워크 | Vitest 4.0.17 |
| 환경 | jsdom |

---

## 1. 테스트 실행 요약

| 항목 | 값 |
|------|-----|
| 총 테스트 수 | 28 |
| 통과 | 28 |
| 실패 | 0 |
| 스킵 | 0 |
| 실행 시간 | 329ms |
| 결과 | ✅ PASS |

---

## 2. 커버리지 리포트

### 2.1 Header.tsx 커버리지

| 지표 | 커버리지 | 목표 | 상태 |
|------|----------|------|------|
| Statements | 100% | 80% | ✅ 달성 |
| Branches | 70% | 75% | ⚠️ 미달 |
| Functions | 100% | 85% | ✅ 달성 |
| Lines | 100% | 80% | ✅ 달성 |

### 2.2 미커버 라인

| 파일 | 라인 | 설명 |
|------|------|------|
| Header.tsx | 89-94 | 다크 테마 조건부 렌더링 브랜치 |
| Header.tsx | 196-199 | 프로필 렌더링 조건부 브랜치 |

> **Note:** 브랜치 커버리지 미달은 테마 상태(mounted 조건) 관련 브랜치로, E2E 테스트에서 보완됨

---

## 3. 테스트 케이스별 결과

### 3.1 UT-001: 로고 렌더링

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 로고 텍스트가 표시되어야 함 | ✅ 통과 | 67ms |
| 로고가 "/" 링크를 가져야 함 | ✅ 통과 | 8ms |

### 3.2 UT-002: 빠른 메뉴 드롭다운

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 빠른 메뉴 버튼이 표시되어야 함 | ✅ 통과 | 6ms |
| 빠른 메뉴 버튼에 별 아이콘이 있어야 함 | ✅ 통과 | 9ms |

### 3.3 UT-003: 브레드크럼 렌더링

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 브레드크럼 항목이 렌더링되어야 함 | ✅ 통과 | 12ms |
| 빈 브레드크럼도 렌더링 가능해야 함 | ✅ 통과 | 16ms |

### 3.4 UT-004: 시계 갱신

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 시계가 HH:mm:ss 형식으로 표시되어야 함 | ✅ 통과 | 7ms |
| 시계가 1초마다 갱신되어야 함 | ✅ 통과 | 10ms |

### 3.5 UT-005: 검색 버튼 클릭

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 검색 버튼 클릭 시 onSearchOpen 콜백이 호출되어야 함 | ✅ 통과 | 11ms |
| 검색 버튼에 title 속성이 있어야 함 | ✅ 통과 | 7ms |

### 3.6 UT-006: 알림 뱃지

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 알림 개수가 뱃지에 표시되어야 함 | ✅ 통과 | 7ms |
| 알림이 0개일 때 뱃지가 표시되지 않아야 함 | ✅ 통과 | 6ms |
| 알림 버튼 클릭 시 onNotificationOpen 콜백이 호출되어야 함 | ✅ 통과 | 7ms |

### 3.7 UT-007: 테마 토글

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 라이트 모드에서 달 아이콘이 표시되어야 함 | ✅ 통과 | 9ms |
| 테마 버튼 클릭 시 setTheme가 호출되어야 함 | ✅ 통과 | 11ms |

### 3.8 UT-008: 프로필 드롭다운

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 사용자 이름이 표시되어야 함 | ✅ 통과 | 7ms |
| 프로필 영역이 클릭 가능해야 함 | ✅ 통과 | 6ms |
| 로그아웃 메뉴 항목이 존재해야 함 | ✅ 통과 | 5ms |

### 3.9 비즈니스 규칙 테스트

| 테스트 ID | 규칙 | 상태 | 시간 |
|-----------|------|------|------|
| UT-009 | BR-001: 로고 링크 "/" 경로 | ✅ 통과 | 6ms |
| UT-010 | BR-002: 시계 1초 갱신 setInterval | ✅ 통과 | 10ms |
| UT-010 | BR-002: 언마운트 시 clearInterval | ✅ 통과 | 7ms |
| UT-011 | BR-003: 테마 setTheme 호출 | ✅ 통과 | 13ms |
| UT-012 | BR-004: 브레드크럼 props 렌더링 | ✅ 통과 | 5ms |
| UT-013 | BR-005: Ctrl+K 단축키 등록 | ✅ 통과 | 4ms |
| UT-013 | BR-005: Ctrl+K 콜백 실행 | ✅ 통과 | 5ms |

### 3.10 접근성 테스트

| 테스트 | 상태 | 시간 |
|--------|------|------|
| 검색 버튼에 aria-label이 있어야 함 | ✅ 통과 | 5ms |
| 알림 버튼에 aria-label이 있어야 함 | ✅ 통과 | 7ms |
| 테마 버튼에 aria-label이 있어야 함 | ✅ 통과 | 5ms |

---

## 4. 요구사항 커버리지 매핑

| 요구사항 ID | 테스트 ID | 상태 |
|-------------|----------|------|
| FR-001 | UT-001, UT-009 | ✅ 커버 |
| FR-002 | UT-002 | ✅ 커버 |
| FR-003 | UT-003, UT-012 | ✅ 커버 |
| FR-004 | UT-004, UT-010 | ✅ 커버 |
| FR-005 | UT-005, UT-013 | ✅ 커버 |
| FR-006 | UT-006 | ✅ 커버 |
| FR-007 | UT-007, UT-011 | ✅ 커버 |
| FR-008 | UT-008 | ✅ 커버 |

---

## 5. 테스트-수정 루프 이력

| 시도 | 결과 | 수정 내역 |
|------|------|----------|
| 1차 | 27/28 통과 | 브레드크럼 data-testid 전달 이슈 |
| 2차 | 28/28 통과 | Breadcrumb wrapper div 추가 |

---

## 6. 커버리지 리포트 경로

- **HTML 리포트**: `test-results/20260121-102553/tdd/coverage/index.html`
- **JSON 리포트**: `test-results/20260121-102553/tdd/coverage/coverage-final.json`

---

## 7. 결론

Header 컴포넌트의 모든 단위 테스트가 통과되었습니다.
- Lines/Functions/Statements 커버리지 100% 달성
- 브랜치 커버리지 70% (SSR 호환 조건부 로직으로 인해 일부 미달, E2E에서 보완)
- 모든 기능 요구사항(FR) 및 비즈니스 규칙(BR)이 테스트됨

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- 추적성 매트릭스: `025-traceability-matrix.md`
