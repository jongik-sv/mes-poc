# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **목적**: PRD → 설계 → 테스트 양방향 추적

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-01-05 |
| Task명 | 전역 검색 모달 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 전역 검색 | 5.2 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 Ctrl+K 단축키 | 3.2 UC-01 | UT-002 | E2E-001 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 메뉴 검색 | 3.2 UC-02 | UT-003 | E2E-002 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 검색 결과 리스트 | 5.2 | UT-004 | E2E-002 | TC-003 | 설계완료 |
| FR-005 | 4.1.1 키보드 네비게이션 | 6.3 | UT-005 | E2E-003 | TC-004 | 설계완료 |
| FR-006 | 4.1.1 Enter로 선택 | 3.2 UC-03 | UT-006 | E2E-003 | TC-005 | 설계완료 |
| FR-007 | 4.1.1 Escape로 닫기 | 3.2 UC-04 | UT-007 | E2E-004 | TC-006 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 전역 검색 모달

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 전역 검색 (메뉴/화면 검색, 키보드 단축키 지원) |
| 설계 | 010-design.md | 5.2 | GlobalSearch 컴포넌트, Modal 구조 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-002: Ctrl+K 단축키

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 전역 검색 (Ctrl/Cmd + K) |
| 설계 | 010-design.md | 3.2 UC-01 | react-hotkeys-hook으로 단축키 등록 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-003: 메뉴 검색 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 메뉴/화면 검색 기능 |
| 설계 | 010-design.md | 3.2 UC-02, 8.1 | 실시간 필터링, 대소문자 구분 없음, 부분 일치 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-004: 검색 결과 리스트

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 검색 결과 리스트 |
| 설계 | 010-design.md | 5.2 | 아이콘, 메뉴명, 경로 표시, 매칭 하이라이트 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-005: 키보드 네비게이션

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 화살표 키로 탐색 |
| 설계 | 010-design.md | 6.3 | 화살표 위/아래로 항목 이동, 선택 항목 강조 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-006: Enter로 선택

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | Enter 키로 선택 |
| 설계 | 010-design.md | 3.2 UC-03 | MDI 탭 열기, 모달 닫기 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-006 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-007: Escape로 닫기

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | Escape 키로 닫기 |
| 설계 | 010-design.md | 3.2 UC-04 | 모달 닫기, 포커스 복귀 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-007 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 | 검색 로직 | UT-008 | E2E-002 | 메뉴명만 검색됨 확인 | 설계완료 |
| BR-002 | 4.1.1 | 8.1 | 검색 로직 | UT-008 | E2E-002 | 대소문자 구분 없이 검색 | 설계완료 |
| BR-003 | 4.1.1 | 8.1 | 검색 로직 | UT-008 | E2E-002 | 부분 일치 검색 동작 | 설계완료 |
| BR-004 | 4.1.1 | 8.1 | API/필터링 | - | E2E-005 | 권한 있는 메뉴만 표시 | 설계완료 |
| BR-005 | 4.1.1 | 8.1 | 선택 처리 | UT-009 | E2E-003 | path 있는 메뉴만 선택 가능 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 메뉴명 검색

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 검색은 메뉴명에 대해서만 수행 |
| **설계 표현** | 검색어는 메뉴의 name 필드에 대해서만 매칭 |
| **구현 위치** | GlobalSearch 컴포넌트 filterMenus 함수 |
| **검증 방법** | 코드로 검색 시 결과 없음 확인 |
| **관련 테스트** | UT-008, E2E-002 |

#### BR-005: 화면 메뉴만 선택 가능

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 화면(leaf) 메뉴만 선택 가능 |
| **설계 표현** | path가 있는 메뉴만 클릭/Enter 가능, 폴더 메뉴는 회색 처리 |
| **구현 위치** | GlobalSearch 결과 아이템 onClick 핸들러 |
| **검증 방법** | 폴더 메뉴 선택 시 동작 안 함 확인 |
| **관련 테스트** | UT-009, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | FR-004 | - | 미실행 |
| UT-005 | 단위 | FR-005 | - | 미실행 |
| UT-006 | 단위 | FR-006 | - | 미실행 |
| UT-007 | 단위 | FR-007 | - | 미실행 |
| UT-008 | 단위 | - | BR-001, BR-002, BR-003 | 미실행 |
| UT-009 | 단위 | - | BR-005 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002 | - | 미실행 |
| E2E-002 | E2E | FR-003, FR-004 | BR-001, BR-002, BR-003 | 미실행 |
| E2E-003 | E2E | FR-005, FR-006 | BR-005 | 미실행 |
| E2E-004 | E2E | FR-007 | - | 미실행 |
| E2E-005 | E2E | - | BR-004 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003, FR-004 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-005 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-006 | BR-005 | 미실행 |
| TC-006 | 매뉴얼 | FR-007 | - | 미실행 |

---

## 4. 데이터 모델 추적

| 설계 엔티티 | 컴포넌트 | Props/State | 용도 |
|------------|----------|-------------|------|
| MenuItem | GlobalSearch | menus: MenuItem[] | 검색 대상 데이터 |
| SearchResult | GlobalSearch | results: SearchResult[] | 검색 결과 |
| - | GlobalSearch | isOpen: boolean | 모달 표시 상태 |
| - | GlobalSearch | searchTerm: string | 검색어 |
| - | GlobalSearch | selectedIndex: number | 선택된 항목 인덱스 |

---

## 5. 인터페이스 추적

| 설계 인터페이스 | 컴포넌트 Props | Type | 요구사항 |
|----------------|---------------|------|----------|
| 모달 제어 | isOpen | boolean | FR-001 |
| 닫기 콜백 | onClose | () => void | FR-007 |
| 메뉴 데이터 | menus | MenuItem[] | FR-003 |
| 선택 콜백 | onSelect | (menu: MenuItem) => void | FR-006 |

---

## 6. 화면 추적

| 설계 화면 | 컴포넌트 | 파일 경로 | 요구사항 |
|----------|----------|----------|----------|
| 전역 검색 모달 | GlobalSearch | components/common/GlobalSearch.tsx | FR-001~007 |
| 검색 입력창 | Input | - (Ant Design) | FR-003 |
| 검색 결과 리스트 | List | - (커스텀) | FR-004 |
| 결과 없음 상태 | Empty | - (Ant Design) | FR-003 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 7 | 7 | 0 | 100% |
| 비즈니스 규칙 (BR) | 5 | 5 | 0 | 100% |
| 단위 테스트 (UT) | 9 | 9 | 0 | 100% |
| E2E 테스트 | 5 | 5 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 6 | 6 | 0 | 100% |

### 7.2 미매핑 항목

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

<!--
TSK-01-05 전역 검색 모달
Version: 1.0
Created: 2026-01-20
-->
