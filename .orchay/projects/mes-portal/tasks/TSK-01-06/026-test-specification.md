# 테스트 명세서 (026-test-specification.md)

**Task ID:** TSK-01-06 | **Task명:** 알림 패널 | **작성일:** 2026-01-20

---

## 1. 테스트 전략 개요

| 테스트 유형 | 범위 | 목표 커버리지 |
|------------|------|--------------|
| 단위 테스트 | NotificationPanel 컴포넌트 | 80% 이상 |
| E2E 테스트 | 알림 인터랙션 시나리오 | 100% |

---

## 2. 단위 테스트 시나리오

| 테스트 ID | 대상 | 시나리오 | 예상 결과 |
|-----------|------|----------|----------|
| UT-001 | 알림 아이콘 | 아이콘 렌더링 | BellOutlined 아이콘 표시 |
| UT-002 | 뱃지 | 읽지 않은 알림 개수 표시 | 뱃지에 숫자 표시, 0이면 숨김 |
| UT-003 | 패널 | 아이콘 클릭 시 패널 열기 | 드롭다운/Drawer 표시 |
| UT-004 | 목록 | 알림 목록 렌더링 | 제목, 설명, 시간 표시 |
| UT-005 | 읽음 처리 | 알림 클릭 시 읽음 | isRead=true, 뱃지 감소 |
| UT-006 | 화면 이동 | 알림 클릭 시 MDI 탭 열기 | openTab 호출 |
| UT-007 | 모두 읽음 | 버튼 클릭 | 모든 알림 읽음 처리 |
| UT-008 | 정렬 | 목록 정렬 | 최신순 (createdAt DESC) |
| UT-009 | 읽지 않은 알림 강조 | 시각적 구분 | ● vs ○ 또는 배경색 |
| UT-010 | 뱃지 최대 표시 | 100개 이상 | "99+" 표시 |

---

## 3. E2E 테스트 시나리오

| 테스트 ID | 시나리오 | 실행 단계 | 예상 결과 |
|-----------|----------|----------|----------|
| E2E-001 | 알림 아이콘 및 뱃지 | 로그인 후 확인 | 뱃지에 읽지 않은 알림 수 표시 |
| E2E-002 | 알림 패널 열기/목록 | 아이콘 클릭 | 패널 열림, 알림 목록 표시 |
| E2E-003 | 알림 클릭 및 이동 | 알림 항목 클릭 | 읽음 처리, 관련 화면 탭 열림 |
| E2E-004 | 모두 읽음 처리 | 버튼 클릭 | 모든 알림 읽음, 뱃지 0 |

---

## 4. data-testid 목록

| data-testid | 요소 | 용도 |
|-------------|------|------|
| `notification-icon` | 알림 아이콘 버튼 | 패널 열기 |
| `notification-badge` | 뱃지 | 읽지 않은 수 |
| `notification-panel` | 패널 컨테이너 | 패널 표시 확인 |
| `notification-list` | 알림 목록 | 목록 확인 |
| `notification-item` | 알림 아이템 | 각 알림 항목 |
| `notification-item-{id}` | 특정 알림 | 특정 알림 선택 |
| `mark-all-read-btn` | 모두 읽음 버튼 | 전체 읽음 처리 |
| `notification-empty` | 빈 상태 | 알림 없음 |

---

## 5. 테스트 데이터

```json
{
  "notifications": [
    { "id": "n1", "type": "error", "title": "설비 이상", "message": "A라인 온도 이상", "isRead": false, "createdAt": "2026-01-20T09:00:00Z", "link": "/equipment" },
    { "id": "n2", "type": "warning", "title": "작업 변경", "message": "수량 변경됨", "isRead": false, "createdAt": "2026-01-20T08:30:00Z", "link": "/work-order" },
    { "id": "n3", "type": "success", "title": "검사 완료", "message": "합격", "isRead": true, "createdAt": "2026-01-20T08:00:00Z" }
  ]
}
```

---

## 6. 테스트 커버리지 목표

| 대상 | 목표 | 최소 |
|------|------|------|
| Lines | 80% | 70% |
| Branches | 75% | 65% |
| Functions | 85% | 75% |
