# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-02-02 |
| Task명 | 탭 바 컴포넌트 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| PRD 참조 | `prd.md` 4.1.1 탭 바 (Tab Bar) |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 탭 아이템 | 5.2 화면1, 12.2 | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 활성 탭 강조 표시 | 5.3 탭 상태, 12.2 | UT-003 | E2E-001 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 탭 클릭 시 전환 | 3.2 UC-02, 12.1 | UT-004 | E2E-002 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 닫기 버튼 클릭 시 탭 닫기 | 3.2 UC-03, 12.2 | UT-005, UT-006 | E2E-003 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 탭 오버플로우 시 스크롤/드롭다운 | 3.2 UC-04, 5.2 화면2 | UT-007, UT-008 | E2E-004 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 탭 아이템 (아이콘 + 화면명 + 닫기 버튼)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 탭 바 | "탭 아이템: 아이콘 + 화면명 + 닫기(x) 버튼" |
| 설계 | 010-design.md | 5.2 화면1 | 탭 바 와이어프레임 - 기본 상태 |
| 기술 설계 | 010-design.md | 12.2 | TabItem 컴포넌트 구현 명세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: 탭 아이템 렌더링, UT-002: 아이콘/제목 표시 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 탭 목록 렌더링 |

#### FR-002: 활성 탭 강조 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 탭 바 | "활성 탭 강조 표시" |
| 설계 | 010-design.md | 5.3 | 탭 아이템 상태 (기본, 활성, 호버) |
| 인터랙션 | 010-design.md | 6.2 | 상태별 화면 변화 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: 활성 탭 스타일 적용 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 활성 탭 시각적 구분 |
| 매뉴얼 TC | 026-test-specification.md | 4.1 | TC-002: 활성 탭 시각적 구분 확인 |

#### FR-003: 탭 클릭 시 전환

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 MDI | "여러 화면 동시 열기 및 전환" |
| 설계 | 010-design.md | 3.2 UC-02 | 탭 전환 유즈케이스 |
| 기술 설계 | 010-design.md | 12.1 | handleTabClick 함수 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004: 탭 클릭 시 setActiveTab 호출 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 탭 전환 동작 |
| 매뉴얼 TC | 026-test-specification.md | 4.1 | TC-003: 탭 클릭 전환 확인 |

#### FR-004: 닫기 버튼 클릭 시 탭 닫기

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 MDI | "탭 닫기 (개별/전체/다른 탭 닫기)" |
| 설계 | 010-design.md | 3.2 UC-03 | 탭 닫기 유즈케이스 |
| 기술 설계 | 010-design.md | 12.1-12.2 | handleTabClose 함수, closable 속성 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005: 닫기 버튼 클릭 시 closeTab 호출, UT-006: closable=false 처리 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 탭 닫기 동작 |
| 매뉴얼 TC | 026-test-specification.md | 4.1 | TC-004: 닫기 버튼 동작 확인 |

#### FR-005: 탭 오버플로우 시 스크롤 또는 드롭다운

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 탭 바 | "탭이 많을 경우 좌우 스크롤 또는 드롭다운" |
| 설계 | 010-design.md | 3.2 UC-04 | 오버플로우 처리 유즈케이스 |
| 화면 설계 | 010-design.md | 5.2 화면2 | 오버플로우 상태 와이어프레임 |
| 기술 설계 | 010-design.md | 12.1 | scroll 함수, showLeftScroll/showRightScroll 상태 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-007: 스크롤 버튼 표시, UT-008: 드롭다운 메뉴 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004: 오버플로우 스크롤 |
| 매뉴얼 TC | 026-test-specification.md | 4.1 | TC-005: 탭 개수 초과 시 스크롤 표시 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 MDI | 8.1 BR-01 | closeTab 로직 | UT-009 | E2E-005 | 마지막 탭 닫기 시도 시 차단/홈 이동 확인 | 설계완료 |
| BR-002 | 4.1.1 MDI | 8.1 BR-04 | openTab 로직 | UT-010 | E2E-006 | 최대 탭 개수 초과 시 경고 메시지 확인 | 설계완료 |
| BR-003 | 4.1.1 MDI | 8.1 BR-02 | closeTab 로직 | UT-011 | E2E-003 | 활성 탭 닫기 시 인접 탭 활성화 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 마지막 탭은 닫을 수 없거나 닫으면 홈으로 이동

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 탭 닫기 - 마지막 탭 보호 (암묵적 요구) |
| **설계 표현** | 010-design.md 8.2 BR-01: 마지막 탭은 닫을 수 없음 |
| **구현 위치** | MDI Context closeTab 함수 내 조건 검사 |
| **검증 방법** | 탭 1개 남았을 때 닫기 버튼 비활성화 또는 홈 탭 유지 확인 |
| **관련 테스트** | UT-009, E2E-005 |

#### BR-002: 탭 최대 개수 제한 (예: 10개)

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "최대 탭 개수 제한 설정" |
| **설계 표현** | 010-design.md 8.2 BR-04: 최대 탭 개수 제한 |
| **구현 위치** | MDI Context openTab 함수 내 개수 검사 |
| **검증 방법** | 10개 초과 탭 열기 시도 시 경고 메시지 표시 확인 |
| **관련 테스트** | UT-010, E2E-006 |

#### BR-003: 탭 전환 시 기존 탭 상태 유지

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "화면 상태 유지 (탭 전환 시 데이터 보존)" |
| **설계 표현** | 010-design.md 8.2 BR-02: 활성 탭 닫기 시 인접 탭 활성화 |
| **구현 위치** | MDI Context closeTab 함수 - 인접 탭 전환 로직 |
| **검증 방법** | 활성 탭 닫기 후 인접 탭(우측 우선)으로 자동 전환 확인 |
| **관련 테스트** | UT-011, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-001 | - | 미실행 |
| UT-003 | 단위 | FR-002 | - | 미실행 |
| UT-004 | 단위 | FR-003 | - | 미실행 |
| UT-005 | 단위 | FR-004 | - | 미실행 |
| UT-006 | 단위 | FR-004 | - | 미실행 |
| UT-007 | 단위 | FR-005 | - | 미실행 |
| UT-008 | 단위 | FR-005 | - | 미실행 |
| UT-009 | 단위 | - | BR-001 | 미실행 |
| UT-010 | 단위 | - | BR-002 | 미실행 |
| UT-011 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002 | - | 미실행 |
| E2E-002 | E2E | FR-003 | - | 미실행 |
| E2E-003 | E2E | FR-004 | BR-003 | 미실행 |
| E2E-004 | E2E | FR-005 | - | 미실행 |
| E2E-005 | E2E | - | BR-001 | 미실행 |
| E2E-006 | E2E | - | BR-002 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 설계 엔티티 → 구현 모델 매핑

| 설계 엔티티 | 구현 위치 | 타입 정의 | 용도 |
|-------------|----------|----------|------|
| Tab | lib/mdi/types.ts | Tab interface | 탭 정보 (id, title, path, icon, closable) |
| MDIContextValue | lib/mdi/context.tsx | MDIContextValue interface | MDI 상태 및 함수 제공 |
| TabBarState | components/mdi/TabBar.tsx | 로컬 상태 | 스크롤 버튼 표시 상태 관리 |

---

## 5. 인터페이스 추적

> 설계 인터페이스 요구사항 → 구현 함수/컴포넌트 매핑

| 설계 인터페이스 | 구현 위치 | 타입 | 요구사항 |
|----------------|----------|------|----------|
| setActiveTab | lib/mdi/context.tsx | (tabId: string) => void | FR-003 |
| closeTab | lib/mdi/context.tsx | (tabId: string) => void | FR-004 |
| handleTabClick | components/mdi/TabBar.tsx | (tabId: string) => void | FR-003 |
| handleTabClose | components/mdi/TabBar.tsx | (tabId: string, e: React.MouseEvent) => void | FR-004 |
| scroll | components/mdi/TabBar.tsx | (direction: 'left' \| 'right') => void | FR-005 |

---

## 6. 화면 추적

> 설계 화면 요구사항 → 컴포넌트 매핑

| 화면 ID | 설계 화면 | 컴포넌트 | 요구사항 |
|---------|----------|----------|----------|
| SCR-TAB-01 | 탭 바 (기본 상태) | TabBar.tsx | FR-001, FR-002 |
| SCR-TAB-02 | 탭 바 (오버플로우 상태) | TabBar.tsx + 스크롤 버튼 | FR-005 |
| SCR-TAB-03 | 탭 아이템 (비활성) | TabItem.tsx | FR-001 |
| SCR-TAB-04 | 탭 아이템 (활성) | TabItem.tsx (isActive=true) | FR-002 |
| SCR-TAB-05 | 탭 아이템 (호버) | TabItem.tsx (:hover) | FR-001 |
| SCR-TAB-06 | 탭 아이템 (닫기 불가) | TabItem.tsx (closable=false) | FR-004 |
| SCR-TAB-07 | 탭 드롭다운 메뉴 | Dropdown (Ant Design) | FR-005 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 11 | 11 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |
| 화면 (SCR) | 7 | 7 | 0 | 100% |

### 7.2 요구사항-테스트 커버리지 매트릭스

| 요구사항 | UT | E2E | TC | 총 테스트 |
|----------|-----|------|-----|----------|
| FR-001 | 2 | 1 | 1 | 4 |
| FR-002 | 1 | 1 | 1 | 3 |
| FR-003 | 1 | 1 | 1 | 3 |
| FR-004 | 2 | 1 | 1 | 4 |
| FR-005 | 2 | 1 | 1 | 4 |
| BR-001 | 1 | 1 | - | 2 |
| BR-002 | 1 | 1 | - | 2 |
| BR-003 | 1 | 1 | - | 2 |

### 7.3 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- UI 설계: `011-ui-design.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

<!--
TSK-02-02 Traceability Matrix
Version: 1.0
Created: 2026-01-20
-->
