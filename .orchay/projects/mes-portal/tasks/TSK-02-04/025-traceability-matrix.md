# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-02-04 |
| Task명 | 탭 컨텍스트 메뉴 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 탭 우클릭 | 5.2, 12.1 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 닫기 메뉴 | 3.2 UC-01, 8.1 | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 다른 탭 모두 닫기 | 3.2 UC-02, 8.1 | UT-003 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 오른쪽 탭 모두 닫기 | 3.2 UC-03, 8.1 | UT-004 | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 새로고침 | 3.2 UC-04, 8.1 | UT-005 | E2E-005 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 탭 우클릭 시 컨텍스트 메뉴 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 탭 우클릭 컨텍스트 메뉴 |
| 설계 | 010-design.md | 5.2 | 화면별 상세 - 탭 컨텍스트 메뉴 |
| 컴포넌트 | 010-design.md | 12.1 | TabContextMenu 컴포넌트 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-002: 현재 탭 닫기

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 닫기 메뉴 항목 |
| 설계 | 010-design.md | 3.2 UC-01 | 유즈케이스 - 현재 탭 닫기 |
| 비즈니스 규칙 | 010-design.md | 8.1 | BR-01 (closable 속성 준수) |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-003: 다른 탭 모두 닫기

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 다른 탭 모두 닫기 메뉴 항목 |
| 설계 | 010-design.md | 3.2 UC-02 | 유즈케이스 - 다른 탭 모두 닫기 |
| 비즈니스 규칙 | 010-design.md | 8.1 | BR-01 (closable=false 탭 보존) |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-004: 오른쪽 탭 모두 닫기

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 오른쪽 탭 모두 닫기 메뉴 항목 |
| 설계 | 010-design.md | 3.2 UC-03 | 유즈케이스 - 오른쪽 탭 모두 닫기 |
| 비즈니스 규칙 | 010-design.md | 8.1 | BR-01 (closable=false 탭 보존) |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004 |

#### FR-005: 탭 새로고침

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 새로고침 메뉴 항목 |
| 설계 | 010-design.md | 3.2 UC-04 | 유즈케이스 - 현재 탭 새로고침 |
| 비즈니스 규칙 | 010-design.md | 8.1 | BR-03 (화면 리마운트) |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 | TabContextMenu | UT-006 | E2E-006 | closable=false 탭 닫기 불가 확인 | 설계완료 |
| BR-002 | 4.1.1 | 8.1 | MDI Context | UT-007 | E2E-007 | 탭 닫힘 후 인접 탭 활성화 확인 | 설계완료 |
| BR-003 | 4.1.1 | 8.1 | MDI Context | UT-005 | E2E-005 | 새로고침 시 컴포넌트 리마운트 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: closable 속성 준수

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 탭 닫기 (개별/전체/다른 탭 닫기) |
| **설계 표현** | closable=false인 탭은 닫을 수 없음 |
| **구현 위치** | TabContextMenu - 메뉴 항목 disabled 처리 |
| **검증 방법** | closable=false 탭 우클릭 시 "닫기" 비활성화 확인 |
| **관련 테스트** | UT-006, E2E-006 |

#### BR-002: 탭 닫힘 후 활성화 규칙

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 화면 상태 유지 (탭 전환 시 데이터 보존) |
| **설계 표현** | 현재 탭이 닫히면 인접 탭 활성화 |
| **구현 위치** | MDI Context - closeTab, closeOtherTabs, closeRightTabs |
| **검증 방법** | 탭 닫기 후 올바른 탭 활성화 확인 |
| **관련 테스트** | UT-007, E2E-007 |

#### BR-003: 새로고침 동작

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 새로고침 메뉴 항목 |
| **설계 표현** | 새로고침은 화면 컴포넌트를 리마운트 |
| **구현 위치** | MDI Context - refreshTab |
| **검증 방법** | 새로고침 시 화면 초기 상태 확인 |
| **관련 테스트** | UT-005, E2E-005 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | FR-004 | - | 미실행 |
| UT-005 | 단위 | FR-005 | BR-003 | 미실행 |
| UT-006 | 단위 | - | BR-001 | 미실행 |
| UT-007 | 단위 | - | BR-002 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | - | 미실행 |
| E2E-004 | E2E | FR-004 | - | 미실행 |
| E2E-005 | E2E | FR-005 | BR-003 | 미실행 |
| E2E-006 | E2E | - | BR-001 | 미실행 |
| E2E-007 | E2E | - | BR-002 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 설계 엔티티 → 컴포넌트 State → Props 매핑

| 설계 엔티티 | 컴포넌트 State/Props | 타입 |
|------------|---------------------|------|
| Tab | tabs: Tab[] | `{ id: string, title: string, path: string, icon: string, closable: boolean }` |
| ContextMenu | contextMenuState | `{ targetTabId: string, x: number, y: number, visible: boolean }` |

---

## 5. 인터페이스 추적

> 설계 인터페이스 → MDI Context 함수 매핑

| 설계 인터페이스 | MDI Context 함수 | 요구사항 |
|----------------|-----------------|----------|
| 탭 닫기 | closeTab(tabId: string) | FR-002 |
| 다른 탭 모두 닫기 | closeOtherTabs(tabId: string) | FR-003 |
| 오른쪽 탭 모두 닫기 | closeRightTabs(tabId: string) | FR-004 |
| 탭 새로고침 | refreshTab(tabId: string) | FR-005 |

---

## 6. 화면 추적

> 설계 화면 → 컴포넌트 매핑

| 설계 화면 | 컴포넌트 | 요구사항 |
|----------|----------|----------|
| 탭 컨텍스트 메뉴 | TabContextMenu.tsx | FR-001 |
| 탭 바 (통합) | TabBar.tsx | FR-001~005 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 7 | 7 | 0 | 100% |
| E2E 테스트 | 7 | 7 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-20 | Claude | 최초 작성 |
