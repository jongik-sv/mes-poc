# TSK-02-05 요구사항 추적 매트릭스

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-02-05 |
| 문서 버전 | 1.0 |
| 작성일 | 2026-01-20 |

---

## 1. PRD → 설계 추적

### 1.1 기능 요구사항 매핑

| PRD 요구사항 | PRD 섹션 | 설계 문서 섹션 | 구현 컴포넌트 | 상태 |
|-------------|----------|---------------|--------------|------|
| 탭 바 아래 전체 영역 | 4.1.1 컨텐츠 영역 | 5.2 화면별 상세 | MDIContent.tsx | 설계완료 |
| 활성화된 탭의 화면 내용 표시 | 4.1.1 컨텐츠 영역 | UC-01, 3.2 | MDIContent.tsx | 설계완료 |
| 비활성 탭 화면 상태 유지 | 4.1.1 컨텐츠 영역 | UC-02, BR-01 | TabPane.tsx | 설계완료 |
| 스크롤: 컨텐츠 영역 내부에서만 | 4.1.1 컨텐츠 영역 | 5.2 와이어프레임 | MDIContent.tsx | 설계완료 |

### 1.2 WBS 요구사항 매핑

| WBS 요구사항 | 설계 문서 섹션 | 구현 컴포넌트 | 상태 |
|-------------|---------------|--------------|------|
| 활성 탭의 화면 렌더링 | UC-01, 5.2 | MDIContent.tsx | 설계완료 |
| 비활성 탭 화면 상태 유지 (display:none) | UC-02, BR-01 | TabPane.tsx | 설계완료 |
| 동적 컴포넌트 로딩 | UC-03, BR-02 | ScreenLoader.tsx | 설계완료 |

---

## 2. 설계 → 테스트 추적

### 2.1 유즈케이스 → 테스트 케이스 매핑

| 유즈케이스 | 테스트 케이스 ID | 테스트 유형 | 테스트 명세 참조 |
|-----------|-----------------|------------|-----------------|
| UC-01: 활성 탭 화면 표시 | TC-01-01 | 단위 | 026-test-specification.md |
| UC-01: 활성 탭 화면 표시 | TC-01-02 | E2E | 026-test-specification.md |
| UC-02: 탭 전환 시 상태 유지 | TC-02-01 | 단위 | 026-test-specification.md |
| UC-02: 탭 전환 시 상태 유지 | TC-02-02 | E2E | 026-test-specification.md |
| UC-03: 화면 동적 로딩 | TC-03-01 | 단위 | 026-test-specification.md |
| UC-03: 화면 동적 로딩 | TC-03-02 | 통합 | 026-test-specification.md |

### 2.2 비즈니스 규칙 → 테스트 케이스 매핑

| 비즈니스 규칙 | 테스트 케이스 ID | 검증 방법 |
|--------------|-----------------|----------|
| BR-01: 비활성 탭 unmount 금지 | TC-BR-01 | DOM 검사로 비활성 탭 요소 존재 확인 |
| BR-02: 동적 import 사용 | TC-BR-02 | 코드 스플리팅 청크 생성 확인 |
| BR-03: 탭 없으면 빈 상태 표시 | TC-BR-03 | Empty 컴포넌트 렌더링 확인 |
| BR-04: 잘못된 경로 시 404 | TC-BR-04 | ScreenNotFound 렌더링 확인 |
| BR-05: 최대 탭 개수 10개 제한 | TC-BR-05, E2E-06 | 11번째 탭 열기 시 알림 표시, 탭 열리지 않음 |
| BR-06: 화면 레벨 권한 검사 | TC-BR-06 | 권한 없는 화면 접근 시 에러 표시 |
| BR-07: screenRegistry 불변성 | TC-BR-07 | Object.isFrozen 확인 |

### 2.3 에러 케이스 → 테스트 케이스 매핑

| 에러 상황 | 테스트 케이스 ID | 기대 결과 |
|----------|-----------------|----------|
| 컴포넌트 로딩 실패 | TC-ERR-01 | 에러 폴백 UI 표시 |
| 화면 경로 없음/권한 없음 | TC-ERR-02 | 통일된 에러 메시지 표시 (경로 열거 공격 방지) |
| 렌더링 오류 | TC-ERR-03 | 해당 탭만 ErrorBoundary 폴백 표시, 다른 탭 정상 |

### 2.4 보안 요구사항 → 테스트 케이스 매핑

| 보안 요구사항 | OWASP | 테스트 케이스 ID | 검증 방법 |
|--------------|-------|-----------------|----------|
| 경로 화이트리스트 검증 | A03:2021 Injection | TC-SEC-01 | path traversal 시도 거부 확인 |
| 화면 레벨 권한 검사 | A01:2021 Broken Access Control | TC-BR-06 | 권한 없는 화면 접근 차단 확인 |
| screenRegistry 불변성 | A08:2021 Software Integrity | TC-BR-07 | Object.isFrozen 확인 |
| 에러 메시지 통일화 | A05:2021 Security Misconfiguration | TC-ERR-02 | 화면 없음/권한 없음 구분 안 함 확인 |

### 2.5 스크롤/레이아웃 → 테스트 케이스 매핑

| 요구사항 | 출처 | 테스트 케이스 ID | 검증 방법 |
|----------|------|-----------------|----------|
| 스크롤: 컨텐츠 영역 내부에서만 | PRD 4.1.1 | TC-SCROLL-01, E2E-08 | overflow 스타일 적용, 헤더/사이드바 고정 확인 |
| 반응형 레이아웃 | 설계 5.4 | E2E-07 | 뷰포트별 레이아웃 적응 확인 |

---

## 3. 시나리오 → 테스트 추적

### 3.1 사용자 시나리오 → E2E 테스트 매핑

| 시나리오 | 시나리오 번호 | E2E 테스트 ID | 검증 항목 |
|---------|-------------|--------------|----------|
| 다중 화면 작업 | 4.1 | E2E-01 | 탭 전환 시 필터 상태 유지 |
| 폼 입력 중 탭 전환 | 4.2 | E2E-02 | 탭 전환 시 폼 입력 값 유지 |
| 화면 처음 로딩 | 4.3 | E2E-03 | 로딩 스피너 표시 후 화면 렌더링 |
| 최대 탭 제한 도달 | - | E2E-06 | 11번째 탭 열기 시 알림 및 차단 |
| 반응형 레이아웃 | - | E2E-07 | 다양한 뷰포트에서 레이아웃 적응 |
| 스크롤 동작 | - | E2E-08 | 컨텐츠 스크롤 시 헤더/사이드바 고정 |

---

## 4. 컴포넌트 → 테스트 추적

### 4.1 컴포넌트별 테스트 커버리지

| 컴포넌트 | 단위 테스트 | 통합 테스트 | E2E 테스트 |
|---------|-----------|-----------|-----------|
| MDIContent.tsx | TC-01-01, TC-01-02, TC-BR-01, TC-BR-03, TC-BR-05, TC-SCROLL-01, TC-ERR-03 | TC-03-02 | E2E-01, E2E-02, E2E-04, E2E-06, E2E-07, E2E-08 |
| TabPane.tsx | TC-02-01, TC-02-02, TC-BR-01, TC-ERR-03 | - | E2E-02 |
| ScreenLoader.tsx | TC-03-01, TC-03-02, TC-BR-02, TC-BR-06, TC-ERR-01, TC-ERR-02, TC-SEC-01 | TC-03-02 | E2E-03, E2E-05 |
| ScreenNotFound.tsx | TC-ERR-02 | - | E2E-05 |
| screenRegistry.ts | TC-BR-04, TC-BR-07 | - | - |

---

## 5. 수용 기준 추적

### 5.1 WBS 수용 기준 → 테스트 매핑

| WBS 수용 기준 | 테스트 케이스 | 검증 방법 |
|-------------|--------------|----------|
| 활성 탭 화면만 표시 | TC-01-01, E2E-01 | 활성 탭 컨텐츠만 visible 확인 |
| 탭 전환 시 이전 화면 상태 유지 | TC-02-01, E2E-02 | 폼 입력 값/필터 상태 확인 |
| 화면 컴포넌트 동적 import | TC-03-01, TC-BR-02 | 청크 파일 분리 확인 |
| 최대 탭 개수 10개 제한 | TC-BR-05, E2E-06 | 11번째 탭 열기 차단 확인 |
| 화면 레벨 권한 검사 | TC-BR-06 | 권한 없는 화면 접근 차단 |
| 탭별 에러 격리 | TC-ERR-03 | 하나의 탭 에러가 다른 탭에 영향 없음 |
| 스크롤 영역 제한 | TC-SCROLL-01, E2E-08 | 컨텐츠 영역 내부에서만 스크롤 |

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-20 | Claude | 최초 작성 |
| 1.1 | 2026-01-20 | Claude | 설계 리뷰 반영 - BR-05~07, 보안/스크롤/레이아웃 추적 추가, 커버리지 업데이트 |
