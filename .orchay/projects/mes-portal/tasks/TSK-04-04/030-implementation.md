# êµ¬í˜„ ë³´ê³ ì„œ - TSK-04-04 ë¡œê·¸ì¸ í˜ì´ì§€

**Template Version:** 2.0.0 â€” **Last Updated:** 2026-01-22

---

## 0. ë¬¸ì„œ ë©”íƒ€ë°ì´í„°

* **ë¬¸ì„œëª…**: `030-implementation.md`
* **Task ID**: TSK-04-04
* **Task ëª…**: ë¡œê·¸ì¸ í˜ì´ì§€
* **ì‘ì„±ì¼**: 2026-01-22
* **ì‘ì„±ì**: Claude (frontend-architect)
* **ì°¸ì¡° ì„¤ê³„ì„œ**: `./010-design.md`
* **êµ¬í˜„ ê¸°ê°„**: 2026-01-22
* **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ë£Œ

### ë¬¸ì„œ ìœ„ì¹˜
```
.orchay/projects/mes-portal/tasks/TSK-04-04/
â”œâ”€â”€ 010-design.md              â† ì„¤ê³„ ë¬¸ì„œ
â”œâ”€â”€ 025-traceability-matrix.md â† ì¶”ì ì„± ë§¤íŠ¸ë¦­ìŠ¤
â”œâ”€â”€ 026-test-specification.md  â† í…ŒìŠ¤íŠ¸ ëª…ì„¸
â”œâ”€â”€ 030-implementation.md      â† êµ¬í˜„ ë³´ê³ ì„œ (ë³¸ ë¬¸ì„œ)
â””â”€â”€ 070-tdd-test-results.md   â† TDD í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ
```

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 êµ¬í˜„ ëª©ì 
- ì‚¬ìš©ìê°€ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ë¡œ MES Portalì— ì¸ì¦í•  ìˆ˜ ìˆëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ UI ì œê³µ
- Auth.js signIn í•¨ìˆ˜ë¥¼ í†µí•œ Credentials ì¸ì¦ ì²˜ë¦¬
- ìœ íš¨ì„± ê²€ì‚¬ ë° ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œë¥¼ í†µí•œ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

### 1.2 êµ¬í˜„ ë²”ìœ„
- **í¬í•¨ëœ ê¸°ëŠ¥**:
  - ë¡œê·¸ì¸ í¼ UI (ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ)
  - í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìœ íš¨ì„± ê²€ì‚¬ (í•„ìˆ˜ ì…ë ¥, ì´ë©”ì¼ í˜•ì‹)
  - Auth.js signIn í•¨ìˆ˜ ì—°ë™
  - ë¡œê·¸ì¸ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ (ì¸ì¦ ì‹¤íŒ¨, ë¹„í™œì„± ê³„ì •)
  - ë¡œê·¸ì¸ ì„±ê³µ ì‹œ /dashboard ë¦¬ë‹¤ì´ë ‰íŠ¸
  - ë¡œê·¸ì¸ ì¤‘ ë¡œë”© ìƒíƒœ í‘œì‹œ
  - ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€
  - ì„¸ì…˜ ì¡´ì¬ ì‹œ ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸

- **ì œì™¸ëœ ê¸°ëŠ¥** (Phase 2 ë²”ìœ„):
  - íšŒì›ê°€ì… í˜ì´ì§€
  - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°/ì¬ì„¤ì •
  - ì†Œì…œ ë¡œê·¸ì¸ (OAuth)
  - Remember me ê¸°ëŠ¥
  - Rate Limiting UI

### 1.3 êµ¬í˜„ ìœ í˜•
- [x] Frontend Only

### 1.4 ê¸°ìˆ  ìŠ¤íƒ
- **Frontend**:
  - Framework: Next.js 16.x (App Router), React 19.x
  - UI: Ant Design 6.x, TailwindCSS 4.x
  - Auth: Auth.js (NextAuth v5) signIn
  - Testing: Vitest 4.x + React Testing Library

---

## 2. Frontend êµ¬í˜„ ê²°ê³¼

### 2.1 êµ¬í˜„ëœ í™”ë©´

#### 2.1.1 í˜ì´ì§€/ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

| ì»´í¬ë„ŒíŠ¸ | íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|----------|------|------|------|
| LoginPage | `app/(auth)/login/page.tsx` | ë¡œê·¸ì¸ í˜ì´ì§€ (Server Component) | âœ… |
| LoginPageClient | `app/(auth)/login/LoginPageClient.tsx` | ë¡œê·¸ì¸ í˜ì´ì§€ í´ë¼ì´ì–¸íŠ¸ | âœ… |
| LoginForm | `components/auth/LoginForm.tsx` | ë¡œê·¸ì¸ í¼ ì»´í¬ë„ŒíŠ¸ | âœ… |

#### 2.1.2 UI ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

- **Layout**: ì „ì²´ í™”ë©´ ì¤‘ì•™ ì •ë ¬, ë°°ê²½ ê·¸ë¼ë°ì´ì…˜ íŒ¨í„´
- **Card**: ìµœëŒ€ ë„ˆë¹„ 420px, íŒ¨ë”© 40px, ë‘¥ê·¼ ëª¨ì„œë¦¬
- **Form**:
  - ì´ë©”ì¼ í•„ë“œ (Input with MailOutlined prefix)
  - ë¹„ë°€ë²ˆí˜¸ í•„ë“œ (Input.Password with LockOutlined prefix)
  - ë¡œê·¸ì¸ ë²„íŠ¼ (Primary, block, ë†’ì´ 44px)
- **Alert**: ì¸ì¦ ì—ëŸ¬ í‘œì‹œ (type="error", closable)
- **Footer**: ì €ì‘ê¶Œ ë° ë²„ì „ ì •ë³´

#### 2.1.3 data-testid êµ¬í˜„

| data-testid | ìš”ì†Œ | êµ¬í˜„ |
|-------------|------|------|
| `login-page` | í˜ì´ì§€ ì»¨í…Œì´ë„ˆ | âœ… |
| `login-card` | ë¡œê·¸ì¸ ì¹´ë“œ | âœ… |
| `login-logo` | ë¡œê³  ì˜ì—­ | âœ… |
| `login-form` | í¼ ìš”ì†Œ | âœ… |
| `email-input` | ì´ë©”ì¼ ì…ë ¥ í•„ë“œ | âœ… |
| `password-input` | ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ | âœ… |
| `login-button` | ë¡œê·¸ì¸ ë²„íŠ¼ | âœ… |
| `login-error-alert` | ì—ëŸ¬ Alert | âœ… |
| `login-footer` | í‘¸í„° ì˜ì—­ | âœ… |

### 2.2 ì¸ì¦ ì—°ë™ êµ¬í˜„

#### 2.2.1 signIn í•¨ìˆ˜ í˜¸ì¶œ

```typescript
const result = await signIn('credentials', {
  email: values.email,
  password: values.password,
  redirect: false,
})
```

#### 2.2.2 ì—ëŸ¬ ì²˜ë¦¬

| ì—ëŸ¬ ì½”ë“œ | ë©”ì‹œì§€ |
|-----------|--------|
| CredentialsSignin | ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤ |
| AccountInactive | ë¹„í™œì„±í™”ëœ ê³„ì •ì…ë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš” |
| RateLimited | ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. {n}ë¶„ í›„ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš” |
| AccountLocked | ë³´ì•ˆì„ ìœ„í•´ ê³„ì •ì´ ì¼ì‹œì ìœ¼ë¡œ ì ê²¼ìŠµë‹ˆë‹¤. 30ë¶„ í›„ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš” |
| (ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬) | ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš” |

### 2.3 TDD í…ŒìŠ¤íŠ¸ ê²°ê³¼

#### 2.3.1 í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

| íŒŒì¼ | % Stmts | % Branch | % Funcs | % Lines |
|------|---------|----------|---------|---------|
| LoginForm.tsx | 80% | 63.63% | 75% | 80% |
| LoginPageClient.tsx | 100% | 100% | 100% | 100% |
| **ì „ì²´** | **86.11%** | **78.3%** | **81.04%** | **86.11%** |

**í’ˆì§ˆ ê¸°ì¤€ ë‹¬ì„± ì—¬ë¶€**:
- âœ… í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ: 86.11%
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼: 17/17 í†µê³¼
- âœ… TDD í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„ ì™„ë£Œ: 1íšŒ

#### 2.3.2 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ë§¤í•‘

| í…ŒìŠ¤íŠ¸ ID | ì„¤ê³„ ì‹œë‚˜ë¦¬ì˜¤ | ê²°ê³¼ | ë¹„ê³  |
|-----------|---------------|------|------|
| UT-001 | í¼ ë Œë”ë§ | âœ… Pass | AC-001 ê²€ì¦ |
| UT-002 | ì´ë©”ì¼ í•„ë“œ ì…ë ¥ | âœ… Pass | |
| UT-003 | ë¹„ë°€ë²ˆí˜¸ í•„ë“œ ë§ˆìŠ¤í‚¹ | âœ… Pass | BR-002 ê²€ì¦ |
| UT-004 | ë¹ˆ ì´ë©”ì¼ ì œì¶œ | âœ… Pass | BR-001 ê²€ì¦ |
| UT-005 | ë¹ˆ ë¹„ë°€ë²ˆí˜¸ ì œì¶œ | âœ… Pass | BR-001 ê²€ì¦ |
| UT-006 | ì˜ëª»ëœ ì´ë©”ì¼ í˜•ì‹ | âœ… Pass | BR-002 ê²€ì¦ |
| UT-007 | ë¡œê·¸ì¸ ë²„íŠ¼ ë¡œë”© ìƒíƒœ | âœ… Pass | |
| UT-008 | signIn í•¨ìˆ˜ í˜¸ì¶œ | âœ… Pass | AC-004 ê²€ì¦ |
| UT-009 | ì¸ì¦ ì‹¤íŒ¨ ì—ëŸ¬ í‘œì‹œ | âœ… Pass | BR-003 ê²€ì¦ |
| UT-010 | ë¹„í™œì„± ê³„ì • ì—ëŸ¬ í‘œì‹œ | âœ… Pass | |
| UT-011 | Enter í‚¤ í¼ ì œì¶œ | âœ… Pass | |
| UT-012 | ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ í† ê¸€ | âœ… Pass | BR-002 ê²€ì¦ |
| UT-013 | ë¦¬ë‹¤ì´ë ‰íŠ¸ | âœ… Pass | BR-004 ê²€ì¦ |

#### 2.3.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

```
âœ“ components/auth/__tests__/LoginForm.test.tsx (13 tests) 15832ms
  âœ“ renders login form with all elements (UT-001) 2716ms
  âœ“ displays email input field (UT-002) 980ms
  âœ“ displays password input with masking (UT-003) 766ms
  âœ“ shows error for empty email (UT-004) 1713ms
  âœ“ shows error for empty password (UT-005) 1433ms
  âœ“ shows error for invalid email format (UT-006) 1232ms
  âœ“ shows loading state on submit (UT-007) 1206ms
  âœ“ calls signIn with correct credentials (UT-008) 1006ms
  âœ“ shows error alert on authentication failure (UT-009) 1039ms
  âœ“ shows inactive account error (UT-010) 1108ms
  âœ“ submits form on Enter key (UT-011) 730ms
  âœ“ toggles password visibility (UT-012) 876ms
  âœ“ redirects to dashboard on successful login 1017ms

âœ“ app/(auth)/login/__tests__/page.test.tsx (4 tests) 2306ms

Test Files  2 passed (2)
Tests       17 passed (17)
Duration    22.07s
```

---

## 3. ìš”êµ¬ì‚¬í•­ ì»¤ë²„ë¦¬ì§€

### 3.1 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì»¤ë²„ë¦¬ì§€

| ìš”êµ¬ì‚¬í•­ ID | ìš”êµ¬ì‚¬í•­ ì„¤ëª… | í…ŒìŠ¤íŠ¸ ID | ê²°ê³¼ |
|-------------|-------------|-----------|------|
| FR-001 | ë¡œê·¸ì¸ í¼ (ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥) | UT-001, UT-002, UT-003 | âœ… |
| FR-002 | ìœ íš¨ì„± ê²€ì‚¬ (í•„ìˆ˜ í•„ë“œ, ì´ë©”ì¼ í˜•ì‹) | UT-004, UT-005, UT-006 | âœ… |
| FR-003 | ë¡œê·¸ì¸ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ | UT-009, UT-010 | âœ… |
| FR-004 | ë¡œê·¸ì¸ ì„±ê³µ ì‹œ í¬í„¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ | UT-008, UT-013 | âœ… |
| FR-005 | ë¡œë”© ìƒíƒœ í‘œì‹œ | UT-007 | âœ… |

### 3.2 ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì»¤ë²„ë¦¬ì§€

| ê·œì¹™ ID | ê·œì¹™ ì„¤ëª… | í…ŒìŠ¤íŠ¸ ID | ê²°ê³¼ |
|---------|----------|-----------|------|
| BR-001 | ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ëª¨ë‘ í•„ìˆ˜ ì…ë ¥ | UT-004, UT-005 | âœ… |
| BR-002 | ë¹„ë°€ë²ˆí˜¸ëŠ” ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ | UT-003, UT-012 | âœ… |
| BR-003 | ì¸ì¦ ì‹¤íŒ¨ ì‹œ êµ¬ì²´ì  ì›ì¸ ë¯¸ê³µê°œ | UT-009 | âœ… |
| BR-004 | ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„¸ì…˜ ì„¤ì • ë° ë¦¬ë‹¤ì´ë ‰íŠ¸ | UT-013 | âœ… |

---

## 4. ì•Œë ¤ì§„ ì´ìŠˆ ë° ì œì•½ì‚¬í•­

### 4.1 ì•Œë ¤ì§„ ì´ìŠˆ

| ì´ìŠˆ ID | ì´ìŠˆ ë‚´ìš© | ì‹¬ê°ë„ | í•´ê²° ê³„íš |
|---------|----------|--------|----------|
| ISS-001 | Ant Design Alert `message` prop deprecated ê²½ê³  | ğŸŸ¢ Low | Ant Design ì—…ê·¸ë ˆì´ë“œ ì‹œ `title` propìœ¼ë¡œ ë³€ê²½ |

### 4.2 ê¸°ìˆ ì  ì œì•½ì‚¬í•­

- Rate Limiting UIëŠ” Phase 2ì—ì„œ êµ¬í˜„ ì˜ˆì • (ì„œë²„ ì¸¡ Rate Limitingê³¼ ì—°ë™ í•„ìš”)
- ì†Œì…œ ë¡œê·¸ì¸(OAuth)ì€ í˜„ì¬ ë²”ìœ„ì—ì„œ ì œì™¸ë¨

### 4.3 í–¥í›„ ê°œì„  í•„ìš” ì‚¬í•­

- E2E í…ŒìŠ¤íŠ¸ êµ¬í˜„ (Playwright)
- Rate Limiting/Account Locked ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ì¶”ê°€
- ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ì¶”ê°€

---

## 5. êµ¬í˜„ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 5.1 Frontend ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ë¡œê·¸ì¸ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ ì™„ë£Œ
- [x] ë¡œê·¸ì¸ í¼ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ ì™„ë£Œ
- [x] Auth.js signIn ì—°ë™ êµ¬í˜„ ì™„ë£Œ
- [x] TDD í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ (ì»¤ë²„ë¦¬ì§€ 86%)
- [x] í™”ë©´ ì„¤ê³„ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- [x] ì ‘ê·¼ì„± ì†ì„± (ARIA) ì ìš©

### 5.2 í†µí•© ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ì„¤ê³„ì„œ ìš”êµ¬ì‚¬í•­ ì¶©ì¡± í™•ì¸
- [x] ìš”êµ¬ì‚¬í•­ ì»¤ë²„ë¦¬ì§€ 100% ë‹¬ì„± (FR/BR â†’ í…ŒìŠ¤íŠ¸ ID)
- [x] ë¬¸ì„œí™” ì™„ë£Œ (êµ¬í˜„ ë³´ê³ ì„œ, í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ)
- [x] ì•Œë ¤ì§„ ì´ìŠˆ ë¬¸ì„œí™” ì™„ë£Œ

---

## 6. ì°¸ê³  ìë£Œ

### 6.1 ê´€ë ¨ ë¬¸ì„œ

- ì„¤ê³„ ë¬¸ì„œ: `./010-design.md`
- ì¶”ì ì„± ë§¤íŠ¸ë¦­ìŠ¤: `./025-traceability-matrix.md`
- í…ŒìŠ¤íŠ¸ ëª…ì„¸ì„œ: `./026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

### 6.2 í…ŒìŠ¤íŠ¸ ê²°ê³¼ íŒŒì¼

- TDD í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ: `./070-tdd-test-results.md`
- ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸: `test-results/20260122-131431/tdd/coverage/`

### 6.3 ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜

- ë¡œê·¸ì¸ í˜ì´ì§€: `mes-portal/app/(auth)/login/`
- ë¡œê·¸ì¸ í¼ ì»´í¬ë„ŒíŠ¸: `mes-portal/components/auth/LoginForm.tsx`
- ë©”ì‹œì§€ ìƒìˆ˜: `mes-portal/lib/constants/messages.ts`
- í…ŒìŠ¤íŠ¸: `mes-portal/components/auth/__tests__/LoginForm.test.tsx`

---

## 7. ë‹¤ìŒ ë‹¨ê³„

### 7.1 ë‹¤ìŒ ì›Œí¬í”Œë¡œìš°

- `/wf:verify TSK-04-04` - í†µí•©í…ŒìŠ¤íŠ¸ ì‹œì‘

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ì‘ì„±ì | ë³€ê²½ ë‚´ìš© |
|------|------|--------|----------|
| 1.0.0 | 2026-01-22 | Claude | ìµœì´ˆ ì‘ì„± |
