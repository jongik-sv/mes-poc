# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 - **Last Updated:** 2026-01-20

> **목적**: PRD -> 기본설계 -> 상세설계 -> 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-05-01 |
| Task명 | 로딩 및 에러 상태 컴포넌트 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR -> 설계 -> 테스트)

> PRD -> 설계 -> 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 구현 컴포넌트 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 로딩 상태 | 5.2 화면 1 | PageLoading.tsx | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 로딩 상태 | 5.2 화면 2 | Skeleton (Ant Design) | UT-003 | E2E-001 | TC-001 | 설계완료 |
| FR-003 | 4.1.1 로딩 상태 | 6.1 | Button (loading prop) | UT-004 | E2E-002 | TC-002 | 설계완료 |
| FR-004 | 4.1.1 로딩 상태 | 5.2 화면 2 | Spin + overlay | UT-005 | E2E-001 | TC-001 | 설계완료 |
| FR-005 | 4.1.1 빈 상태 | 5.2 화면 3 | EmptyState.tsx | UT-006, UT-007 | E2E-003 | TC-003 | 설계완료 |
| FR-006 | 4.1.1 빈 상태 | 5.2 화면 3 | EmptyState.tsx (type='search') | UT-008 | E2E-003 | TC-003 | 설계완료 |
| FR-007 | 4.1.1 빈 상태 | 5.2 화면 3 | EmptyState.tsx (type='filter') | UT-009 | E2E-004 | TC-004 | 설계완료 |
| FR-008 | 4.1.1 에러 상태 | 5.2 화면 4 | app/not-found.tsx | UT-010 | E2E-005 | TC-005 | 설계완료 |
| FR-009 | 4.1.1 에러 상태 | 5.2 화면 5 | app/error.tsx | UT-011 | E2E-006 | TC-006 | 설계완료 |
| FR-010 | 4.1.1 에러 상태 | 5.2 화면 6 | ErrorBoundary.tsx | UT-012, UT-013 | E2E-007 | TC-007 | 설계완료 |
| FR-011 | 4.1.1 에러 상태 | 9.1 | Result (403) | UT-014 | E2E-008 | TC-008 | 설계완료 |
| FR-012 | 4.1.1 에러 상태 | 9.1 | Result (session) | UT-015 | E2E-009 | TC-009 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 전체 페이지 로딩 스피너

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 로딩 상태 | 전체 페이지 로딩 스피너 |
| 설계 | 010-design.md | 5.2 화면 1 | PageLoading 컴포넌트 와이어프레임 |
| 설계 | 010-design.md | 7.2 | PageLoadingProps 인터페이스 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001, UT-002 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-002: 컴포넌트별 로딩 스켈레톤

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 로딩 상태 | 컴포넌트별 로딩 스켈레톤 |
| 설계 | 010-design.md | 5.2 화면 2 | 스켈레톤 로딩 와이어프레임 |
| 설계 | 010-design.md | 11.4 | Ant Design Skeleton 사용 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-003: 버튼 로딩 상태

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 로딩 상태 | 버튼 로딩 상태 (스피너 + 비활성화) |
| 설계 | 010-design.md | 6.1 | 재시도 버튼 클릭 시 버튼 로딩 상태 |
| 설계 | 010-design.md | 11.4 | Ant Design Button loading prop |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-004: 테이블 로딩 오버레이

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 로딩 상태 | 테이블 로딩 오버레이 |
| 설계 | 010-design.md | 5.2 화면 2 | 스켈레톤 로딩 (테이블용) |
| 설계 | 010-design.md | 11.4 | Ant Design Spin 오버레이 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-005: 데이터 없음 빈 상태

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 빈 상태 | 데이터 없음 안내 (아이콘 + 메시지) |
| 설계 | 010-design.md | 5.2 화면 3 | EmptyState 컴포넌트 와이어프레임 |
| 설계 | 010-design.md | 7.2 | EmptyStateProps 인터페이스 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-006, UT-007 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-006: 검색 결과 없음

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 빈 상태 | 검색 결과 없음 |
| 설계 | 010-design.md | 3.2 UC-02 | 검색 결과가 없는 경우 대안 흐름 |
| 설계 | 010-design.md | 7.2 | EmptyStateProps type='search' |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-008 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-007: 필터 결과 없음 (초기화 버튼)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 빈 상태 | 필터 결과 없음 (필터 초기화 버튼) |
| 설계 | 010-design.md | 5.2 화면 3 | EmptyState 액션 버튼 |
| 설계 | 010-design.md | 7.2 | EmptyStateProps type='filter', action |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-009 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004 |

#### FR-008: 404 에러 페이지

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 에러 상태 | 404 페이지 (페이지를 찾을 수 없음) |
| 설계 | 010-design.md | 5.2 화면 4 | 404 에러 와이어프레임 |
| 설계 | 010-design.md | 9.1 | 404 에러 처리 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-010 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005 |

#### FR-009: 500 에러 페이지

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 에러 상태 | 500 페이지 (서버 오류) |
| 설계 | 010-design.md | 5.2 화면 5 | 500 에러 와이어프레임 |
| 설계 | 010-design.md | 9.1 | 500 에러 처리 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-011 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-006 |

#### FR-010: 네트워크 오류 (재시도)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 에러 상태 | 네트워크 오류 (재시도 버튼) |
| 설계 | 010-design.md | 5.2 화면 6 | 네트워크 에러 와이어프레임 |
| 설계 | 010-design.md | 7.2 | ErrorBoundaryProps onRetry |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-012, UT-013 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-007 |

#### FR-011: 403 권한 없음

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 에러 상태 | 권한 없음 (403) |
| 설계 | 010-design.md | 3.2 UC-03 | 403 에러 예외 흐름 |
| 설계 | 010-design.md | 9.1 | 403 에러 처리 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-014 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-008 |

#### FR-012: 세션 만료 안내

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 에러 상태 | 세션 만료 (재로그인 안내) |
| 설계 | 010-design.md | 9.1 | 타임아웃 에러 처리 |
| 설계 | 010-design.md | 11.4 | Result 컴포넌트 활용 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-015 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-009 |

---

## 2. 비즈니스 규칙 추적 (BR -> 구현 -> 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | - | 8.1 BR-01 | PageLoading | UT-016 | E2E-010 | 200ms 이하 로딩 시 스피너 미표시 확인 | 설계완료 |
| BR-002 | - | 8.1 BR-02 | ErrorBoundary | UT-017, UT-018 | E2E-011 | 3회 재시도 후 에러 메시지 확인 | 설계완료 |
| BR-003 | - | 8.1 BR-03 | EmptyState | UT-019 | E2E-003 | 빈 상태에서 가이드 메시지 표시 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 로딩 상태는 200ms 이상 지속 시에만 표시 (깜빡임 방지)

| 구분 | 내용 |
|------|------|
| **PRD 원문** | (암묵적 요구사항) 로딩 상태 표시 시 깜빡임 방지 |
| **설계 표현** | 010-design.md 8.1 BR-01: 로딩 시간 3초 이상 시 추가 안내 표시 |
| **구현 위치** | PageLoading 컴포넌트 - 지연 표시 로직 |
| **검증 방법** | 200ms 미만 로딩 시 스피너가 나타나지 않음을 확인 |
| **관련 테스트** | UT-016, E2E-010 |

#### BR-002: 에러 발생 시 3회까지 자동 재시도 후 에러 메시지 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | (암묵적 요구사항) 에러 복구 가능성 제공 |
| **설계 표현** | 010-design.md 8.1 BR-02: 재시도 3회 실패 시 관리자 문의 안내 |
| **구현 위치** | ErrorBoundary - 재시도 카운터 및 최대 재시도 제한 |
| **검증 방법** | 3회 연속 실패 후 관리자 문의 안내 표시 확인 |
| **관련 테스트** | UT-017, UT-018, E2E-011 |

#### BR-003: 빈 상태는 컨텍스트에 맞는 가이드 메시지 제공

| 구분 | 내용 |
|------|------|
| **PRD 원문** | (암묵적 요구사항) 빈 상태에서 사용자 행동 유도 |
| **설계 표현** | 010-design.md 8.1 BR-03: 빈 상태에서 항상 다음 행동 안내 제공 |
| **구현 위치** | EmptyState - type별 기본 메시지 및 action 버튼 |
| **검증 방법** | 각 빈 상태 타입별 적절한 가이드 메시지 표시 확인 |
| **관련 테스트** | UT-019, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 -> 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-001 | - | 미실행 |
| UT-003 | 단위 | FR-002 | - | 미실행 |
| UT-004 | 단위 | FR-003 | - | 미실행 |
| UT-005 | 단위 | FR-004 | - | 미실행 |
| UT-006 | 단위 | FR-005 | - | 미실행 |
| UT-007 | 단위 | FR-005 | - | 미실행 |
| UT-008 | 단위 | FR-006 | - | 미실행 |
| UT-009 | 단위 | FR-007 | - | 미실행 |
| UT-010 | 단위 | FR-008 | - | 미실행 |
| UT-011 | 단위 | FR-009 | - | 미실행 |
| UT-012 | 단위 | FR-010 | - | 미실행 |
| UT-013 | 단위 | FR-010 | - | 미실행 |
| UT-014 | 단위 | FR-011 | - | 미실행 |
| UT-015 | 단위 | FR-012 | - | 미실행 |
| UT-016 | 단위 | - | BR-001 | 미실행 |
| UT-017 | 단위 | - | BR-002 | 미실행 |
| UT-018 | 단위 | - | BR-002 | 미실행 |
| UT-019 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002, FR-004 | - | 미실행 |
| E2E-002 | E2E | FR-003 | - | 미실행 |
| E2E-003 | E2E | FR-005, FR-006 | BR-003 | 미실행 |
| E2E-004 | E2E | FR-007 | - | 미실행 |
| E2E-005 | E2E | FR-008 | - | 미실행 |
| E2E-006 | E2E | FR-009 | - | 미실행 |
| E2E-007 | E2E | FR-010 | - | 미실행 |
| E2E-008 | E2E | FR-011 | - | 미실행 |
| E2E-009 | E2E | FR-012 | - | 미실행 |
| E2E-010 | E2E | - | BR-001 | 미실행 |
| E2E-011 | E2E | - | BR-002 | 미실행 |
| TC-001 | 매뉴얼 | FR-001, FR-002, FR-004 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-005, FR-006 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-007 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-008 | - | 미실행 |
| TC-006 | 매뉴얼 | FR-009 | - | 미실행 |
| TC-007 | 매뉴얼 | FR-010 | - | 미실행 |
| TC-008 | 매뉴얼 | FR-011 | - | 미실행 |
| TC-009 | 매뉴얼 | FR-012 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 본 Task는 프론트엔드 UI 컴포넌트로, 백엔드 데이터 모델과의 직접적인 연관이 없습니다.

| 기본설계 엔티티 | 상세설계 Prisma 모델 | API Request DTO | API Response DTO |
|----------------|---------------------|-----------------|------------------|
| - | - | - | - |

---

## 5. 인터페이스 추적

> 프론트엔드 컴포넌트 Props 인터페이스 매핑

| 설계 인터페이스 | 구현 컴포넌트 | Props 타입 | 요구사항 |
|----------------|-------------|------------|----------|
| PageLoadingProps | PageLoading.tsx | tip, size, fullScreen | FR-001 |
| EmptyStateProps | EmptyState.tsx | icon, title, description, action, type | FR-005, FR-006, FR-007 |
| ErrorBoundaryProps | ErrorBoundary.tsx | children, fallback, onError, onRetry | FR-008, FR-009, FR-010, FR-011, FR-012 |

---

## 6. 화면 추적

> 설계 화면 요구사항 -> 구현 컴포넌트 매핑

| 설계 화면 | 설계 문서 섹션 | 구현 컴포넌트 | 요구사항 |
|----------|--------------|--------------|----------|
| 전체 페이지 로딩 | 5.2 화면 1 | PageLoading.tsx | FR-001 |
| 스켈레톤 로딩 | 5.2 화면 2 | Skeleton (Ant Design) | FR-002, FR-004 |
| 빈 상태 | 5.2 화면 3 | EmptyState.tsx | FR-005, FR-006, FR-007 |
| 404 에러 페이지 | 5.2 화면 4 | app/not-found.tsx | FR-008 |
| 500 에러 페이지 | 5.2 화면 5 | app/error.tsx | FR-009 |
| 네트워크 에러 | 5.2 화면 6 | ErrorBoundary.tsx | FR-010 |
| 403 에러 | 9.1 | Result 컴포넌트 | FR-011 |
| 세션 만료 | 9.1 | Result 컴포넌트 | FR-012 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 12 | 12 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 19 | 19 | 0 | 100% |
| E2E 테스트 | 11 | 11 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 9 | 9 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

### 7.3 요구사항-테스트 커버리지 매트릭스

| 요구사항 | UT 커버리지 | E2E 커버리지 | 매뉴얼 TC 커버리지 |
|----------|------------|-------------|-------------------|
| FR-001 | UT-001, UT-002 | E2E-001 | TC-001 |
| FR-002 | UT-003 | E2E-001 | TC-001 |
| FR-003 | UT-004 | E2E-002 | TC-002 |
| FR-004 | UT-005 | E2E-001 | TC-001 |
| FR-005 | UT-006, UT-007 | E2E-003 | TC-003 |
| FR-006 | UT-008 | E2E-003 | TC-003 |
| FR-007 | UT-009 | E2E-004 | TC-004 |
| FR-008 | UT-010 | E2E-005 | TC-005 |
| FR-009 | UT-011 | E2E-006 | TC-006 |
| FR-010 | UT-012, UT-013 | E2E-007 | TC-007 |
| FR-011 | UT-014 | E2E-008 | TC-008 |
| FR-012 | UT-015 | E2E-009 | TC-009 |
| BR-001 | UT-016 | E2E-010 | - |
| BR-002 | UT-017, UT-018 | E2E-011 | - |
| BR-003 | UT-019 | E2E-003 | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-20 | Claude | 최초 작성 |
