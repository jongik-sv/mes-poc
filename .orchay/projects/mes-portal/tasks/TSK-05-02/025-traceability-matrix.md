# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **목적**: PRD → 설계 → 테스트 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-05-02 |
| Task명 | 확인 다이얼로그 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 문서 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|---------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 확인 다이얼로그 - 삭제 확인 | 010 섹션 3.2 UC-01 | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 확인 다이얼로그 - 미저장 경고 | 010 섹션 3.2 UC-02 | UT-003, UT-004 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 확인 다이얼로그 - 일괄 작업 확인 | 010 섹션 3.2 UC-03 | UT-005, UT-006 | E2E-003 | TC-003 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 삭제 확인 다이얼로그

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | "삭제 확인 ("정말 삭제하시겠습니까?")" |
| 설계 | 010-design.md | 3.2 UC-01, 5.2 | 삭제 확인 다이얼로그 UI/UX |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001, UT-002 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-002: 저장되지 않은 변경사항 경고

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | "저장되지 않은 변경사항 경고 ("저장하지 않은 내용이 있습니다")" |
| 설계 | 010-design.md | 3.2 UC-02, 5.2 | 미저장 경고 다이얼로그 UI/UX |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003, UT-004 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-003: 일괄 작업 확인

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | "일괄 작업 확인 (N건 삭제/수정)" |
| 설계 | 010-design.md | 3.2 UC-03, 5.2 | 일괄 작업 확인 다이얼로그 UI/UX |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005, UT-006 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 문서 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|---------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 010 섹션 8.1 | confirmDelete 함수 | UT-001 | E2E-001 | 삭제 시 확인 다이얼로그 표시 확인 | 설계완료 |
| BR-002 | 4.1.1 | 010 섹션 8.1 | UI 스타일 | UT-002 | - | 삭제 버튼 빨간색 렌더링 확인 | 설계완료 |
| BR-003 | 4.1.1 | 010 섹션 8.1 | confirmBulkDelete 함수 | UT-005 | E2E-003 | 일괄 삭제 시 건수 표시 확인 | 설계완료 |
| BR-004 | 4.1.1 | 010 섹션 8.1 | confirmDiscard 함수 | UT-003 | E2E-002 | dirty 상태에서만 경고 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 삭제 작업 확인 필수

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "삭제 확인 ("정말 삭제하시겠습니까?")" |
| **설계 표현** | 삭제 버튼 클릭 시 Modal.confirm 호출 |
| **구현 위치** | lib/utils/confirm.ts - confirmDelete() |
| **검증 방법** | 삭제 버튼 클릭 시 확인 다이얼로그 표시 여부 |
| **관련 테스트** | UT-001, E2E-001 |

#### BR-002: 위험 작업 버튼 시각적 구분

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "위험 작업 시 빨간색 확인 버튼" |
| **설계 표현** | okButtonProps: { danger: true } |
| **구현 위치** | lib/utils/confirm.ts - 모든 삭제 확인 함수 |
| **검증 방법** | 렌더링된 확인 버튼의 색상 확인 |
| **관련 테스트** | UT-002 |

#### BR-003: 일괄 작업 건수 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "일괄 작업 확인 (N건 삭제/수정)" |
| **설계 표현** | content: `선택한 ${count}건을 삭제하시겠습니까?` |
| **구현 위치** | lib/utils/confirm.ts - confirmBulkDelete() |
| **검증 방법** | 다이얼로그 메시지에 정확한 건수 표시 |
| **관련 테스트** | UT-005, E2E-003 |

#### BR-004: 미저장 경고 조건

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "저장되지 않은 변경사항 경고" |
| **설계 표현** | 폼 dirty 상태일 때만 경고 다이얼로그 표시 |
| **구현 위치** | lib/utils/confirm.ts - confirmDiscard() |
| **검증 방법** | dirty=true일 때만 경고, dirty=false일 때 경고 없음 |
| **관련 테스트** | UT-003, UT-004, E2E-002 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | BR-001 | 미실행 |
| UT-002 | 단위 | FR-001 | BR-002 | 미실행 |
| UT-003 | 단위 | FR-002 | BR-004 | 미실행 |
| UT-004 | 단위 | FR-002 | BR-004 | 미실행 |
| UT-005 | 단위 | FR-003 | BR-003 | 미실행 |
| UT-006 | 단위 | FR-003 | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001 | BR-001 | 미실행 |
| E2E-002 | E2E | FR-002 | BR-004 | 미실행 |
| E2E-003 | E2E | FR-003 | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | BR-001, BR-002 | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | BR-004 | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-003 | 미실행 |

---

## 4. 데이터 모델 추적

> 이 Task는 UI 유틸리티 함수로서 데이터 모델이 없음

| 설계 엔티티 | Prisma 모델 | API Request DTO | API Response DTO |
|------------|-------------|-----------------|------------------|
| N/A | N/A | N/A | N/A |

---

## 5. 인터페이스 추적

> 이 Task는 프론트엔드 유틸리티 함수로서 API 엔드포인트가 없음

| 설계 인터페이스 | API | Method | Endpoint | 요구사항 |
|----------------|-----|--------|----------|----------|
| N/A | N/A | N/A | N/A | N/A |

---

## 6. 화면/컴포넌트 추적

> 설계 화면 요구사항 → 컴포넌트/유틸리티 매핑

| 설계 화면 | 컴포넌트/유틸리티 | 파일 경로 | 요구사항 |
|----------|------------------|----------|----------|
| 삭제 확인 다이얼로그 | confirmDelete | lib/utils/confirm.ts | FR-001 |
| 미저장 경고 다이얼로그 | confirmDiscard | lib/utils/confirm.ts | FR-002 |
| 일괄 작업 확인 다이얼로그 | confirmBulkDelete | lib/utils/confirm.ts | FR-003 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 3 | 3 | 0 | 100% |
| 비즈니스 규칙 (BR) | 4 | 4 | 0 | 100% |
| 단위 테스트 (UT) | 6 | 6 | 0 | 100% |
| E2E 테스트 | 3 | 3 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 3 | 3 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

<!--
TSK-05-02 요구사항 추적성 매트릭스
Version: 1.0
Created: 2026-01-20
-->
