# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 - **Last Updated:** 2026-01-20

> **목적**: PRD -> 설계 -> 테스트 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-05-03 |
| Task명 | Toast 알림 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR -> 설계 -> 테스트)

> PRD -> 설계 -> 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 구현 컴포넌트 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 알림 | 5.1, 7.2 | toast.ts (showSuccess) | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 알림 | 5.1, 7.2 | toast.ts (showInfo) | UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-003 | 4.1.1 알림 | 5.1, 7.2 | toast.ts (showWarning) | UT-003 | E2E-002 | TC-002 | 설계완료 |
| FR-004 | 4.1.1 알림 | 5.1, 7.2 | toast.ts (showError) | UT-004 | E2E-002 | TC-002 | 설계완료 |
| FR-005 | 4.1.1 알림 | 6.1, 8.1 | toast.ts (duration config) | UT-005, UT-006 | E2E-003 | TC-003 | 설계완료 |
| FR-006 | 4.1.1 알림 | 5.2, 6.1 | Ant Design message API | UT-007 | E2E-004 | TC-004 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 성공 메시지 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 알림 | 성공/정보/경고/에러 메시지 |
| 설계 | 010-design.md | 5.1 | 성공 토스트 와이어프레임 |
| 설계 | 010-design.md | 7.2 | showSuccess 함수 인터페이스 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: showSuccess 함수 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 성공/정보 메시지 표시 |

#### FR-002: 정보 메시지 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 알림 | 성공/정보/경고/에러 메시지 |
| 설계 | 010-design.md | 5.1 | 정보 토스트 와이어프레임 |
| 설계 | 010-design.md | 7.2 | showInfo 함수 인터페이스 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002: showInfo 함수 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 성공/정보 메시지 표시 |

#### FR-003: 경고 메시지 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 알림 | 성공/정보/경고/에러 메시지 |
| 설계 | 010-design.md | 5.1 | 경고 토스트 와이어프레임 |
| 설계 | 010-design.md | 7.2 | showWarning 함수 인터페이스 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: showWarning 함수 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 경고/에러 메시지 표시 |

#### FR-004: 에러 메시지 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 알림 | 성공/정보/경고/에러 메시지 |
| 설계 | 010-design.md | 5.1 | 에러 토스트 와이어프레임 |
| 설계 | 010-design.md | 7.2 | showError 함수 인터페이스 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004: showError 함수 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 경고/에러 메시지 표시 |

#### FR-005: 자동 닫힘 (3-5초)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 알림 | 자동 닫힘 (3-5초) |
| 설계 | 010-design.md | 6.1 | 자동 닫힘 상호작용 흐름 |
| 설계 | 010-design.md | 8.1 | BR-003: 자동 닫힘 시간 설정 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005: 기본 duration 테스트 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-006: 커스텀 duration 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 자동 닫힘 동작 |

#### FR-006: 수동 닫기 버튼

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 알림 | 수동 닫기 버튼 |
| 설계 | 010-design.md | 5.2 | 닫기 버튼 UI 요소 |
| 설계 | 010-design.md | 6.1 | 수동 닫기 상호작용 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-007: 수동 닫기 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004: 수동 닫기 동작 |

---

## 2. 비즈니스 규칙 추적 (BR -> 구현 -> 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 | toast.ts | UT-008 | E2E-005 | API 성공 시 성공 토스트 자동 표시 확인 | 설계완료 |
| BR-002 | 4.1.1 | 8.1 | toast.ts | UT-009 | E2E-006 | API 에러 시 에러 토스트 자동 표시 확인 | 설계완료 |
| BR-003 | 4.1.1 | 8.1 | toast.ts (config) | UT-010 | E2E-003 | 자동 닫힘 시간 3-5초 범위 내 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: API 성공 시 성공 토스트 자동 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | API 성공 시 성공 토스트 |
| **설계 표현** | API 응답 성공 시 showSuccess 자동 호출 |
| **구현 위치** | lib/utils/toast.ts - showSuccess() |
| **검증 방법** | API 호출 성공 후 성공 토스트 메시지 표시 확인 |
| **관련 테스트** | UT-008, E2E-005 |

#### BR-002: API 에러 시 에러 토스트 자동 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | API 에러 시 에러 토스트 |
| **설계 표현** | API 응답 에러 시 showError 자동 호출 |
| **구현 위치** | lib/utils/toast.ts - showError() |
| **검증 방법** | API 호출 실패 후 에러 토스트 메시지 표시 확인 |
| **관련 테스트** | UT-009, E2E-006 |

#### BR-003: 자동 닫힘 시간 3-5초 사이

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 자동 닫힘 (3-5초) |
| **설계 표현** | 기본 duration 3초, 에러 메시지 5초 |
| **구현 위치** | lib/utils/toast.ts - DEFAULT_DURATION, ERROR_DURATION |
| **검증 방법** | 토스트 표시 후 설정된 시간 내 자동 닫힘 확인 |
| **관련 테스트** | UT-010, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 -> 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | FR-004 | - | 미실행 |
| UT-005 | 단위 | FR-005 | - | 미실행 |
| UT-006 | 단위 | FR-005 | - | 미실행 |
| UT-007 | 단위 | FR-006 | - | 미실행 |
| UT-008 | 단위 | - | BR-001 | 미실행 |
| UT-009 | 단위 | - | BR-002 | 미실행 |
| UT-010 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002 | - | 미실행 |
| E2E-002 | E2E | FR-003, FR-004 | - | 미실행 |
| E2E-003 | E2E | FR-005 | BR-003 | 미실행 |
| E2E-004 | E2E | FR-006 | - | 미실행 |
| E2E-005 | E2E | - | BR-001 | 미실행 |
| E2E-006 | E2E | - | BR-002 | 미실행 |
| TC-001 | 매뉴얼 | FR-001, FR-002 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-003, FR-004 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-005 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-006 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 본 Task는 프론트엔드 UI 유틸리티로, 백엔드 데이터 모델과의 직접적인 연관이 없습니다.

| 기본설계 엔티티 | 상세설계 Prisma 모델 | API Request DTO | API Response DTO |
|----------------|---------------------|-----------------|------------------|
| N/A | N/A | N/A | N/A |

---

## 5. 인터페이스 추적

> 프론트엔드 유틸리티 함수 인터페이스 매핑

| 설계 인터페이스 | 구현 파일 | 함수/타입 | 요구사항 |
|----------------|----------|----------|----------|
| ToastOptions | lib/utils/toast.ts | ToastOptions | FR-005, FR-006 |
| showSuccess | lib/utils/toast.ts | showSuccess(content, options?) | FR-001 |
| showInfo | lib/utils/toast.ts | showInfo(content, options?) | FR-002 |
| showWarning | lib/utils/toast.ts | showWarning(content, options?) | FR-003 |
| showError | lib/utils/toast.ts | showError(content, options?) | FR-004 |

---

## 6. 화면 추적

> 설계 화면 요구사항 -> 구현 컴포넌트 매핑

| 설계 화면 | 설계 문서 섹션 | 구현 컴포넌트 | 요구사항 |
|----------|--------------|--------------|----------|
| 성공 토스트 | 5.1 | Ant Design message.success | FR-001 |
| 정보 토스트 | 5.1 | Ant Design message.info | FR-002 |
| 경고 토스트 | 5.1 | Ant Design message.warning | FR-003 |
| 에러 토스트 | 5.1 | Ant Design message.error | FR-004 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 6 | 6 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 10 | 10 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 4 | 4 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

### 7.3 요구사항-테스트 커버리지 매트릭스

| 요구사항 | UT 커버리지 | E2E 커버리지 | 매뉴얼 TC 커버리지 |
|----------|------------|-------------|-------------------|
| FR-001 | UT-001 | E2E-001 | TC-001 |
| FR-002 | UT-002 | E2E-001 | TC-001 |
| FR-003 | UT-003 | E2E-002 | TC-002 |
| FR-004 | UT-004 | E2E-002 | TC-002 |
| FR-005 | UT-005, UT-006 | E2E-003 | TC-003 |
| FR-006 | UT-007 | E2E-004 | TC-004 |
| BR-001 | UT-008 | E2E-005 | - |
| BR-002 | UT-009 | E2E-006 | - |
| BR-003 | UT-010 | E2E-003 | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-20 | Claude | 최초 작성 |
