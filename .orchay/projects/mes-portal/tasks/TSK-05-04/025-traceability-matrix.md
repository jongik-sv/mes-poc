# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-20

> **목적**: PRD → 설계 → 테스트 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-05-04 |
| Task명 | 테이블 공통 기능 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-20 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 테이블 - 컬럼 정렬 | 3.2 UC-01, 5.2 | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 테이블 - 페이징 | 3.2 UC-02, UC-03, 5.2 | UT-003, UT-004 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 테이블 - 행 선택 | 3.2 UC-04, UC-05, 5.2 | UT-005, UT-006, UT-007 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 테이블 - 컬럼 리사이즈 | 3.2 UC-06, 5.2 | UT-008 | E2E-004 | TC-004 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 컬럼 정렬 (오름차순/내림차순)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 테이블 - 기본 기능 | 컬럼 정렬 (오름차순/내림차순) |
| 설계 | 010-design.md | 3.2 UC-01 | 컬럼 헤더 클릭 시 정렬 토글 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001, UT-002 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-002: 페이징 (페이지 크기 선택)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 테이블 - 기본 기능 | 페이징 (페이지 크기 선택) |
| 설계 | 010-design.md | 3.2 UC-02, UC-03 | 페이지 이동, 페이지 크기 변경 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003, UT-004 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-003: 행 선택 (단일/다중)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 테이블 - 고급 기능 | 행 선택 (단일/다중) |
| 설계 | 010-design.md | 3.2 UC-04, UC-05 | 단일 행 선택, 다중 행 선택 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005, UT-006, UT-007 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-004: 컬럼 리사이즈

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 테이블 - 기본 기능 | 컬럼 리사이즈 |
| 설계 | 010-design.md | 3.2 UC-06 | 컬럼 경계 드래그로 너비 조절 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-008 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | TRD 암시 | 8.1 | DataTable props | UT-009 | - | 페이지 크기 옵션 10,20,50,100 확인 | 설계완료 |
| BR-002 | TRD 암시 | 8.1 | DataTable 정렬 로직 | UT-010 | - | 다중 정렬 불가 확인 | 설계완료 |
| BR-003 | TRD 암시 | 8.1 | useTableColumns 훅 | UT-011 | - | 최소 너비 50px 제한 확인 | 설계완료 |
| BR-004 | 일반 UX | 8.1 | DataTable 선택 로직 | UT-012 | - | 전체 선택 시 현재 페이지만 선택 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 페이지 크기 옵션 제한

| 구분 | 내용 |
|------|------|
| **설계 근거** | 서버 부하 및 브라우저 성능 고려 |
| **설계 표현** | pageSizeOptions prop 기본값: [10, 20, 50, 100] |
| **구현 위치** | DataTable 컴포넌트 props |
| **검증 방법** | 드롭다운에 4개 옵션만 표시되는지 확인 |
| **관련 테스트** | UT-009 |

#### BR-002: 단일 컬럼 정렬

| 구분 | 내용 |
|------|------|
| **설계 근거** | UI 복잡성 및 사용성 고려 |
| **설계 표현** | 다른 컬럼 정렬 시 기존 정렬 해제 |
| **구현 위치** | DataTable 정렬 상태 관리 |
| **검증 방법** | A컬럼 정렬 후 B컬럼 클릭 시 A컬럼 정렬 아이콘 해제 확인 |
| **관련 테스트** | UT-010 |

#### BR-003: 컬럼 최소 너비

| 구분 | 내용 |
|------|------|
| **설계 근거** | 컬럼 내용 가독성 보장 |
| **설계 표현** | 최소 너비 50px |
| **구현 위치** | useTableColumns 훅 |
| **검증 방법** | 드래그로 50px 이하로 줄이려 할 때 더 이상 줄어들지 않음 |
| **관련 테스트** | UT-011 |

#### BR-004: 전체 선택 범위

| 구분 | 내용 |
|------|------|
| **설계 근거** | 성능 및 사용자 의도 명확화 |
| **설계 표현** | 헤더 체크박스 클릭 시 현재 페이지만 선택 |
| **구현 위치** | DataTable rowSelection 설정 |
| **검증 방법** | 2페이지 이상 데이터에서 전체 선택 후 페이지 이동 시 이전 페이지 선택 상태 확인 |
| **관련 테스트** | UT-012 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-001 | - | 미실행 |
| UT-003 | 단위 | FR-002 | - | 미실행 |
| UT-004 | 단위 | FR-002 | - | 미실행 |
| UT-005 | 단위 | FR-003 | - | 미실행 |
| UT-006 | 단위 | FR-003 | - | 미실행 |
| UT-007 | 단위 | FR-003 | - | 미실행 |
| UT-008 | 단위 | FR-004 | - | 미실행 |
| UT-009 | 단위 | - | BR-001 | 미실행 |
| UT-010 | 단위 | - | BR-002 | 미실행 |
| UT-011 | 단위 | - | BR-003 | 미실행 |
| UT-012 | 단위 | - | BR-004 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | - | 미실행 |
| E2E-004 | E2E | FR-004 | - | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 설계 엔티티 → 컴포넌트 Props/State 매핑

| 설계 엔티티 | 컴포넌트 | Props/State | 용도 |
|------------|---------|-------------|------|
| DataTable | DataTable.tsx | columns, dataSource | 테이블 데이터 표시 |
| Pagination | DataTable.tsx | pagination prop | 페이지네이션 설정 |
| RowSelection | DataTable.tsx | rowSelection prop | 행 선택 설정 |
| ColumnWidth | useTableColumns.ts | columnWidths state | 컬럼 너비 관리 |

---

## 5. 인터페이스 추적

> 설계 인터페이스 요구사항 → 컴포넌트 API 매핑

| 설계 인터페이스 | 컴포넌트 API | Type | 용도 | 요구사항 |
|----------------|-------------|------|------|----------|
| 정렬 기능 | onChange (sorter) | TableOnChange | 정렬 상태 변경 콜백 | FR-001 |
| 페이지 변경 | onChange (pagination) | TableOnChange | 페이지 변경 콜백 | FR-002 |
| 행 선택 | rowSelection.onChange | RowSelectionOnChange | 선택 상태 변경 콜백 | FR-003 |
| 컬럼 리사이즈 | onColumnResize | ResizeHandler | 컬럼 너비 변경 콜백 | FR-004 |

---

## 6. 화면 추적

> 설계 화면 요구사항 → 컴포넌트 매핑

| 설계 화면 | 화면 용도 | 컴포넌트 | 요구사항 |
|----------|----------|----------|----------|
| DataTable | 공통 테이블 | components/common/DataTable.tsx | FR-001, FR-002, FR-003, FR-004 |
| 테이블 헤더 | 정렬/리사이즈 | Ant Design Table + ResizableTitle | FR-001, FR-004 |
| 페이지네이션 | 페이지 이동/크기 | Ant Design Table (내장) | FR-002 |
| 행 체크박스 | 행 선택 | Ant Design Table rowSelection | FR-003 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 4 | 4 | 0 | 100% |
| 비즈니스 규칙 (BR) | 4 | 4 | 0 | 100% |
| 단위 테스트 (UT) | 12 | 12 | 0 | 100% |
| E2E 테스트 | 4 | 4 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 4 | 4 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | 없음 |

---

## 관련 문서

- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

<!--
TSK-05-04 요구사항 추적성 매트릭스
Version: 1.0
Created: 2026-01-20
-->
