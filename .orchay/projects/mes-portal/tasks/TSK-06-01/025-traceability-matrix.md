# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 - **Last Updated:** 2026-01-21

> **목적**: PRD -> 기본설계 -> 상세설계 -> 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-01 |
| Task명 | 목록(조회) 화면 템플릿 |
| 기본설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-21 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR -> 설계 -> 테스트)

> PRD -> 기본설계 -> 상세설계 -> 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 기본설계 섹션 | 상세설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|--------------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 화면 템플릿 | 5.2 화면 설계 | - | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 화면 템플릿 | 5.2, 7. 데이터 요구사항 | - | UT-002, UT-003 | E2E-001 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 화면 템플릿 | 3.1 UC-01, 8. 비즈니스 규칙 | - | UT-004 | E2E-002 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 테이블(그리드) 기능 | 5.2 화면 설계 | - | UT-005, UT-006 | E2E-003 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 화면 템플릿 | 5.2, 6. 인터랙션 설계 | - | UT-007, UT-008 | E2E-004 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 검색 조건 영역 렌더링

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 - 목록(조회) 화면 | "목록(조회) 화면 - 검색 조건 + 그리드" |
| 기본설계 | 010-design.md | 5.2 화면별 상세 | Card 기반 검색 조건 영역, 조건 필드 레이아웃 |
| 상세설계 | 020-detail-design.md | (작성 예정) | ListTemplate 컴포넌트의 searchForm prop |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: 검색 조건 Card 렌더링 검증 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 검색 영역 표시 확인 |

**PRD 원문:**
> - [ ] 목록(조회) 화면 - 검색 조건 + 그리드

---

#### FR-002: 검색 조건 입력 및 필터링

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 | 검색 조건 입력 및 필터링 기능 |
| 기본설계 | 010-design.md | 3.2 UC-01, 7.2 Props 인터페이스 | onSearch 콜백, searchParams 처리 |
| 상세설계 | 020-detail-design.md | (작성 예정) | onSearch prop 호출 로직 |
| 단위 테스트 | 026-test-specification.md | 2.2 | UT-002: 검색 버튼 클릭 시 onSearch 호출, UT-003: 검색 파라미터 전달 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 조건 입력 후 검색 결과 표시 |

**PRD 원문:**
> - [ ] 검색 결과 없음 (필터 결과 없음 - 필터 초기화 버튼)

---

#### FR-003: 검색 조건 초기화

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 폼 상태 관리 | 폼 초기화/리셋 기능 |
| 기본설계 | 010-design.md | 3.2 UC-01 대안흐름, 8. 비즈니스 규칙 | 초기화 버튼 클릭 시 기본값 복원 |
| 상세설계 | 020-detail-design.md | (작성 예정) | onReset prop 콜백 |
| 단위 테스트 | 026-test-specification.md | 2.3 | UT-004: 초기화 버튼 클릭 시 onReset 호출 |
| E2E 테스트 | 026-test-specification.md | 3.2 | E2E-002: 조건 초기화 후 전체 데이터 표시 |

**PRD 원문:**
> - [ ] 폼 초기화/리셋 기능

---

#### FR-004: 그리드 영역 렌더링 (DataTable 활용)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 테이블(그리드) 기능 | 컬럼 정렬, 페이징, 행 선택 |
| 기본설계 | 010-design.md | 5.2 화면별 상세 | 그리드 영역, 페이지네이션 영역 |
| 상세설계 | 020-detail-design.md | (작성 예정) | DataTable 연동, columns/dataSource props |
| 단위 테스트 | 026-test-specification.md | 2.4 | UT-005: 그리드 렌더링, UT-006: 페이지네이션 |
| E2E 테스트 | 026-test-specification.md | 3.3 | E2E-003: 정렬, 페이지 이동 동작 |

**PRD 원문:**
> - [ ] 컬럼 정렬 (오름차순/내림차순)
> - [ ] 페이징 (페이지 크기 선택)
> - [ ] 행 선택 (단일/다중)

---

#### FR-005: 액션 버튼 (신규, 삭제 등)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 확인 다이얼로그 | 삭제 확인, 일괄 작업 확인 |
| 기본설계 | 010-design.md | 5.2, 6.1 인터랙션 설계 | 신규/삭제 버튼, 삭제 확인 다이얼로그 |
| 상세설계 | 020-detail-design.md | (작성 예정) | onAdd, onDelete props |
| 단위 테스트 | 026-test-specification.md | 2.5 | UT-007: 신규 버튼 클릭, UT-008: 삭제 버튼 클릭 |
| E2E 테스트 | 026-test-specification.md | 3.4 | E2E-004: 신규/삭제 버튼 동작 |

**PRD 원문:**
> - [ ] 삭제 확인 ("정말 삭제하시겠습니까?")
> - [ ] 일괄 작업 확인 (N건 삭제/수정)

---

## 2. 비즈니스 규칙 추적 (BR -> 구현 -> 검증)

| 규칙 ID | PRD 출처 | 기본설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|--------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 빈 상태 | 8.1 BR-02 | ListTemplate | UT-009 | E2E-005 | 빈 검색값 필터 제외 확인 | 설계완료 |
| BR-002 | 4.1.1 폼 상태 관리 | 3.2 UC-01 대안흐름 | ListTemplate | UT-004 | E2E-002 | 초기화 시 기본값 복원 확인 | 설계완료 |
| BR-003 | 4.1.1 확인 다이얼로그 | 8.1 BR-01 | ListTemplate | UT-010 | E2E-006 | 삭제 시 다이얼로그 표시 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 검색 시 빈 값은 필터 조건에서 제외

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "필터 결과 없음 (필터 초기화 버튼)" - 빈 검색 조건 처리 필요 |
| **기본설계 표현** | BR-02: 검색 조건 유지 - 페이지 이동 시 (초기화 클릭 시 예외) |
| **구현 위치** | ListTemplate - onSearch 핸들러 내 빈 값 필터링 |
| **검증 방법** | 빈 문자열/null/undefined 값이 API 요청에서 제외되는지 확인 |
| **관련 테스트** | UT-009, E2E-005 |

---

#### BR-002: 초기화 시 모든 검색 필드 기본값으로 리셋

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "폼 초기화/리셋 기능" |
| **기본설계 표현** | UC-01 대안흐름: "초기화 버튼 클릭 시 검색 조건이 기본값으로 리셋된다" |
| **구현 위치** | ListTemplate - onReset 콜백 호출 |
| **검증 방법** | 초기화 버튼 클릭 후 모든 폼 필드가 기본값으로 복원되는지 확인 |
| **관련 테스트** | UT-004, E2E-002 |

---

#### BR-003: 삭제 시 확인 다이얼로그 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "삭제 확인 ('정말 삭제하시겠습니까?')", "일괄 작업 확인 (N건 삭제/수정)" |
| **기본설계 표현** | BR-01: 삭제 시 확인 필수 - 삭제 버튼 클릭 시 (예외 없음) |
| **구현 위치** | ListTemplate - 삭제 버튼 핸들러, Modal.confirm 사용 |
| **검증 방법** | 삭제 버튼 클릭 시 확인 다이얼로그가 표시되고, 확인 후 onDelete 호출 확인 |
| **관련 테스트** | UT-010, E2E-006 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 -> 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-002 | - | 미실행 |
| UT-004 | 단위 | FR-003 | BR-002 | 미실행 |
| UT-005 | 단위 | FR-004 | - | 미실행 |
| UT-006 | 단위 | FR-004 | - | 미실행 |
| UT-007 | 단위 | FR-005 | - | 미실행 |
| UT-008 | 단위 | FR-005 | - | 미실행 |
| UT-009 | 단위 | - | BR-001 | 미실행 |
| UT-010 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002 | - | 미실행 |
| E2E-002 | E2E | FR-003 | BR-002 | 미실행 |
| E2E-003 | E2E | FR-004 | - | 미실행 |
| E2E-004 | E2E | FR-005 | - | 미실행 |
| E2E-005 | E2E | - | BR-001 | 미실행 |
| E2E-006 | E2E | - | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-002 | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | BR-003 | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 엔티티 -> Prisma 모델 -> API DTO 매핑

| 기본설계 엔티티 | 상세설계 Prisma 모델 | API Request DTO | API Response DTO |
|----------------|---------------------|-----------------|------------------|
| searchParams | - | SearchParamsDto | - |
| columns | - | - | ColumnDefinition[] |
| dataSource | - | - | T[] (제네릭) |
| pagination | - | PaginationDto | PaginationResponse |

> **참고**: 목록 화면 템플릿은 범용 컴포넌트로, 특정 엔티티에 종속되지 않음. 각 사용 화면에서 데이터 모델 정의.

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 -> API 엔드포인트 매핑

| 기본설계 인터페이스 | 상세설계 API | Method | Endpoint | 요구사항 |
|--------------------|-------------|--------|----------|----------|
| onSearch 콜백 | 각 화면 검색 API | GET | /api/{resource} | FR-002 |
| onReset 콜백 | - (클라이언트 로직) | - | - | FR-003 |
| onAdd 콜백 | 각 화면 등록 API | POST | /api/{resource} | FR-005 |
| onDelete 콜백 | 각 화면 삭제 API | DELETE | /api/{resource}/{id} | FR-005 |

> **참고**: ListTemplate은 콜백 기반으로 동작하며, 실제 API 호출은 사용처에서 정의함.

---

## 6. 화면 추적

> 기본설계 화면 요구사항 -> 상세설계 컴포넌트 매핑

| 기본설계 화면 | 상세설계 화면 | 컴포넌트 | 요구사항 |
|--------------|--------------|----------|----------|
| 5.2 목록(조회) 화면 템플릿 | 목록 화면 레이아웃 | ListTemplate | FR-001, FR-002, FR-003, FR-004, FR-005 |
| 검색 조건 영역 | 검색 조건 Card | Card + Form | FR-001, FR-002, FR-003 |
| 그리드 영역 | 데이터 테이블 | DataTable (Ant Design Table) | FR-004 |
| 액션 버튼 영역 | 버튼 그룹 | Button, Space | FR-005 |
| 페이지네이션 영역 | 페이지 네비게이션 | Pagination (Table 내장) | FR-004 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 10 | 10 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | (미매핑 항목 없음) |

### 7.3 요구사항-테스트 커버리지 매트릭스

| 요구사항 | UT 커버리지 | E2E 커버리지 | 매뉴얼 TC 커버리지 |
|----------|-------------|--------------|-------------------|
| FR-001 | UT-001 | E2E-001 | TC-001 |
| FR-002 | UT-002, UT-003 | E2E-001 | TC-002 |
| FR-003 | UT-004 | E2E-002 | TC-003 |
| FR-004 | UT-005, UT-006 | E2E-003 | TC-004 |
| FR-005 | UT-007, UT-008 | E2E-004 | TC-005 |
| BR-001 | UT-009 | E2E-005 | - |
| BR-002 | UT-004 | E2E-002 | TC-003 |
| BR-003 | UT-010 | E2E-006 | TC-005 |

---

## 관련 문서

- 기본설계: `010-design.md` (v2.1)
- 상세설계: `020-detail-design.md` (작성 예정)
- 테스트 명세: `026-test-specification.md` (v1.1)
- 설계 리뷰: `021-design-review-claude-1(적용완료).md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-21 | Claude | 최초 작성 - PRD 4.1.1 기반 요구사항 추적 매트릭스 |
| 1.1 | 2026-01-21 | Claude | 관련 문서 참조 업데이트 (설계 리뷰 반영 버전) |

---

<!--
author: Claude
Template Version History:
- v1.0.0 (2026-01-21): TSK-06-01 목록(조회) 화면 템플릿 추적성 매트릭스 작성
  - 5개 기능 요구사항 (FR-001 ~ FR-005) 정의
  - 3개 비즈니스 규칙 (BR-001 ~ BR-003) 정의
  - 테스트 ID 할당: UT-001~010, E2E-001~006, TC-001~005
-->
