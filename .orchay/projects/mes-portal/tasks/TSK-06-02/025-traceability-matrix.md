# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 -- **Last Updated:** 2026-01-21

> **목적**: PRD -> 기본설계 -> 상세설계 -> 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-02 |
| Task명 | 상세 화면 템플릿 |
| 상세설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-21 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR -> 설계 -> 테스트)

> PRD -> 기본설계 -> 상세설계 -> 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 기본설계 섹션 | 상세설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|--------------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 화면 템플릿 - 상세 화면 | 5.1 화면 설계 | 7. Props 인터페이스 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 화면 템플릿 - 상세 화면 | 5.1 탭 영역 | 7. Props (tabs) | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 화면 템플릿 - 상세 화면 | 6.1 인터랙션 | 7. Props (onEdit) | UT-003 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 화면 템플릿 - 상세 화면 | 6.1 인터랙션 | 7. Props (onDelete) | UT-004 | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 로딩 상태 | 6.2 상태별 화면 | 7. Props (loading) | UT-005 | E2E-005 | TC-005 | 설계완료 |
| FR-006 | 4.1.1 화면 템플릿 - 입력/수정 폼 | 6.1 인터랙션 | 4.1 시나리오 | UT-006 | E2E-006 | TC-006 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 정보 표시 영역 (Descriptions 컴포넌트)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 | "상세 화면 - 정보 표시" |
| 기본설계 | 010-design.md | 5.1 | 기본 정보 영역 (Descriptions) |
| 상세설계 | 010-design.md | 7.1 | descriptions: DescriptionsProps |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: Descriptions 렌더링 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 상세 정보 표시 확인 |

#### FR-002: 탭/섹션 그룹핑 (Tabs 컴포넌트)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 | "관련 정보 탭" |
| 기본설계 | 010-design.md | 5.1 | 탭 기반 관련 정보 영역 |
| 상세설계 | 010-design.md | 7.1 | tabs?: { key, label, children }[] |
| 단위 테스트 | 026-test-specification.md | 2.2 | UT-002: Tabs 렌더링/전환 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.2 | E2E-002: 탭 전환 동작 확인 |

#### FR-003: 수정 버튼 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 | "수정/삭제 버튼" |
| 기본설계 | 010-design.md | 6.1 | 수정 클릭 -> 폼 화면 이동 |
| 상세설계 | 010-design.md | 7.1 | onEdit?: () => void |
| 단위 테스트 | 026-test-specification.md | 2.3 | UT-003: onEdit 콜백 호출 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.3 | E2E-003: 수정 버튼 클릭 시 폼 전환 |

#### FR-004: 삭제 버튼 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 | "수정/삭제 버튼" |
| 기본설계 | 010-design.md | 6.1 | 삭제 클릭 -> 확인 다이얼로그 -> 목록 이동 |
| 상세설계 | 010-design.md | 7.1 | onDelete?: () => void |
| 단위 테스트 | 026-test-specification.md | 2.4 | UT-004: onDelete 콜백 호출 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.4 | E2E-004: 삭제 확인 다이얼로그 및 처리 |

#### FR-005: 데이터 로딩 상태

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 로딩 상태 | "컴포넌트별 로딩 스켈레톤" |
| 기본설계 | 010-design.md | 6.2 | 로딩 중: Skeleton 표시 |
| 상세설계 | 010-design.md | 7.1 | loading?: boolean |
| 단위 테스트 | 026-test-specification.md | 2.5 | UT-005: 로딩 상태 Skeleton 렌더링 |
| E2E 테스트 | 026-test-specification.md | 3.5 | E2E-005: 로딩 -> 데이터 표시 전환 |

#### FR-006: 폼 모드 전환

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 화면 템플릿 | "입력/수정 폼 화면" |
| 기본설계 | 010-design.md | 4.1 | 수정 버튼 클릭 -> 수정 모드 진입 |
| 상세설계 | 010-design.md | 6.1 | 수정 클릭 -> 폼 화면 이동 |
| 단위 테스트 | 026-test-specification.md | 2.6 | UT-006: 폼 모드 전환 라우팅 테스트 |
| E2E 테스트 | 026-test-specification.md | 3.6 | E2E-006: 상세 -> 수정 폼 전환 흐름 |

---

## 2. 비즈니스 규칙 추적 (BR -> 구현 -> 검증)

| 규칙 ID | PRD 출처 | 기본설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|--------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.4 권한별 메뉴 접근 제어 | 8.1 | DetailTemplate | UT-007 | E2E-007 | 권한 없는 사용자에게 수정/삭제 버튼 미표시 확인 | 설계완료 |
| BR-002 | 4.1.1 MDI 화면 상태 유지 | 6.1 | DetailTemplate (tabs) | UT-008 | E2E-008 | 탭 전환 후 이전 탭 데이터 유지 확인 | 설계완료 |
| BR-003 | 4.1.1 화면 템플릿 | 6.2 | DetailTemplate | UT-009 | E2E-009 | 읽기 전용 모드에서 필드 편집 불가 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 권한에 따른 수정/삭제 버튼 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "사용자 권한별 메뉴 필터링", "권한별 메뉴 접근 제어" |
| **기본설계 표현** | "권한 없으면 수정/삭제 버튼 숨김" (BR-02) |
| **구현 위치** | DetailTemplate 컴포넌트 (onEdit/onDelete props 조건부 렌더링) |
| **검증 방법** | 권한별 사용자 로그인 후 버튼 표시 여부 확인 |
| **관련 테스트** | UT-007, E2E-007 |

#### BR-002: 탭 전환 시 데이터 유지

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "화면 상태 유지 (탭 전환 시 데이터 보존)" |
| **기본설계 표현** | 탭 클릭 -> 활성 탭 표시 -> 컨텐츠 전환 |
| **구현 위치** | DetailTemplate의 Tabs 컴포넌트 (destroyInactiveTabPane=false) |
| **검증 방법** | 탭 A에서 스크롤/입력 후 탭 B로 전환, 다시 탭 A로 복귀 시 상태 유지 확인 |
| **관련 테스트** | UT-008, E2E-008 |

#### BR-003: 읽기 전용 모드에서 편집 불가

| 구분 | 내용 |
|------|------|
| **PRD 원문** | "상세 화면 - 정보 표시" (읽기 전용 특성) |
| **기본설계 표현** | "기본 정보 (Descriptions) - 읽기 전용" |
| **구현 위치** | DetailTemplate의 Descriptions 컴포넌트 |
| **검증 방법** | Descriptions 내 모든 값이 편집 불가능한 텍스트로 표시되는지 확인 |
| **관련 테스트** | UT-009, E2E-009 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 -> 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | FR-004 | - | 미실행 |
| UT-005 | 단위 | FR-005 | - | 미실행 |
| UT-006 | 단위 | FR-006 | - | 미실행 |
| UT-007 | 단위 | - | BR-001 | 미실행 |
| UT-008 | 단위 | - | BR-002 | 미실행 |
| UT-009 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | - | 미실행 |
| E2E-004 | E2E | FR-004 | - | 미실행 |
| E2E-005 | E2E | FR-005 | - | 미실행 |
| E2E-006 | E2E | FR-006 | - | 미실행 |
| E2E-007 | E2E | - | BR-001 | 미실행 |
| E2E-008 | E2E | - | BR-002 | 미실행 |
| E2E-009 | E2E | - | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | - | 미실행 |
| TC-006 | 매뉴얼 | FR-006 | - | 미실행 |
| TC-007 | 매뉴얼 | - | BR-001, BR-002, BR-003 | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 엔티티 -> Prisma 모델 -> API DTO 매핑

| 기본설계 엔티티 | 상세설계 Prisma 모델 | API Request DTO | API Response DTO |
|----------------|---------------------|-----------------|------------------|
| - | - | - | DetailTemplateProps |

> **참고**: 상세 화면 템플릿은 UI 컴포넌트로, 데이터 모델은 사용하는 화면에서 정의함

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 -> API 엔드포인트 매핑

| 기본설계 인터페이스 | 상세설계 API | Method | Endpoint | 요구사항 |
|--------------------|-------------|--------|----------|----------|
| - | - | - | - | - |

> **참고**: 상세 화면 템플릿은 프레젠테이션 레이어 컴포넌트로, API 호출은 템플릿을 사용하는 개별 화면에서 담당

---

## 6. 화면 추적

> 기본설계 화면 요구사항 -> 상세설계 컴포넌트 매핑

| 기본설계 화면 | 상세설계 화면 | 컴포넌트 | 요구사항 |
|--------------|--------------|----------|----------|
| 상세 화면 템플릿 | DetailTemplate | components/templates/DetailTemplate.tsx | FR-001, FR-002, FR-003, FR-004, FR-005, FR-006 |

### 6.1 컴포넌트 구조 매핑

| 화면 영역 | Ant Design 컴포넌트 | 요구사항 | 비즈니스 규칙 |
|----------|-------------------|----------|--------------|
| 헤더 영역 | Card (title, extra) | FR-003, FR-004 | BR-001 |
| 기본 정보 영역 | Descriptions | FR-001 | BR-003 |
| 탭 영역 | Tabs | FR-002 | BR-002 |
| 하단 버튼 영역 | Button | FR-006 | - |
| 로딩 상태 | Skeleton | FR-005 | - |
| 삭제 확인 | Modal.confirm | FR-004 | - |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 6 | 6 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 9 | 9 | 0 | 100% |
| E2E 테스트 | 9 | 9 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 7 | 7 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

### 7.3 유즈케이스-요구사항 매핑

| 유즈케이스 | 관련 기능 요구사항 | 관련 비즈니스 규칙 |
|-----------|-------------------|------------------|
| UC-01: 기본 정보 조회 | FR-001, FR-005 | BR-003 |
| UC-02: 탭 전환 | FR-002 | BR-002 |
| UC-03: 수정 화면 이동 | FR-003, FR-006 | BR-001 |
| UC-04: 삭제 | FR-004 | BR-001 |
| UC-05: 목록 복귀 | FR-006 | - |

---

## 관련 문서

- 상세설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-21 | Claude | 최초 작성 - PRD 4.1.1 상세 화면 요구사항 기반 추적성 매트릭스 |
