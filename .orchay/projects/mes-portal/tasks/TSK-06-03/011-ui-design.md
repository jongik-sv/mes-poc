# TSK-06-03 - 입력/수정 폼 템플릿 UI 설계

## 문서 정보

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-03 |
| 문서 버전 | 1.0 |
| 작성일 | 2026-01-21 |
| 상태 | 작성완료 |
| 참조 설계 문서 | `010-design.md` |

---

## 1. 화면 목록

| 화면 ID | 화면명 | 목적 | SVG 참조 |
|---------|--------|------|----------|
| SCR-01 | 폼 기본 상태 (수직 레이아웃) | 기본 수직 배치 폼 레이아웃 | `screen-01-form-vertical.svg` |
| SCR-02 | 폼 수평 레이아웃 | 라벨과 입력 필드가 수평 배치된 폼 | `screen-02-form-horizontal.svg` |
| SCR-03 | 폼 인라인 레이아웃 | 필드들이 가로로 나열된 인라인 폼 | `screen-03-form-inline.svg` |
| SCR-04 | 유효성 검사 실패 상태 | 에러 메시지가 표시된 유효성 검사 실패 | `screen-04-form-validation-error.svg` |
| SCR-05 | 저장 중 상태 (로딩) | 저장 버튼 로딩 및 폼 비활성화 상태 | `screen-05-form-saving.svg` |
| SCR-06 | 수정된 필드 표시 상태 | 원본 대비 변경된 필드 하이라이트 | `screen-06-form-modified.svg` |

---

## 2. 화면 전환 흐름

```mermaid
stateDiagram-v2
    [*] --> Default: 페이지 진입
    Default --> Modified: 필드 값 변경
    Modified --> Default: 초기화/리셋
    Modified --> Validating: 저장 버튼 클릭

    Validating --> ValidationError: 유효성 검사 실패
    Validating --> Saving: 유효성 검사 통과

    ValidationError --> Validating: 재시도 (저장 클릭)
    ValidationError --> Modified: 필드 수정

    Saving --> Success: 저장 완료
    Saving --> Error: 저장 실패

    Success --> [*]: 화면 닫기/이동
    Error --> Modified: 재시도 대기
```

### 액션-화면 매트릭스

| 현재 상태 | 액션 | 다음 상태 |
|----------|------|----------|
| Default | 필드 입력/수정 | Modified |
| Modified | 초기화 버튼 클릭 | Default |
| Modified | 저장 버튼 클릭 | Validating |
| Validating | 유효성 검사 실패 | ValidationError |
| Validating | 유효성 검사 통과 | Saving |
| ValidationError | 필드 수정 | Modified |
| ValidationError | 저장 버튼 클릭 | Validating |
| Saving | 저장 완료 | Success |
| Saving | 서버 오류 | Error |
| Error | 재시도 | Saving |

---

## 3. 화면별 상세

### 3.1 SCR-01: 폼 기본 상태 (수직 레이아웃)

**화면 목적:**
가장 기본적인 폼 레이아웃. 라벨이 입력 필드 위에 배치되며, 필드들이 수직으로 나열된다.

**레이아웃:**

```
┌────────────────────────────────────────────────────────────────────────────────┐
│ 사용자 등록                                                                    │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│  이름 *                                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │                                                                         │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  이메일 *                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │                                                                         │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  부서                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 선택하세요                                                          ▼ │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  입사일                                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ YYYY-MM-DD                                                          📅 │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  상태                                                                          │
│  ○ 활성  ○ 비활성  ○ 대기                                                    │
│                                                                                │
│  ┌──────────────────────────────────────────────────────────────────────────┐ │
│  │                              [취소]  [저장]                              │ │
│  └──────────────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────────────────────┘
```

**컴포넌트 구성:**

| 컴포넌트 | Ant Design | Props |
|----------|------------|-------|
| 폼 컨테이너 | `Form` | layout="vertical" |
| 폼 아이템 | `Form.Item` | label, name, rules |
| 텍스트 입력 | `Input` | placeholder |
| 셀렉트 | `Select` | placeholder, options |
| 날짜 선택 | `DatePicker` | format |
| 라디오 그룹 | `Radio.Group` | options |
| 버튼 | `Button` | type="primary", htmlType="submit" |

**상태 정의:**

| 상태 | 설명 | 시각적 표현 |
|------|------|------------|
| 기본 | 초기 상태, 빈 폼 | 필드 비어있음, 저장 버튼 활성화 |
| 포커스 | 필드에 포커스 | 테두리 색상 primary로 변경 |
| 입력됨 | 값이 입력된 상태 | 텍스트 표시 |

**액션 정의:**

| 액션 | 트리거 | 결과 |
|------|--------|------|
| 입력 | 키보드 입력 | 필드 값 변경 |
| 저장 | 저장 버튼 클릭 | 유효성 검사 후 저장 |
| 취소 | 취소 버튼 클릭 | 이전 화면으로 이동 |
| 초기화 | 초기화 버튼 클릭 | 모든 필드 원래 값으로 복원 |

### 3.2 SCR-02: 폼 수평 레이아웃

**화면 목적:**
라벨과 입력 필드가 수평으로 배치된 폼. 넓은 화면에서 공간 효율적이며, 라벨과 필드의 정렬이 깔끔하다.

**레이아웃:**

```
┌────────────────────────────────────────────────────────────────────────────────┐
│ 사용자 정보 수정                                                               │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│      이름 * │ ┌──────────────────────────────────────────────────────────────┐│
│             │ │ 홍길동                                                       ││
│             │ └──────────────────────────────────────────────────────────────┘│
│                                                                                │
│    이메일 * │ ┌──────────────────────────────────────────────────────────────┐│
│             │ │ hong@example.com                                             ││
│             │ └──────────────────────────────────────────────────────────────┘│
│                                                                                │
│        부서 │ ┌──────────────────────────────────────────────────────────────┐│
│             │ │ 개발팀                                                    ▼ ││
│             │ └──────────────────────────────────────────────────────────────┘│
│                                                                                │
│      입사일 │ ┌──────────────────────────────────────────────────────────────┐│
│             │ │ 2024-03-15                                                📅 ││
│             │ └──────────────────────────────────────────────────────────────┘│
│                                                                                │
│        상태 │ ○ 활성  ○ 비활성  ○ 대기                                       │
│                                                                                │
│        비고 │ ┌──────────────────────────────────────────────────────────────┐│
│             │ │                                                              ││
│             │ │                                                              ││
│             │ └──────────────────────────────────────────────────────────────┘│
│                                                                                │
│  ┌──────────────────────────────────────────────────────────────────────────┐ │
│  │                              [취소]  [저장]                              │ │
│  └──────────────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────────────────────┘
```

**컴포넌트 구성:**

| 컴포넌트 | Ant Design | Props |
|----------|------------|-------|
| 폼 컨테이너 | `Form` | layout="horizontal", labelCol={{ span: 4 }}, wrapperCol={{ span: 20 }} |
| 폼 아이템 | `Form.Item` | label, name, rules |
| 텍스트영역 | `Input.TextArea` | rows={3} |

**상태별 변화:**

| 라벨 정렬 | 위치 | 너비 비율 |
|----------|------|----------|
| 우측 정렬 | 좌측 | labelCol: 4 (16.67%) |
| 필드 영역 | 우측 | wrapperCol: 20 (83.33%) |

### 3.3 SCR-03: 폼 인라인 레이아웃

**화면 목적:**
필드들이 가로로 나열된 인라인 폼. 검색 조건 입력이나 간단한 필터링에 적합하다.

**레이아웃:**

```
┌────────────────────────────────────────────────────────────────────────────────┐
│ 검색 조건                                                                      │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  ┌─────────┐ ┌───────┐ │
│  │ 이름        │  │ 부서      ▼│  │ 2024-01-01 📅   │  │ [검색] │ │[초기화]│ │
│  └─────────────┘  └─────────────┘  └─────────────────┘  └─────────┘ └───────┘ │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘
```

**컴포넌트 구성:**

| 컴포넌트 | Ant Design | Props |
|----------|------------|-------|
| 폼 컨테이너 | `Form` | layout="inline" |
| 폼 아이템 | `Form.Item` | name (라벨 생략 또는 축약) |
| 버튼 그룹 | `Space` | direction="horizontal" |

**인터랙션:**

| 요소 | 상태 | 동작 |
|------|------|------|
| 검색 버튼 | 클릭 | 검색 실행 |
| 초기화 버튼 | 클릭 | 모든 필드 초기화 |
| Enter 키 | 입력 중 | 검색 실행 |

### 3.4 SCR-04: 유효성 검사 실패 상태

**화면 목적:**
폼 제출 시 유효성 검사에 실패한 필드에 에러 메시지를 표시한다.

**레이아웃:**

```
┌────────────────────────────────────────────────────────────────────────────────┐
│ 사용자 등록                                                                    │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│  이름 *                                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │                                                              [빨간테두리]│  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│  ⚠ 이름을 입력해 주세요.                                                      │
│                                                                                │
│  이메일 *                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ invalid-email                                                [빨간테두리]│  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│  ⚠ 올바른 이메일 형식이 아닙니다.                                             │
│                                                                                │
│  전화번호                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 123                                                          [빨간테두리]│  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│  ⚠ 전화번호 형식이 올바르지 않습니다. (예: 010-1234-5678)                     │
│                                                                                │
│  부서                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 개발팀                                                              ▼ │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  ┌──────────────────────────────────────────────────────────────────────────┐ │
│  │                              [취소]  [저장]                              │ │
│  └──────────────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────────────────────┘
```

**상태별 변화:**

| 검증 상태 | 테두리 색상 | 아이콘 | 메시지 |
|----------|------------|--------|--------|
| 기본 | #D9D9D9 | 없음 | 없음 |
| 에러 | #FF4D4F | ⚠ (경고) | 빨간색 텍스트 |
| 성공 | #52C41A | ✓ (체크) | 없음 또는 초록색 |
| 경고 | #FAAD14 | ⚠ (경고) | 주황색 텍스트 |

**검증 규칙 예시:**

| 필드 | 규칙 | 에러 메시지 |
|------|------|------------|
| 이름 | required | "이름을 입력해 주세요." |
| 이메일 | required, email | "이메일을 입력해 주세요." / "올바른 이메일 형식이 아닙니다." |
| 전화번호 | pattern | "전화번호 형식이 올바르지 않습니다." |
| 숫자 필드 | min, max | "최소 1 이상이어야 합니다." / "최대 100 이하여야 합니다." |

### 3.5 SCR-05: 저장 중 상태 (로딩)

**화면 목적:**
저장 버튼 클릭 후 서버 응답을 기다리는 동안의 로딩 상태를 표시한다.

**레이아웃:**

```
┌────────────────────────────────────────────────────────────────────────────────┐
│ 사용자 등록                                                                    │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                            [반투명 오버레이]   │
│  이름 *                                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 홍길동                                                       [비활성화] │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  이메일 *                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ hong@example.com                                             [비활성화] │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  부서                                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 개발팀                                                       [비활성화] │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  ┌──────────────────────────────────────────────────────────────────────────┐ │
│  │                      [취소 - 비활성]  [◌ 저장 중... - 로딩]             │ │
│  └──────────────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────────────────────┘
```

**컴포넌트 구성:**

| 컴포넌트 | Ant Design | Props |
|----------|------------|-------|
| 스피너 | `Spin` | spinning={true} |
| 저장 버튼 | `Button` | loading={true}, disabled={true} |
| 폼 전체 | `Form` | disabled={true} |

**상태별 변화:**

| 요소 | 로딩 전 | 로딩 중 |
|------|--------|--------|
| 입력 필드 | 편집 가능 | disabled, 배경색 회색 |
| 저장 버튼 | "저장" | "◌ 저장 중...", 스피너 표시 |
| 취소 버튼 | 활성화 | 비활성화 또는 숨김 |
| 폼 영역 | 투명 | 반투명 오버레이 (선택적) |

### 3.6 SCR-06: 수정된 필드 표시 상태

**화면 목적:**
기존 데이터를 수정할 때, 원본 대비 변경된 필드를 시각적으로 구분하여 표시한다.

**레이아웃:**

```
┌────────────────────────────────────────────────────────────────────────────────┐
│ 사용자 정보 수정                                             [3개 필드 수정됨] │
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│  이름 *                                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 홍길동                                                                  │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│                                                                                │
│  이메일 *                                              [수정됨 - 좌측 파란 바] │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ hong.new@example.com                                                    │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│  기존: hong@example.com                                                        │
│                                                                                │
│  부서                                                  [수정됨 - 좌측 파란 바] │
│  ┌─────────────────────────────────────────────────────────────────────────┐  │
│  │ 기획팀                                                              ▼ │  │
│  └─────────────────────────────────────────────────────────────────────────┘  │
│  기존: 개발팀                                                                  │
│                                                                                │
│  상태                                                  [수정됨 - 좌측 파란 바] │
│  ● 활성  ○ 비활성  ○ 대기                                                    │
│  기존: 비활성                                                                  │
│                                                                                │
│  ┌──────────────────────────────────────────────────────────────────────────┐ │
│  │                       [변경 취소]  [취소]  [저장]                        │ │
│  └──────────────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────────────────────┘
```

**상태별 변화:**

| 필드 상태 | 시각적 표현 |
|----------|------------|
| 변경 없음 | 기본 스타일 |
| 수정됨 | 좌측에 파란색 바 (4px), 배경색 연한 파란색 |
| 원본 값 | 필드 아래에 회색 텍스트로 "기존: {원본값}" 표시 |

**컴포넌트 구성:**

| 컴포넌트 | 설명 | 스타일 |
|----------|------|--------|
| 수정 표시 바 | 좌측 강조 바 | width: 4px, background: #1677FF |
| 원본 값 텍스트 | 기존 값 표시 | font-size: 12px, color: #8C8C8C |
| 변경 카운터 | 헤더 우측 뱃지 | "N개 필드 수정됨" |
| 변경 취소 버튼 | 개별 필드 또는 전체 | 모든 변경 되돌리기 |

---

## 4. 공통 컴포넌트

### 4.1 폼 필드 레이블

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 레이블 텍스트 | 필드명 | font-weight: 500, color: rgba(0,0,0,0.88) |
| 필수 표시 | 별표 (*) | color: #FF4D4F, margin-right: 4px |
| 툴팁 아이콘 | 도움말 | ? 아이콘, 호버 시 툴팁 표시 |

### 4.2 입력 필드 상태

| 상태 | 테두리 | 배경색 | 추가 요소 |
|------|--------|--------|----------|
| 기본 | #D9D9D9 | #FFFFFF | - |
| 호버 | #4096FF | #FFFFFF | - |
| 포커스 | #1677FF (2px) | #FFFFFF | 그림자 효과 |
| 에러 | #FF4D4F | #FFFFFF | 에러 메시지, 아이콘 |
| 비활성 | #D9D9D9 | #F5F5F5 | cursor: not-allowed |
| 읽기전용 | 없음 | #F5F5F5 | 텍스트만 표시 |

### 4.3 버튼 영역

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 배치 | 우측 정렬 | text-align: right |
| 간격 | 버튼 사이 간격 | margin-left: 8px |
| 취소 버튼 | 기본 버튼 | type="default" |
| 저장 버튼 | 주요 액션 | type="primary" |
| 초기화 버튼 | 보조 액션 | type="text" 또는 type="default" |

### 4.4 에러 메시지

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 위치 | 필드 아래 | margin-top: 4px |
| 색상 | 빨간색 | color: #FF4D4F |
| 아이콘 | 경고 아이콘 | CloseCircleOutlined 또는 ExclamationCircleOutlined |
| 폰트 크기 | 작은 텍스트 | font-size: 12px |

---

## 5. 반응형 설계

### 5.1 Breakpoint 정의

| Breakpoint | 크기 | 설명 |
|------------|------|------|
| Desktop | 1024px+ | 수평/수직 레이아웃 모두 지원 |
| Tablet | 768-1023px | 수평 레이아웃의 라벨 비율 조정 |
| Mobile | 767px- | 수직 레이아웃으로 강제 전환 |

### 5.2 반응형 동작

| 화면 크기 | 수직 레이아웃 | 수평 레이아웃 | 인라인 레이아웃 |
|----------|-------------|--------------|----------------|
| Desktop | 1-2 컬럼 가능 | labelCol: 4, wrapperCol: 20 | 가로 배치 유지 |
| Tablet | 1 컬럼 | labelCol: 6, wrapperCol: 18 | 가로 배치 유지 |
| Mobile | 1 컬럼 | 수직으로 자동 전환 | 수직으로 자동 전환 |

### 5.3 인라인 폼 반응형

| 화면 크기 | 동작 |
|----------|------|
| Desktop | 모든 필드 가로 배치 |
| Tablet | 필드 줄바꿈 허용 (flex-wrap) |
| Mobile | 수직 레이아웃으로 전환 |

---

## 6. 접근성

### 6.1 키보드 네비게이션

| 키 | 동작 |
|-----|------|
| Tab | 다음 필드로 포커스 이동 |
| Shift + Tab | 이전 필드로 포커스 이동 |
| Enter | 폼 제출 (type="submit" 버튼) |
| Escape | 드롭다운/팝업 닫기 |
| Space | 체크박스/라디오 토글 |
| Arrow Keys | 라디오/셀렉트 옵션 탐색 |

### 6.2 ARIA 속성

| 요소 | ARIA 속성 | 값 |
|------|----------|-----|
| 필수 필드 | aria-required | true |
| 에러 필드 | aria-invalid | true |
| 에러 메시지 | aria-describedby | 에러 메시지 ID 참조 |
| 폼 그룹 | role | group |
| 라벨 | for/htmlFor | 입력 필드 ID |
| 로딩 상태 | aria-busy | true |

### 6.3 색상 대비

| 요소 | 전경색 | 배경색 | 대비율 |
|------|--------|--------|--------|
| 레이블 | #000000D9 | #FFFFFF | 15.1:1 |
| 입력 텍스트 | #000000D9 | #FFFFFF | 15.1:1 |
| 에러 메시지 | #FF4D4F | #FFFFFF | 4.5:1 |
| 비활성 텍스트 | #00000040 | #F5F5F5 | 3.0:1 (장식적) |
| 플레이스홀더 | #00000040 | #FFFFFF | 3.0:1 (장식적) |

---

## 7. 다크 모드 지원

### 7.1 색상 매핑

| 요소 | 라이트 모드 | 다크 모드 |
|------|------------|----------|
| 폼 배경 | #FFFFFF | #141414 |
| 입력 필드 배경 | #FFFFFF | #1F1F1F |
| 입력 필드 테두리 | #D9D9D9 | #434343 |
| 레이블 텍스트 | #000000D9 | #FFFFFFD9 |
| 입력 텍스트 | #000000D9 | #FFFFFFD9 |
| 플레이스홀더 | #00000040 | #FFFFFF40 |
| 에러 색상 | #FF4D4F | #FF4D4F |
| 포커스 색상 | #1677FF | #1668DC |
| 비활성 배경 | #F5F5F5 | #2A2A2A |

### 7.2 상태 색상 (다크 모드)

| 상태 | 테두리 색상 | 배경 하이라이트 |
|------|------------|----------------|
| 기본 | #434343 | - |
| 포커스 | #1668DC | rgba(22, 104, 220, 0.2) |
| 에러 | #FF4D4F | rgba(255, 77, 79, 0.1) |
| 수정됨 | #1668DC | rgba(22, 104, 220, 0.1) |

---

## 8. SVG 파일 목록

| 파일명 | 화면 | 상태 |
|--------|------|------|
| `screen-01-form-vertical.svg` | 폼 기본 (수직) | 기본 |
| `screen-02-form-horizontal.svg` | 폼 수평 레이아웃 | 기본 |
| `screen-03-form-inline.svg` | 폼 인라인 레이아웃 | 기본 |
| `screen-04-form-validation-error.svg` | 유효성 검사 실패 | 에러 |
| `screen-05-form-saving.svg` | 저장 중 | 로딩 |
| `screen-06-form-modified.svg` | 수정된 필드 표시 | 수정됨 |

---

## 9. 디자인 토큰 참조

### 9.1 간격 (Spacing)

| 토큰 | 값 | 용도 |
|------|-----|------|
| form-item-margin-bottom | 24px | 폼 아이템 간 간격 |
| form-label-margin-bottom | 8px | 라벨과 필드 사이 |
| form-error-margin-top | 4px | 필드와 에러 메시지 사이 |
| button-margin-left | 8px | 버튼 사이 간격 |

### 9.2 크기 (Size)

| 토큰 | 값 | 용도 |
|------|-----|------|
| input-height-default | 32px | 기본 입력 필드 높이 |
| input-height-large | 40px | 큰 입력 필드 높이 |
| input-height-small | 24px | 작은 입력 필드 높이 |
| label-font-size | 14px | 라벨 폰트 크기 |
| error-font-size | 12px | 에러 메시지 폰트 크기 |

### 9.3 테두리 (Border)

| 토큰 | 값 | 용도 |
|------|-----|------|
| border-radius-base | 6px | 입력 필드 모서리 |
| border-width | 1px | 기본 테두리 두께 |
| border-width-focus | 2px | 포커스 시 테두리 |

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-21 | Claude | 최초 작성 |
