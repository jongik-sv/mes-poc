# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-21

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-05 |
| Task명 | 팝업(모달) 화면 템플릿 |
| 설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-21 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 기본설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 화면 템플릿 | 3.2 UC-01, UC-05 | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 화면 템플릿 | 3.2 UC-02 | UT-003, UT-004, UT-005 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 화면 템플릿 | 3.2 UC-03 | UT-006, UT-007, UT-008 | E2E-003, E2E-004 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 화면 템플릿 | 3.2 UC-04 | UT-009, UT-010 | E2E-005 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 화면 템플릿 | 5.1 | UT-011, UT-012 | E2E-003 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 팝업 열기/닫기 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 팝업 화면 - 모달 열기/닫기 |
| 기본설계 | 010-design.md | 3.2 UC-01, UC-05 | open prop으로 열기, X 버튼/취소로 닫기 |
| 단위 테스트 | 026-test-specification.md | UT-001, UT-002 | open=true 시 모달 표시, onClose 콜백 호출 |
| E2E 테스트 | 026-test-specification.md | E2E-001 | 팝업 열기 → 닫기 통합 시나리오 |

#### FR-002: 항목 검색 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 모달 내 검색 및 목록 |
| 기본설계 | 010-design.md | 3.2 UC-02 | 검색어 입력 → 목록 필터링 |
| 단위 테스트 | 026-test-specification.md | UT-003, UT-004, UT-005 | 검색 입력 필드 표시, onSearch 콜백, 디바운스 동작 |
| E2E 테스트 | 026-test-specification.md | E2E-002 | 검색어 입력 → 필터링 결과 확인 |

#### FR-003: 항목 선택 기능 (단일/다중)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 선택 후 부모 화면에 값 전달, 다중 선택 지원 |
| 기본설계 | 010-design.md | 3.2 UC-03 | 행 클릭(단일), 체크박스(다중), 전체 선택 |
| 단위 테스트 | 026-test-specification.md | UT-006, UT-007, UT-008 | 단일 선택 모드, 다중 선택 모드, 전체 선택 |
| E2E 테스트 | 026-test-specification.md | E2E-003, E2E-004 | 단일/다중 선택 시나리오 |

#### FR-004: 선택 완료 및 값 전달 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 선택 후 부모 화면에 값 전달 |
| 기본설계 | 010-design.md | 3.2 UC-04 | 확인 클릭 → 팝업 닫힘, onSelect 콜백으로 값 전달 |
| 단위 테스트 | 026-test-specification.md | UT-009, UT-010 | onSelect 콜백 호출, 선택된 데이터 전달 |
| E2E 테스트 | 026-test-specification.md | E2E-005 | 선택 완료 → 부모 화면 값 반영 |

#### FR-005: 페이지네이션 지원

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 목록 페이징 (암시적) |
| 기본설계 | 010-design.md | 7.1 Props | pagination prop |
| 단위 테스트 | 026-test-specification.md | UT-011, UT-012 | 페이지네이션 표시, 페이지 변경 |
| E2E 테스트 | 026-test-specification.md | E2E-003 | 페이지 이동 후 선택 유지 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 기본설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|--------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 | SelectPopupTemplate | UT-006 | E2E-003 | multiple=false 시 행 클릭으로 선택 확인 | 설계완료 |
| BR-002 | 4.1.1 | 8.1 | SelectPopupTemplate | UT-007 | E2E-004 | multiple=true 시 체크박스 표시 확인 | 설계완료 |
| BR-003 | 4.1.1 | 8.1 | SelectPopupTemplate | UT-013 | E2E-006 | 선택 없이 확인 버튼 클릭 시 경고 표시 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 단일 선택 시 행 클릭으로 선택

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 팝업 화면 - 선택 후 부모 화면에 값 전달 |
| **기본설계 표현** | 단일 선택 시 행 클릭으로 선택 (multiple=false) |
| **구현 위치** | SelectPopupTemplate - rowSelection 설정 |
| **검증 방법** | multiple=false일 때 행 클릭 시 선택 상태 변경, 체크박스 미표시 확인 |
| **관련 테스트** | UT-006, E2E-003 |

#### BR-002: 다중 선택 시 체크박스 사용

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 팝업 화면 - 다중 선택 지원 |
| **기본설계 표현** | 다중 선택 시 체크박스 사용 (multiple=true) |
| **구현 위치** | SelectPopupTemplate - rowSelection (type: 'checkbox') |
| **검증 방법** | multiple=true일 때 체크박스 표시, 여러 항목 선택 가능 확인 |
| **관련 테스트** | UT-007, E2E-004 |

#### BR-003: 선택 없이 확인 불가

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 선택 후 부모 화면에 값 전달 (선택 필수 암시) |
| **기본설계 표현** | 선택 없이 확인 불가, 선택 없으면 경고 또는 버튼 비활성화 |
| **구현 위치** | SelectPopupTemplate - 확인 버튼 disabled 또는 경고 토스트 |
| **검증 방법** | selectedKeys가 비어있을 때 확인 버튼 비활성화 또는 클릭 시 경고 |
| **관련 테스트** | UT-013, E2E-006 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-001 | - | 미실행 |
| UT-003 | 단위 | FR-002 | - | 미실행 |
| UT-004 | 단위 | FR-002 | - | 미실행 |
| UT-005 | 단위 | FR-002 | - | 미실행 |
| UT-006 | 단위 | FR-003 | BR-001 | 미실행 |
| UT-007 | 단위 | FR-003 | BR-002 | 미실행 |
| UT-008 | 단위 | FR-003 | - | 미실행 |
| UT-009 | 단위 | FR-004 | - | 미실행 |
| UT-010 | 단위 | FR-004 | - | 미실행 |
| UT-011 | 단위 | FR-005 | - | 미실행 |
| UT-012 | 단위 | FR-005 | - | 미실행 |
| UT-013 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003, FR-005 | BR-001 | 미실행 |
| E2E-004 | E2E | FR-003 | BR-002 | 미실행 |
| E2E-005 | E2E | FR-004 | - | 미실행 |
| E2E-006 | E2E | - | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-001, BR-002 | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 엔티티 → Props 인터페이스 매핑

| 기본설계 정의 | 상세설계 인터페이스 | Props 항목 | 용도 |
|--------------|---------------------|-----------|------|
| 모달 설정 | SelectPopupTemplateProps | open, onClose, title, width | 모달 기본 설정 |
| 데이터 설정 | SelectPopupTemplateProps | columns, dataSource, loading, rowKey | 테이블 데이터 구성 |
| 선택 설정 | SelectPopupTemplateProps | multiple, selectedKeys, onSelect | 선택 모드 및 콜백 |
| 검색 설정 | SelectPopupTemplateProps | searchPlaceholder, onSearch | 검색 기능 |
| 페이지네이션 | SelectPopupTemplateProps | pagination | 페이지 설정 |

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 → 컴포넌트 Props 매핑

| 기본설계 인터페이스 | 구현 방식 | Props/Callback | 요구사항 |
|--------------------|----------|----------------|----------|
| 모달 열기/닫기 | Props + Callback | open, onClose | FR-001 |
| 검색 이벤트 | Callback | onSearch | FR-002 |
| 항목 선택 | Props + Callback | selectedKeys, multiple | FR-003 |
| 선택 완료 | Callback | onSelect | FR-004 |
| 페이지 변경 | Props (Config) | pagination | FR-005 |

---

## 6. 화면 추적

> 기본설계 화면 요구사항 → 상세설계 컴포넌트 매핑

| 기본설계 화면 | 컴포넌트 | 하위 영역 | 요구사항 |
|--------------|----------|----------|----------|
| 선택형 팝업 템플릿 | SelectPopupTemplate | - | FR-001, FR-002, FR-003, FR-004, FR-005 |
| 모달 헤더 | SelectPopupTemplate 내부 | 제목 + 닫기 버튼 | FR-001 |
| 검색 영역 | SelectPopupTemplate 내부 | 검색 입력 + 검색 버튼 | FR-002 |
| 목록 영역 | SelectPopupTemplate 내부 | Ant Design Table | FR-003, FR-005 |
| 선택 현황 | SelectPopupTemplate 내부 | 선택 개수 표시 | FR-003 |
| 하단 버튼 | SelectPopupTemplate 내부 | 취소 + 선택완료 | FR-001, FR-004 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 3 | 3 | 0 | 100% |
| 단위 테스트 (UT) | 13 | 13 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | 해당 없음 |

---

## 관련 문서

- 설계서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-21 | Claude | 최초 작성 |
