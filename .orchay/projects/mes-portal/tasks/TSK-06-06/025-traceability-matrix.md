# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-21

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-06 |
| Task명 | 마법사(Wizard) 화면 템플릿 |
| 설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-21 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 기본설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 화면 템플릿 | 3.2 UC-01, 5.1 | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 화면 템플릿 | 3.2 UC-01, UC-02 | UT-003, UT-004 | E2E-001, E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 화면 템플릿 | 3.2 UC-01, 8.1 | UT-005, UT-006, UT-007 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 화면 템플릿 | 3.2 UC-04, 4.1 | UT-008, UT-009 | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 화면 템플릿 | 3.2 UC-04, 6.1 | UT-010, UT-011 | E2E-005 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 단계 표시 (Steps 컴포넌트)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 마법사(Wizard) 화면 - 단계별 진행 |
| 기본설계 | 010-design.md | 5.1 와이어프레임 | Ant Design Steps로 진행 상황 시각화 |
| 단위 테스트 | 026-test-specification.md | UT-001, UT-002 | Steps 컴포넌트 렌더링, 현재 단계 하이라이트 |
| E2E 테스트 | 026-test-specification.md | E2E-001 | 단계 표시 및 진행 상황 확인 |

#### FR-002: 이전/다음 네비게이션

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 이전/다음 네비게이션 |
| 기본설계 | 010-design.md | 3.2 UC-01, UC-02 | 다음 버튼으로 진행, 이전 버튼으로 돌아가기 |
| 단위 테스트 | 026-test-specification.md | UT-003, UT-004 | 다음 버튼 클릭 시 단계 증가, 이전 버튼 클릭 시 단계 감소 |
| E2E 테스트 | 026-test-specification.md | E2E-001, E2E-002 | 네비게이션 버튼 동작 검증 |

#### FR-003: 단계별 유효성 검사

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 단계별 유효성 검사 |
| 기본설계 | 010-design.md | 8.1 BR-01, 4.2 시나리오 2 | 현재 단계 유효성 검사 통과 전 다음 진행 불가 |
| 단위 테스트 | 026-test-specification.md | UT-005, UT-006, UT-007 | validation 함수 호출, 유효성 실패 시 이동 차단, 에러 표시 |
| E2E 테스트 | 026-test-specification.md | E2E-003 | 유효성 검사 실패 → 에러 메시지 → 수정 후 진행 |

#### FR-004: 최종 확인 화면

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 최종 확인 및 완료 |
| 기본설계 | 010-design.md | 4.1 시나리오 1 단계 4 | 입력 내용 요약 표시, 확인 단계 |
| 단위 테스트 | 026-test-specification.md | UT-008, UT-009 | 확인 단계 렌더링, 이전 데이터 표시 |
| E2E 테스트 | 026-test-specification.md | E2E-004 | 확인 단계에서 입력 내용 요약 확인 |

#### FR-005: 완료 처리

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 최종 확인 및 완료 |
| 기본설계 | 010-design.md | 6.1 인터랙션, 6.2 상태별 화면 | 완료 버튼 클릭 → 데이터 저장 → 성공 메시지 |
| 단위 테스트 | 026-test-specification.md | UT-010, UT-011 | onComplete 콜백 호출, 완료 후 상태 변화 |
| E2E 테스트 | 026-test-specification.md | E2E-005 | 전체 마법사 흐름 완료 시나리오 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 기본설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|--------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 BR-01 | WizardTemplate | UT-005, UT-006 | E2E-003 | 유효성 검사 실패 시 다음 버튼 동작 차단 확인 | 설계완료 |
| BR-002 | 4.1.1 | 6.2 상태별 화면 | WizardTemplate | UT-012 | E2E-001 | 첫 단계에서 이전 버튼 숨김/비활성화 확인 | 설계완료 |
| BR-003 | 4.1.1 | 6.2 상태별 화면 | WizardTemplate | UT-013 | E2E-004 | 마지막 단계에서 완료 버튼 표시 확인 | 설계완료 |
| BR-004 | 4.1.1 | 8.1 | WizardTemplate | UT-014 | E2E-003 | 단계 건너뛰기 불가 (순차 진행만 허용) | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 현재 단계 유효성 검사 통과 전 다음 단계 이동 불가

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 단계별 유효성 검사 |
| **기본설계 표현** | 단계별 유효성 검사 후 다음 진행 (BR-01) |
| **구현 위치** | WizardTemplate - 다음 버튼 클릭 핸들러에서 validation 함수 실행 |
| **검증 방법** | validation 함수가 false/reject 반환 시 currentStep 증가 차단 확인 |
| **관련 테스트** | UT-005, UT-006, E2E-003 |

#### BR-002: 첫 번째 단계에서 이전 버튼 비활성화

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 이전/다음 네비게이션 (암시적 규칙) |
| **기본설계 표현** | 첫 단계: 이전 버튼 숨김/비활성 |
| **구현 위치** | WizardTemplate - currentStep === 0 일 때 이전 버튼 disabled 또는 hidden |
| **검증 방법** | 첫 단계에서 이전 버튼이 렌더링되지 않거나 disabled 상태 확인 |
| **관련 테스트** | UT-012, E2E-001 |

#### BR-003: 마지막 단계에서 완료 버튼 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 최종 확인 및 완료 |
| **기본설계 표현** | 마지막 단계: 다음 대신 완료 버튼 |
| **구현 위치** | WizardTemplate - currentStep === steps.length - 1 일 때 완료 버튼 표시 |
| **검증 방법** | 마지막 단계에서 다음 버튼 대신 완료 버튼이 표시되는지 확인 |
| **관련 테스트** | UT-013, E2E-004 |

#### BR-004: 단계 건너뛰기 불가 (순차 진행)

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 단계별 진행 (순차 진행 암시) |
| **기본설계 표현** | allowStepClick=false 시 단계 직접 클릭 불가 |
| **구현 위치** | WizardTemplate - Steps 클릭 이벤트 차단 또는 allowStepClick prop |
| **검증 방법** | 완료되지 않은 단계 클릭 시 이동하지 않음 확인 |
| **관련 테스트** | UT-014, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-001 | - | 미실행 |
| UT-003 | 단위 | FR-002 | - | 미실행 |
| UT-004 | 단위 | FR-002 | - | 미실행 |
| UT-005 | 단위 | FR-003 | BR-001 | 미실행 |
| UT-006 | 단위 | FR-003 | BR-001 | 미실행 |
| UT-007 | 단위 | FR-003 | - | 미실행 |
| UT-008 | 단위 | FR-004 | - | 미실행 |
| UT-009 | 단위 | FR-004 | - | 미실행 |
| UT-010 | 단위 | FR-005 | - | 미실행 |
| UT-011 | 단위 | FR-005 | - | 미실행 |
| UT-012 | 단위 | - | BR-002 | 미실행 |
| UT-013 | 단위 | - | BR-003 | 미실행 |
| UT-014 | 단위 | - | BR-004 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002 | BR-002 | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | BR-001, BR-004 | 미실행 |
| E2E-004 | E2E | FR-004 | BR-003 | 미실행 |
| E2E-005 | E2E | FR-005 | - | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | BR-002 | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-001, BR-004 | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | BR-003 | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 엔티티 → Props 인터페이스 매핑

| 기본설계 정의 | 상세설계 인터페이스 | Props 항목 | 용도 |
|--------------|---------------------|-----------|------|
| 단계 정의 | WizardStep | key, title, description, content, validation | 개별 단계 설정 |
| 단계 목록 | WizardTemplateProps | steps: WizardStep[] | 마법사 전체 단계 구성 |
| 현재 단계 | WizardTemplateProps | currentStep, onStepChange | 현재 진행 단계 관리 |
| 완료 처리 | WizardTemplateProps | onComplete, onCancel | 마법사 완료/취소 콜백 |
| UI 설정 | WizardTemplateProps | title, allowStepClick, showStepDescription | UI 커스터마이징 |
| 버튼 텍스트 | WizardTemplateProps | prevText, nextText, completeText, cancelText | 버튼 레이블 설정 |
| 상태 | WizardTemplateProps | loading | 로딩 상태 표시 |

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 → 컴포넌트 Props 매핑

| 기본설계 인터페이스 | 구현 방식 | Props/Callback | 요구사항 |
|--------------------|----------|----------------|----------|
| 단계 변경 이벤트 | Callback | onStepChange(step: number) | FR-001, FR-002 |
| 유효성 검사 | 단계별 함수 | WizardStep.validation() | FR-003 |
| 완료 이벤트 | Callback | onComplete() | FR-005 |
| 취소 이벤트 | Callback | onCancel() | FR-002 |
| 단계 클릭 허용 | Props | allowStepClick: boolean | BR-004 |

---

## 6. 화면 추적

> 기본설계 화면 요구사항 → 상세설계 컴포넌트 매핑

| 기본설계 화면 | 컴포넌트 | 하위 영역 | 요구사항 |
|--------------|----------|----------|----------|
| 마법사 템플릿 | WizardTemplate | - | FR-001, FR-002, FR-003, FR-004, FR-005 |
| 단계 표시 영역 | WizardTemplate 내부 | Ant Design Steps 컴포넌트 | FR-001 |
| 컨텐츠 영역 | WizardTemplate 내부 | 단계별 content 렌더링 | FR-003, FR-004 |
| 네비게이션 영역 | WizardTemplate 내부 | 취소, 이전, 다음/완료 버튼 | FR-002, FR-005 |
| 확인 단계 | WizardTemplate 사용 | 입력 내용 요약 표시 | FR-004 |
| 완료 상태 | WizardTemplate 사용 | 성공 메시지/리다이렉트 | FR-005 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 4 | 4 | 0 | 100% |
| 단위 테스트 (UT) | 14 | 14 | 0 | 100% |
| E2E 테스트 | 5 | 5 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | 해당 없음 |

---

## 관련 문서

- 설계서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-21 | Claude | 최초 작성 |
