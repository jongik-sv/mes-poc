# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 -- **Last Updated:** 2026-01-21

> **목적**: PRD -> 기본설계 -> 상세설계 -> 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-08 |
| Task명 | [샘플] 카테고리-제품 마스터-디테일 |
| 설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-21 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR -> 설계 -> 테스트)

> PRD -> 기본설계 -> 상세설계 -> 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 기본설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|--------------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 화면 템플릿 샘플 | UC-01 | UT-001, UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 화면 템플릿 샘플 | UC-02 | UT-003 | E2E-001 | TC-001 | 설계완료 |
| FR-003 | 4.1.1 화면 템플릿 샘플 | UC-03 | UT-004 | E2E-002 | TC-002 | 설계완료 |
| FR-004 | 4.1.1 화면 템플릿 샘플 | UC-04 | UT-005 | E2E-003 | TC-003 | 설계완료 |
| FR-005 | 4.1.1 화면 템플릿 샘플 | UC-05 | UT-006, UT-007 | E2E-004 | TC-004 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 카테고리 트리 목록 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 좌측: 카테고리 목록 (트리 또는 리스트) |
| 기본설계 | 010-design.md | UC-01 | Tree/List 컴포넌트로 계층 카테고리 렌더링 |
| 구현 화면 | CategoryProduct.tsx | - | MasterDetailTemplate + Tree 컴포넌트 |
| 단위 테스트 | 026-test-specification.md | UT-001, UT-002 | 카테고리 트리 렌더링, 계층 구조 표시 |
| E2E 테스트 | 026-test-specification.md | E2E-001 | 카테고리 목록 로드 및 표시 확인 |

#### FR-002: 카테고리 선택 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 카테고리 선택 시 제품 목록 표시 |
| 기본설계 | 010-design.md | UC-02 | 카테고리 클릭 -> 선택 하이라이트, 제품 로딩 |
| 구현 화면 | CategoryProduct.tsx | - | onSelect 핸들러, selectedCategory 상태 |
| 단위 테스트 | 026-test-specification.md | UT-003 | 카테고리 선택 시 콜백 호출, 상태 변경 |
| E2E 테스트 | 026-test-specification.md | E2E-001 | 카테고리 클릭 -> 제품 목록 로딩 |

#### FR-003: 선택 카테고리 제품 목록 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 우측: 선택된 카테고리의 제품 목록 |
| 기본설계 | 010-design.md | UC-03 | 카테고리 ID로 제품 필터링, Table 렌더링 |
| 구현 화면 | CategoryProduct.tsx | - | 디테일 영역 Table 컴포넌트 |
| 단위 테스트 | 026-test-specification.md | UT-004 | 제품 목록 렌더링, 카테고리별 필터링 |
| E2E 테스트 | 026-test-specification.md | E2E-002 | 선택된 카테고리의 제품만 표시 확인 |

#### FR-004: 제품 목록 검색/필터링

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 제품 검색 기능 (암시적) |
| 기본설계 | 010-design.md | UC-04 | 검색 입력 -> 제품 목록 필터링 |
| 구현 화면 | CategoryProduct.tsx | - | 디테일 영역 검색 Input |
| 단위 테스트 | 026-test-specification.md | UT-005 | 검색어 입력 시 필터링 동작 |
| E2E 테스트 | 026-test-specification.md | E2E-003 | 검색어로 제품 필터링 시나리오 |

#### FR-005: 패널 리사이즈 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 분할 패널 리사이즈 |
| 기본설계 | 010-design.md | UC-05 | 드래그로 마스터/디테일 비율 조절 |
| 구현 화면 | CategoryProduct.tsx | - | MasterDetailTemplate 분할 기능 활용 |
| 단위 테스트 | 026-test-specification.md | UT-006, UT-007 | 분할 바 드래그, 최소 너비 제한 |
| E2E 테스트 | 026-test-specification.md | E2E-004 | 패널 리사이즈 사용자 시나리오 |

---

## 2. 비즈니스 규칙 추적 (BR -> 구현 -> 검증)

| 규칙 ID | PRD 출처 | 기본설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|--------------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 (암시적) | BR-001 | CategoryProduct.tsx | UT-006 | E2E-001 | 미선택 시 "카테고리를 선택하세요" 표시 확인 | 설계완료 |
| BR-002 | 4.1.1 (암시적) | BR-002 | CategoryProduct.tsx + getProductsByCategoryWithChildren() | UT-011 | E2E-002 | 상위 카테고리 선택 시 하위 제품 모두 표시 확인 | 설계완료 |
| BR-003 | 4.1.1 (암시적) | BR-003 | MasterDetailTemplate (Splitter min 설정) | UT-012 | E2E-006 | 패널 최소 너비(200px) 유지 확인 | 설계완료 |
| BR-004 | 4.1.1 (암시적) | BR-004 | CategoryProduct.tsx | UT-005 | E2E-004 | 제품 없음 시 Empty 표시 확인 | 설계완료 |
| BR-005 | 4.1.1 (암시적) | BR-005 | ProductTable (검색 로직) | UT-004 | E2E-003 | 검색 대소문자 무시 동작 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 카테고리 미선택 시 안내 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 카테고리-제품 마스터-디테일 - 상위 선택 시 하위 표시 (미선택 시 안내 필요 암시) |
| **기본설계 표현** | 초기 (미선택): 디테일 영역에 "카테고리를 선택하세요" 안내 표시 |
| **구현 위치** | CategoryProduct.tsx - selectedCategory가 없을 때 조건부 렌더링 |
| **검증 방법** | 페이지 진입 시 디테일 영역에 안내 메시지 표시 확인 |
| **관련 테스트** | UT-008, E2E-001 |

#### BR-002: 상위 카테고리 선택 시 하위 제품 모두 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 상위 카테고리 선택 시 하위 카테고리의 모든 제품 표시 (010-design.md BR-02) |
| **기본설계 표현** | "전자부품" 선택 시 반도체+커넥터+PCB 모든 제품 표시 |
| **구현 위치** | CategoryProduct.tsx + getProductsByCategoryWithChildren() 유틸리티 함수 |
| **검증 방법** | 상위 카테고리 선택 후 하위 카테고리 제품이 모두 표시되는지 확인 |
| **관련 테스트** | UT-011, E2E-002 |

#### BR-003: 패널 최소 너비 유지

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 분할 패널 리사이즈 기능 - 최소 너비 제한 필요 (010-design.md BR-03) |
| **기본설계 표현** | 마스터 패널 최소 200px, 디테일 패널 최소 300px 유지 |
| **구현 위치** | MasterDetailTemplate Splitter min 속성 설정 |
| **검증 방법** | 패널을 극단적으로 드래그해도 최소 너비 이상 유지 확인 |
| **관련 테스트** | UT-012, E2E-006 |

#### BR-004: 제품 없는 카테고리 선택 시 안내 표시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 제품이 없는 카테고리 선택 시 적절한 안내 필요 (010-design.md BR-04) |
| **기본설계 표현** | 카테고리 선택 후 제품이 없을 경우 "등록된 제품이 없습니다" 안내 표시 |
| **구현 위치** | CategoryProduct.tsx - products.length === 0 조건부 렌더링 |
| **검증 방법** | 제품 없는 카테고리 선택 시 빈 상태 안내 메시지 확인 |
| **관련 테스트** | UT-005, E2E-004 |

#### BR-005: 검색 대소문자 무시

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 검색은 코드, 제품명에서 수행 - 대소문자 무시 (010-design.md BR-05) |
| **기본설계 표현** | 검색어 "usb"로 "USB 케이블" 검색 가능 |
| **구현 위치** | ProductTable 검색 로직 - toLowerCase() 적용 |
| **검증 방법** | 대소문자 혼용 검색어로 검색 결과 확인 |
| **관련 테스트** | UT-004, E2E-003 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 -> 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | FR-004 | BR-005 | 미실행 |
| UT-005 | 단위 | - | BR-004 | 미실행 |
| UT-006 | 단위 | - | BR-001 | 미실행 |
| UT-007 | 단위 | FR-001 | - | 미실행 |
| UT-008 | 단위 | FR-003 | - | 미실행 |
| UT-009 | 단위 | FR-003 | - | 미실행 |
| UT-010 | 단위 | FR-003 | - | 미실행 |
| UT-011 | 단위 | - | BR-002 | 미실행 |
| UT-012 | 단위 | FR-005 | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001, FR-002 | BR-001 | 미실행 |
| E2E-002 | E2E | FR-003 | BR-002 | 미실행 |
| E2E-003 | E2E | FR-004 | BR-005 | 미실행 |
| E2E-004 | E2E | - | BR-004 | 미실행 |
| E2E-005 | E2E | FR-002, FR-003 | - | 미실행 |
| E2E-006 | E2E | FR-005 | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001, FR-002 | BR-001 | 미실행 |
| TC-002 | 매뉴얼 | FR-003 | BR-002 | 미실행 |
| TC-003 | 매뉴얼 | FR-004 | BR-005 | 미실행 |
| TC-004 | 매뉴얼 | FR-005 | BR-003 | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 데이터 -> Mock 데이터 구조 매핑

| 기본설계 정의 | Mock 데이터 파일 | 데이터 구조 | 용도 |
|--------------|-----------------|------------|------|
| 카테고리 엔티티 | mock-data/categories-products.json | Category { id, name, parentId?, children? } | 카테고리 트리 표시 |
| 제품 엔티티 | mock-data/categories-products.json | Product { id, name, categoryId, price, stock, status } | 제품 목록 표시 |
| 카테고리-제품 관계 | mock-data/categories-products.json | Product.categoryId -> Category.id | 카테고리별 제품 필터링 |

---

## 5. 인터페이스 추적

> 기본설계 인터페이스 요구사항 -> 컴포넌트 Props/콜백 매핑

| 기본설계 인터페이스 | 구현 방식 | Props/Callback | 요구사항 |
|--------------------|----------|----------------|----------|
| 카테고리 선택 이벤트 | Callback | onCategorySelect | FR-001, FR-002 |
| 제품 목록 로딩 상태 | Props | loading | FR-003 |
| 제품 검색 이벤트 | Callback | onProductSearch | FR-004 |
| 패널 크기 조절 | 템플릿 내부 | MasterDetailTemplate props | FR-005 |

---

## 6. 화면 추적

> 기본설계 화면 요구사항 -> 상세설계 컴포넌트 매핑

| 기본설계 화면 | 컴포넌트 | 하위 영역 | 요구사항 |
|--------------|----------|----------|----------|
| 카테고리-제품 샘플 화면 | CategoryProduct.tsx | - | FR-001 ~ FR-005 |
| 카테고리 트리 영역 | MasterDetailTemplate 마스터 | 좌측 패널 (Tree) | FR-001, FR-002 |
| 제품 목록 영역 | MasterDetailTemplate 디테일 | 우측 패널 (Table + 검색) | FR-003, FR-004 |
| 분할 경계 | MasterDetailTemplate 내부 | 리사이즈 핸들러 | FR-005 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 5 | 5 | 0 | 100% |
| 단위 테스트 (UT) | 12 | 12 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 4 | 4 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | 해당 없음 |

---

## 관련 문서

- 설계서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- 마스터-디테일 템플릿: `.orchay/projects/mes-portal/tasks/TSK-06-04/`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`
- Mock 데이터: `mock-data/categories-products.json`

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-21 | Claude | 최초 작성 |
| 1.1 | 2026-01-21 | Claude | 설계 리뷰 반영 - BR-003~BR-005 추적성 매핑 추가 (QR-001) |
