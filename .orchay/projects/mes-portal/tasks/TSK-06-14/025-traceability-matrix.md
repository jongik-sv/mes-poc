# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-22

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-14 |
| Task명 | [샘플] 생산 계획 간트 차트 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-22 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 간트차트 | 5.2 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 타임라인 | 5.2, 6.1 | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 확대/축소 | 5.2, 6.1 | UT-003 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 진행률 | 5.2, 8.1 | UT-004 | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 툴팁 | 5.2, 6.1 | UT-005 | E2E-005 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 타임라인 형태의 일정 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 타임라인 형태의 일정 표시 |
| 설계 | 010-design.md | 5.2 | 간트 차트 화면 와이어프레임 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: 간트 차트 렌더링 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 화면 로드 및 표시 |

#### FR-002: 작업 항목 바 (시작일~종료일)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 작업 항목 바 (시작일~종료일) |
| 설계 | 010-design.md | 5.2, 8.1 | 작업 바 표시 규칙 (BR-01) |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002: 작업 바 날짜 범위 계산 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 작업 바 표시 확인 |

#### FR-003: 확대/축소 (일/주/월 단위)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 확대/축소 (일/주/월 단위) |
| 설계 | 010-design.md | 5.2, UC-02 | 스케일 컨트롤 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: 스케일 변경 로직 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 스케일 전환 동작 |

#### FR-004: 진행률 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 진행률 표시 |
| 설계 | 010-design.md | 5.2, 8.1 | 진행률 표시 규칙 (BR-02) |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004: 진행률 계산 및 표시 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004: 진행률 시각화 확인 |

#### FR-005: 바 호버 시 상세 정보 툴팁

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 바 호버 시 상세 정보 툴팁 |
| 설계 | 010-design.md | 5.2, UC-03 | 툴팁 내용 정의 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005: 툴팁 데이터 포맷 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005: 호버 시 툴팁 표시 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 | 8.1 | 바 렌더링 로직 | UT-002 | E2E-002 | 시작/종료일 범위 확인 | 설계완료 |
| BR-002 | 4.1.1 | 8.1 | 진행률 표시 | UT-004 | E2E-004 | 채움 비율 확인 | 설계완료 |
| BR-003 | 4.1.1 | 8.2 | 상태별 색상 | UT-006 | E2E-006 | 색상 매핑 확인 | 설계완료 |
| BR-004 | - | 8.1 | 초기 스케일 | UT-003 | E2E-001 | 기본 주간 뷰 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 작업 바 표시 규칙

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 작업 항목 바 (시작일~종료일) |
| **설계 표현** | 각 작업은 시작일부터 종료일까지의 범위를 차지하는 바로 표시 |
| **구현 위치** | GanttChart 컴포넌트 바 렌더링 로직 |
| **검증 방법** | 시작/종료일에 맞게 바 위치/길이 확인 |
| **관련 테스트** | UT-002, E2E-002 |

#### BR-002: 진행률 표시 규칙

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 진행률 표시 |
| **설계 표현** | 바 내부 채움 비율로 진행률 표시 |
| **구현 위치** | TaskBar 컴포넌트 progress 렌더링 |
| **검증 방법** | 진행률 %와 채움 비율 일치 확인 |
| **관련 테스트** | UT-004, E2E-004 |

#### BR-003: 상태별 색상 규칙

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 작업 일정 색상 구분 표시 (PRD 4.1.1 캘린더 샘플 참조) |
| **설계 표현** | planned(회색), in_progress(파랑), completed(녹색), delayed(빨강) |
| **구현 위치** | 상태-색상 매핑 상수 |
| **검증 방법** | 각 상태별 올바른 색상 적용 확인 |
| **관련 테스트** | UT-006, E2E-006 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | BR-001 | 미실행 |
| UT-003 | 단위 | FR-003 | BR-004 | 미실행 |
| UT-004 | 단위 | FR-004 | BR-002 | 미실행 |
| UT-005 | 단위 | FR-005 | - | 미실행 |
| UT-006 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001 | BR-004 | 미실행 |
| E2E-002 | E2E | FR-002 | BR-001 | 미실행 |
| E2E-003 | E2E | FR-003 | - | 미실행 |
| E2E-004 | E2E | FR-004 | BR-002 | 미실행 |
| E2E-005 | E2E | FR-005 | - | 미실행 |
| E2E-006 | E2E | - | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | BR-001 | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | BR-002 | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | - | 미실행 |

---

## 4. 데이터 모델 추적

> Mock JSON → 컴포넌트 Props 매핑

| Mock 데이터 필드 | TypeScript 타입 | 컴포넌트 Props | 표시 위치 |
|-----------------|-----------------|---------------|----------|
| id | string | task.id | 내부 키 |
| name | string | task.name | 작업명 열, 툴팁 |
| productCode | string | task.productCode | 툴팁 |
| productName | string | task.productName | 툴팁 |
| quantity | number | task.quantity | 툴팁 |
| unit | string | task.unit | 툴팁 |
| startDate | string (ISO) | task.startDate | 바 시작 위치 |
| endDate | string (ISO) | task.endDate | 바 종료 위치 |
| progress | number (0-100) | task.progress | 바 채움 비율 |
| status | enum | task.status | 바 색상 |
| line | string | task.line | 툴팁 |
| priority | enum | task.priority | (선택) 표시 |

---

## 5. 인터페이스 추적

> 화면 인터페이스 요구사항 → 컴포넌트 매핑

| UI 요구사항 | 컴포넌트 | Props/State | 요구사항 |
|------------|---------|-------------|----------|
| 간트 차트 표시 | ProductionGantt | plans: ProductionPlan[] | FR-001 |
| 스케일 선택 | ScaleSelector | scale: 'day' \| 'week' \| 'month' | FR-003 |
| 기간 네비게이션 | DateNavigator | date, onPrev, onNext | FR-001 |
| 작업 바 | TaskBar | task, scale | FR-002, FR-004 |
| 툴팁 | Tooltip | task | FR-005 |

---

## 6. 화면 추적

> 설계 화면 → 컴포넌트 매핑

| 설계 화면 | 파일 경로 | 컴포넌트명 | 요구사항 |
|----------|----------|----------|----------|
| 생산 계획 간트 차트 | screens/sample/ProductionGantt.tsx | ProductionGantt | FR-001~005 |
| (내부) 간트 차트 본체 | - (라이브러리 또는 커스텀) | GanttChart | FR-001, FR-002 |
| (내부) 스케일 컨트롤 | - | ScaleControl | FR-003 |
| (내부) 작업 바 | - | TaskBar | FR-002, FR-004 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 4 | 4 | 0 | 100% |
| 단위 테스트 (UT) | 6 | 6 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`
- TRD: `.orchay/projects/mes-portal/trd.md`

---

<!--
Task: TSK-06-14
Version: 1.0
Created: 2026-01-22
-->
