# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-22

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-16 |
| Task명 | [샘플] 작업 지시 등록 |
| 설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-22 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 입력 폼 샘플 | 5.2 화면 1 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 입력 폼 샘플 | 5.2 화면 2 | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 입력 폼 샘플 | 6.1 | UT-003 | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 입력 폼 샘플 | 6.1 | UT-004 | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 입력 폼 샘플 | 7.3 | UT-005 | E2E-005 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 작업 지시 입력 폼

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 작업 지시 입력 폼 (제품, 수량, 라인, 일정) |
| 설계 | 010-design.md | 5.2 화면 1 | 작업 지시 등록 폼 와이어프레임 및 필드 정의 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |

#### FR-002: 제품 선택 팝업

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 제품 선택 팝업 (SelectPopupTemplate) |
| 설계 | 010-design.md | 5.2 화면 2 | 제품 선택 팝업 와이어프레임 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002 |

#### FR-003: 저장 확인 다이얼로그

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 저장 전 확인 다이얼로그 |
| 설계 | 010-design.md | 6.1 | 저장 버튼 클릭 시 확인 다이얼로그 표시 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003 |

#### FR-004: Toast 알림

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 저장 성공/실패 Toast 알림 |
| 설계 | 010-design.md | 6.1, 6.2 | 저장 결과에 따른 Toast 표시 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-004 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-004 |

#### FR-005: 폼 유효성 검사

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 폼 유효성 검사 (필수값, 숫자 범위) |
| 설계 | 010-design.md | 7.3 | 데이터 유효성 규칙 정의 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-01 | 4.1.1 | 8.1 | handleSave() | UT-003 | E2E-003 | 저장 클릭 시 다이얼로그 표시 확인 | 설계완료 |
| BR-02 | 4.1.1 | 7.3 | Form rules | UT-005 | E2E-005 | 필수 필드 미입력 시 에러 확인 | 설계완료 |
| BR-03 | 4.1.1 | 8.1 | DatePicker validator | UT-006 | E2E-006 | 종료일 < 시작일 시 에러 확인 | 설계완료 |
| BR-04 | 4.1.1 | 7.3 | InputNumber min/max | UT-007 | E2E-007 | 수량 범위 초과 시 에러 확인 | 설계완료 |
| BR-05 | 4.1.1 | 8.1 | enableDirtyCheck | UT-008 | E2E-008 | 변경 후 취소 시 확인 다이얼로그 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-01: 저장 전 확인 다이얼로그 필수

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 저장 전 확인 다이얼로그 |
| **설계 표현** | 저장 버튼 클릭 시 Modal.confirm() 호출 |
| **구현 위치** | handleSave() 함수 |
| **검증 방법** | 저장 클릭 → 다이얼로그 표시 확인 |
| **관련 테스트** | UT-003, E2E-003 |

#### BR-02: 필수 필드 입력 완료 후 저장 가능

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 폼 유효성 검사 (필수값) |
| **설계 표현** | Form.Item rules의 required: true |
| **구현 위치** | Form rules 속성 |
| **검증 방법** | 필수 필드 미입력 → 에러 메시지 확인 |
| **관련 테스트** | UT-005, E2E-005 |

#### BR-03: 종료일은 시작일 이후여야 함

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 폼 유효성 검사 (날짜 범위) |
| **설계 표현** | endDate >= startDate 커스텀 validator |
| **구현 위치** | endDate Form.Item rules |
| **검증 방법** | 종료일 < 시작일 → 에러 메시지 확인 |
| **관련 테스트** | UT-006, E2E-006 |

#### BR-04: 수량은 1 이상 99999 이하

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 폼 유효성 검사 (숫자 범위) |
| **설계 표현** | InputNumber min=1, max=99999 |
| **구현 위치** | quantity 필드 InputNumber 속성 |
| **검증 방법** | 범위 초과 입력 → 에러 메시지 확인 |
| **관련 테스트** | UT-007, E2E-007 |

#### BR-05: 변경사항 있을 때 취소 시 확인

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 저장되지 않은 변경사항 경고 |
| **설계 표현** | enableDirtyCheck + confirmDiscard |
| **구현 위치** | FormTemplate enableDirtyCheck 속성 |
| **검증 방법** | 값 변경 후 취소 → 확인 다이얼로그 표시 |
| **관련 테스트** | UT-008, E2E-008 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | BR-01 | 미실행 |
| UT-004 | 단위 | FR-004 | - | 미실행 |
| UT-005 | 단위 | FR-005 | BR-02 | 미실행 |
| UT-006 | 단위 | FR-005 | BR-03 | 미실행 |
| UT-007 | 단위 | FR-005 | BR-04 | 미실행 |
| UT-008 | 단위 | - | BR-05 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | BR-01 | 미실행 |
| E2E-004 | E2E | FR-004 | - | 미실행 |
| E2E-005 | E2E | FR-005 | BR-02 | 미실행 |
| E2E-006 | E2E | FR-005 | BR-03 | 미실행 |
| E2E-007 | E2E | FR-005 | BR-04 | 미실행 |
| E2E-008 | E2E | - | BR-05 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-01 | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | - | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | BR-02~04 | 미실행 |

---

## 4. 데이터 모델 추적

> 기본설계 엔티티 → TypeScript 인터페이스 → API DTO 매핑

| 설계 엔티티 | TypeScript 인터페이스 | 폼 필드 | 용도 |
|------------|---------------------|---------|------|
| WorkOrder | WorkOrderFormData | 전체 폼 | 작업 지시 등록 |
| Product | Product | 제품 선택 팝업 | 제품 정보 표시 |

### 4.1 WorkOrderFormData 필드 매핑

| 설계 필드 | TypeScript 필드 | 폼 필드명 | 타입 |
|----------|-----------------|----------|------|
| 제품 코드 | productCode | productCode | string |
| 제품명 | productName | productName | string |
| 수량 | quantity | quantity | number |
| 생산 라인 | lineId | lineId | string |
| 시작일 | startDate | startDate | string (YYYY-MM-DD) |
| 종료일 | endDate | endDate | string (YYYY-MM-DD) |
| 비고 | remarks | remarks | string? |

---

## 5. 화면 추적

> 설계 화면 → 구현 컴포넌트 매핑

| 설계 화면 | 컴포넌트 | 요구사항 |
|----------|----------|----------|
| 작업 지시 등록 폼 | screens/sample/WorkOrderForm.tsx | FR-001, FR-003~005 |
| 제품 선택 팝업 | SelectPopupTemplate (재사용) | FR-002 |

---

## 6. 컴포넌트 의존성 추적

> 사용하는 공통 컴포넌트/유틸리티 추적

| 컴포넌트/유틸리티 | 출처 Task | 용도 |
|------------------|----------|------|
| FormTemplate | TSK-06-03 | 폼 템플릿 |
| SelectPopupTemplate | TSK-06-05 | 제품 선택 팝업 |
| confirmDelete | TSK-05-02 | 저장 확인 다이얼로그 (패턴 활용) |
| showSuccess, showError | TSK-05-03 | Toast 알림 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 5 | 5 | 0 | 100% |
| 단위 테스트 (UT) | 8 | 8 | 0 | 100% |
| E2E 테스트 | 8 | 8 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

<!--
author: Claude
Version History:
- v1.0 (2026-01-22): TSK-06-16 작업 지시 등록 추적성 매트릭스 작성
-->
