# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-22

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-17 |
| Task명 | [샘플] 자재 입출고 내역 |
| 설계 문서 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-22 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 검색 조건 | 5.2 화면 상세 | - | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 RangePicker | 5.2 기간 | - | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 테이블 정렬/페이징 | 5.2 테이블 | - | E2E-003 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 행 선택 | 5.2 체크박스 | - | E2E-004 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 일괄 처리 | UC-03, UC-04 | - | E2E-005 | TC-005 | 설계완료 |
| FR-006 | 4.1.1 컬럼 리사이즈 | UC-05 | - | E2E-006 | TC-006 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 검색 조건 (자재명, 입출고유형, 기간)

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 검색 조건 (자재명, 입출고유형, 기간) |
| 설계 | 010-design.md | 5.2 | 검색 조건 카드, SearchForm |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.1 | TC-001 |

#### FR-002: RangePicker로 기간 선택

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | RangePicker로 기간 선택 |
| 설계 | 010-design.md | UC-01 | 기간별 입출고 조회 |
| E2E 테스트 | 026-test-specification.md | 3.2 | E2E-002 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.2 | TC-002 |

#### FR-003: 테이블 정렬/페이징/필터링

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 테이블 정렬/페이징/필터링 |
| 설계 | 010-design.md | UC-05 | 컬럼 정렬/리사이즈 |
| E2E 테스트 | 026-test-specification.md | 3.3 | E2E-003 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.3 | TC-003 |

#### FR-004: 행 선택 후 일괄 처리 버튼

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 행 선택 후 일괄 처리 버튼 |
| 설계 | 010-design.md | UC-03 | 일괄 삭제 |
| E2E 테스트 | 026-test-specification.md | 3.4 | E2E-004, E2E-005 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.4 | TC-004, TC-005 |

#### FR-005: 컬럼 리사이즈 기능

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 컬럼 리사이즈 기능 |
| 설계 | 010-design.md | UC-05 | 컬럼 정렬/리사이즈 |
| E2E 테스트 | 026-test-specification.md | 3.5 | E2E-006 |
| 매뉴얼 테스트 | 026-test-specification.md | 4.5 | TC-006 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|------------|-----------|------|
| BR-01 | 4.1.1 | 8.1 | MaterialHistory 컴포넌트 | E2E-002 | 기간 미선택 시 전체 데이터 표시 확인 | 설계완료 |
| BR-02 | 4.1.1 | 8.1 | filterMaterialHistory | E2E-001 | 자재명 부분 일치 검색 확인 | 설계완료 |
| BR-03 | 4.1.1 | 8.1 | ListTemplate | E2E-005 | 삭제 전 확인 다이얼로그 표시 확인 | 설계완료 |
| BR-04 | 4.1.1 | 8.1 | Toolbar 컴포넌트 | E2E-004 | 선택 없으면 삭제 버튼 비활성화 확인 | 설계완료 |
| BR-05 | 4.1.1 | 8.1 | useMaterialHistory | E2E-001 | 초기 정렬 일자 내림차순 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-01: 기간 미선택 시 전체 데이터 조회

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 기간 미선택 시 전체 데이터 표시 |
| **설계 표현** | UC-01 대안 흐름: 기간 미선택 시 전체 데이터 조회 |
| **구현 위치** | MaterialHistory 컴포넌트 handleSearch |
| **검증 방법** | E2E 테스트로 기간 없이 조회 시 전체 데이터 확인 |
| **관련 테스트** | E2E-002 |

#### BR-02: 검색어는 포함 검색 (부분 일치)

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 자재명 검색 시 포함 검색 |
| **설계 표현** | BR-02: 검색어는 포함 검색 |
| **구현 위치** | filterMaterialHistory 함수 |
| **검증 방법** | "원자재"로 검색 시 "원자재A", "원자재B" 모두 표시 |
| **관련 테스트** | E2E-001 |

#### BR-03: 삭제 전 확인 다이얼로그 필수

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 삭제 시 확인 다이얼로그 표시 |
| **설계 표현** | UC-03: 확인 다이얼로그 표시 후 삭제 |
| **구현 위치** | ListTemplate deleteConfirmVisible |
| **검증 방법** | 삭제 클릭 시 확인 Modal 표시 |
| **관련 테스트** | E2E-005 |

#### BR-04: 선택된 행 없으면 삭제 버튼 비활성화

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 선택된 행 없으면 삭제 버튼 비활성화 |
| **설계 표현** | UC-03 예외 흐름: 선택된 행 없음 |
| **구현 위치** | Toolbar deleteDisabled prop |
| **검증 방법** | 초기 상태 삭제 버튼 disabled 확인 |
| **관련 테스트** | E2E-004 |

#### BR-05: 정렬 기본값 - 입출고일자 내림차순

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 목록 기본 정렬 |
| **설계 표현** | BR-05: 정렬 기본값: 입출고일자 내림차순 |
| **구현 위치** | useMaterialHistory 초기 정렬 |
| **검증 방법** | 초기 로드 시 최신 데이터가 상단에 표시 |
| **관련 테스트** | E2E-001 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| E2E-001 | E2E | FR-001, FR-003 | BR-02, BR-05 | 미실행 |
| E2E-002 | E2E | FR-002 | BR-01 | 미실행 |
| E2E-003 | E2E | FR-003 | - | 미실행 |
| E2E-004 | E2E | FR-004 | BR-04 | 미실행 |
| E2E-005 | E2E | FR-005 | BR-03 | 미실행 |
| E2E-006 | E2E | FR-006 | - | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | BR-02 | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | BR-01 | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | BR-05 | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | BR-04 | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | BR-03 | 미실행 |
| TC-006 | 매뉴얼 | FR-006 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 설계 엔티티 → Mock 데이터 → 컴포넌트 매핑

| 설계 엔티티 | Mock 데이터 파일 | 컴포넌트 Props | Response 타입 |
|------------|-----------------|---------------|---------------|
| MaterialHistory | material-history.json | MaterialHistoryProps | MaterialHistory[] |

---

## 5. 인터페이스 추적

> 설계 인터페이스 요구사항 → 컴포넌트/함수 매핑

| 설계 인터페이스 | 구현 대상 | 타입 | 요구사항 |
|----------------|----------|------|----------|
| 검색 조건 | SearchFieldDefinition[] | text, select, dateRange | FR-001, FR-002 |
| 데이터 로드 | useMaterialHistory | Hook | FR-003 |
| 필터링 | filterMaterialHistory | Function | FR-001, FR-002 |
| 삭제 처리 | handleDelete | Function | FR-005 |
| 내보내기 | handleExport | Function | FR-005 |

---

## 6. 화면 추적

> 설계 화면 요구사항 → 컴포넌트 매핑

| 설계 화면 | 컴포넌트 | 경로 | 요구사항 |
|----------|----------|------|----------|
| 자재 입출고 내역 | MaterialHistory | screens/sample/MaterialHistory/ | FR-001~FR-006 |
| 검색 조건 카드 | SearchForm (ListTemplate) | components/templates/ListTemplate/ | FR-001, FR-002 |
| 데이터 테이블 | DataTable | components/common/DataTable | FR-003, FR-004, FR-006 |
| 툴바 | Toolbar (ListTemplate) | components/templates/ListTemplate/ | FR-005 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 6 | 6 | 0 | 100% |
| 비즈니스 규칙 (BR) | 5 | 5 | 0 | 100% |
| E2E 테스트 | 6 | 6 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 6 | 6 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

<!--
TSK-06-17 요구사항 추적성 매트릭스
Version: 1.0
Created: 2026-01-22
-->
