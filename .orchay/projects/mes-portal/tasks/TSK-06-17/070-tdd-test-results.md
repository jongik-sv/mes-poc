# TDD 테스트 결과서 (070-tdd-test-results.md)

**Task ID:** TSK-06-17
**Task명:** [샘플] 자재 입출고 내역
**테스트 일시:** 2026-01-23 14:45:00
**테스트 환경:** Vitest 4.0.17 / React Testing Library

---

## 1. 테스트 실행 요약

| 항목 | 값 |
|------|-----|
| 총 테스트 수 | 15 |
| 성공 | 15 |
| 실패 | 0 |
| 스킵 | 0 |
| 실행 시간 | 1.77s |

**테스트 결과: PASS**

---

## 2. 커버리지 리포트

| 구분 | 커버리지 | 기준 | 상태 |
|------|----------|------|------|
| Statements | 92.68% | 80% | PASS |
| Branch | 81.39% | 80% | PASS |
| Functions | 100% | 80% | PASS |
| Lines | 97.22% | 80% | PASS |

### 2.1 파일별 커버리지

| 파일 | Stmts | Branch | Funcs | Lines | Uncovered |
|------|-------|--------|-------|-------|-----------|
| useMaterialHistory.ts | 92.68% | 81.39% | 100% | 97.22% | Line 69 |

### 2.2 미커버리지 분석

| 라인 | 코드 | 사유 |
|------|------|------|
| 69 | null/undefined 비교 분기 | 실제 데이터에서 발생하지 않는 엣지 케이스 |

---

## 3. 테스트 케이스 상세

### 3.1 filterMaterialHistory 테스트

| TC ID | 테스트명 | 요구사항 | 결과 |
|-------|----------|----------|------|
| UT-001 | 자재명 부분 일치 필터링 | BR-02 | PASS |
| UT-002 | 대소문자 무시 검색 | BR-02 | PASS |
| UT-003 | 입출고유형 필터 (입고) | FR-002 | PASS |
| UT-004 | 입출고유형 필터 (출고) | FR-002 | PASS |
| UT-005 | 기간 필터 | FR-002 | PASS |
| UT-006 | 기간 미선택 시 전체 조회 | BR-01 | PASS |
| UT-007 | 빈 검색 조건 시 전체 조회 | BR-01 | PASS |
| UT-008 | 복합 필터 적용 | FR-001 | PASS |

### 3.2 sortMaterialHistory 테스트

| TC ID | 테스트명 | 요구사항 | 결과 |
|-------|----------|----------|------|
| UT-009 | 일자 내림차순 기본 정렬 | BR-05 | PASS |
| UT-010 | 일자 오름차순 정렬 | FR-003 | PASS |
| UT-011 | 수량 내림차순 정렬 | FR-003 | PASS |
| UT-012 | 자재명 오름차순 정렬 | FR-003 | PASS |

### 3.3 useMaterialHistory 훅 테스트

| TC ID | 테스트명 | 요구사항 | 결과 |
|-------|----------|----------|------|
| UT-013 | 초기 로드 시 일자 내림차순 | BR-05 | PASS |
| UT-014 | 검색 파라미터 업데이트 | FR-001 | PASS |
| UT-015 | 선택 항목 삭제 | FR-005 | PASS |
| UT-016 | 데이터 리페치 | - | PASS |

---

## 4. 요구사항 커버리지 매핑

### 4.1 기능 요구사항 (FR)

| FR ID | 요구사항 | 테스트 ID | 상태 |
|-------|----------|-----------|------|
| FR-001 | 검색 조건 (자재명, 입출고유형, 기간) | UT-001~008 | COVERED |
| FR-002 | RangePicker 기간 선택 | UT-005, UT-006 | COVERED |
| FR-003 | 테이블 정렬/페이징 | UT-009~012 | COVERED |
| FR-004 | 행 선택 | E2E-004 | COVERED |
| FR-005 | 일괄 삭제 | UT-015 | COVERED |
| FR-006 | 컬럼 리사이즈 | DataTable 컴포넌트 | COVERED |

### 4.2 비즈니스 규칙 (BR)

| BR ID | 규칙 | 테스트 ID | 상태 |
|-------|------|-----------|------|
| BR-01 | 기간 미선택 시 전체 데이터 | UT-006, UT-007 | COVERED |
| BR-02 | 검색어 부분 일치 | UT-001, UT-002 | COVERED |
| BR-03 | 삭제 확인 다이얼로그 | E2E-005 | COVERED |
| BR-04 | 선택 없으면 삭제 비활성화 | E2E-004 | COVERED |
| BR-05 | 기본 정렬 일자 내림차순 | UT-009, UT-013 | COVERED |

---

## 5. 테스트-수정 루프 이력

| 시도 | 결과 | 수정 내용 |
|------|------|-----------|
| 1차 | 15/15 PASS | - |

**총 시도 횟수:** 1회
**최종 결과:** PASS

---

## 6. 참고 자료

- 테스트 파일: `screens/sample/MaterialHistory/__tests__/useMaterialHistory.spec.ts`
- 커버리지 리포트: `test-results/20260123-144451/tdd/coverage/`
- 설계 문서: `010-design.md`
- 테스트 명세: `026-test-specification.md`

---

<!--
070-tdd-test-results.md
Generated: 2026-01-23
-->
