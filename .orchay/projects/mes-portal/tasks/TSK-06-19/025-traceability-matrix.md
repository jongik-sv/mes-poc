# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2026-01-23

> **목적**: PRD → 기본설계 → 상세설계 → 테스트 4단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-06-19 |
| Task명 | [샘플] 알림 설정 관리 |
| 설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2026-01-23 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 기본설계 → 상세설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|----------|-------------|------------|-----------|------|
| FR-001 | 4.1.1 설정 화면 | 5.2 화면 상세, 6 인터랙션 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | 4.1.1 설정 화면 | 5.2 카테고리 설정 | UT-002 | E2E-002 | TC-002 | 설계완료 |
| FR-003 | 4.1.1 설정 화면 | 5.2 수신자 테이블 | UT-003, UT-004 | E2E-003, E2E-004 | TC-003 | 설계완료 |
| FR-004 | 4.1.1 키보드 단축키 | 6.3 키보드/접근성 | UT-005 | E2E-005 | TC-004 | 설계완료 |
| FR-005 | 4.1.1 설정 화면 | 5.2 기본값 복원 | UT-006 | E2E-006 | TC-005 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: 알림 설정 화면 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 설정 화면 샘플 - 알림 카테고리별 설정 |
| 설계 | 010-design.md | 5.2 | 알림 설정 관리 화면 상세 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: 화면 초기 렌더링 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 설정 화면 접근 |

#### FR-002: 알림 카테고리 Switch 설정

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | Switch on/off 기능 |
| 설계 | 010-design.md | 5.2, 6.1 | 카테고리별 Switch, 토글 인터랙션 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002: Switch 토글 상태 변경 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 카테고리 활성화/비활성화 |

#### FR-003: 알림 수신자 관리

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 알림 수신자 테이블 (추가/삭제) |
| 설계 | 010-design.md | 5.2, 7 | 수신자 테이블, 데이터 유효성 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: 수신자 추가, UT-004: 수신자 삭제 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-003: 수신자 추가, E2E-004: 수신자 삭제 |

#### FR-004: Ctrl+S 키보드 단축키 저장

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 키보드 단축키 (Ctrl+S 저장) |
| 설계 | 010-design.md | 6.3, 8 | Ctrl+S 저장, BR-02 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-005: 단축키 저장 호출 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-005: Ctrl+S 저장 |

#### FR-005: 기본값 복원

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 4.1.1 | 기본값 복원 기능 |
| 설계 | 010-design.md | 3.2 UC-04, 5.2 | 기본값 복원 버튼, 확인 다이얼로그 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-006: 기본값 복원 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-006: 기본값 복원 시나리오 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | 4.1.1 미저장 경고 | 8.2 | 컴포넌트 상태 | UT-007 | E2E-007 | 변경 후 이탈 시 경고 확인 | 설계완료 |
| BR-002 | 4.1.1 키보드 단축키 | 8.2 | useGlobalHotkeys | UT-005 | E2E-005 | 입력 중 Ctrl+S 동작 확인 | 설계완료 |
| BR-003 | 4.1.1 데이터 검증 | 8.2 | 폼 유효성 검사 | UT-008 | E2E-008 | 중복 이메일 에러 확인 | 설계완료 |
| BR-004 | 4.1.1 기본값 복원 | 8.2 | 확인 다이얼로그 | UT-006 | E2E-006 | 확인 없이 복원 안 됨 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: 미저장 변경사항 경고

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 설정 변경 시 미저장 경고 |
| **설계 표현** | beforeunload 이벤트, 이탈 확인 다이얼로그 |
| **구현 위치** | NotificationSettings 컴포넌트 (isDirty 상태) |
| **검증 방법** | 변경 후 페이지 이탈 시 경고 표시 확인 |
| **관련 테스트** | UT-007, E2E-007 |

#### BR-002: Ctrl+S 단축키 저장

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 키보드 단축키 (Ctrl+S 저장) |
| **설계 표현** | useGlobalHotkeys 훅 사용, 입력 중에도 동작 |
| **구현 위치** | NotificationSettings 컴포넌트 (useGlobalHotkeys) |
| **검증 방법** | 입력 필드 포커스 시 Ctrl+S 동작 확인 |
| **관련 테스트** | UT-005, E2E-005 |

#### BR-003: 이메일 중복 방지

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 알림 수신자 테이블 (추가/삭제) |
| **설계 표현** | 수신자 이메일 유일성 검사 |
| **구현 위치** | 수신자 추가 로직 |
| **검증 방법** | 중복 이메일 추가 시 에러 메시지 확인 |
| **관련 테스트** | UT-008, E2E-008 |

#### BR-004: 기본값 복원 확인

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 기본값 복원 기능 |
| **설계 표현** | 복원 전 확인 다이얼로그 표시 |
| **구현 위치** | 기본값 복원 버튼 핸들러 |
| **검증 방법** | 확인 없이 복원되지 않음 확인 |
| **관련 테스트** | UT-006, E2E-006 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001 | - | 미실행 |
| UT-002 | 단위 | FR-002 | - | 미실행 |
| UT-003 | 단위 | FR-003 | - | 미실행 |
| UT-004 | 단위 | FR-003 | - | 미실행 |
| UT-005 | 단위 | FR-004 | BR-002 | 미실행 |
| UT-006 | 단위 | FR-005 | BR-004 | 미실행 |
| UT-007 | 단위 | - | BR-001 | 미실행 |
| UT-008 | 단위 | - | BR-003 | 미실행 |
| E2E-001 | E2E | FR-001 | - | 미실행 |
| E2E-002 | E2E | FR-002 | - | 미실행 |
| E2E-003 | E2E | FR-003 | - | 미실행 |
| E2E-004 | E2E | FR-003 | - | 미실행 |
| E2E-005 | E2E | FR-004 | BR-002 | 미실행 |
| E2E-006 | E2E | FR-005 | BR-004 | 미실행 |
| E2E-007 | E2E | - | BR-001 | 미실행 |
| E2E-008 | E2E | - | BR-003 | 미실행 |
| TC-001 | 매뉴얼 | FR-001 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-002 | - | 미실행 |
| TC-003 | 매뉴얼 | FR-003 | - | 미실행 |
| TC-004 | 매뉴얼 | FR-004 | BR-002 | 미실행 |
| TC-005 | 매뉴얼 | FR-005 | BR-004 | 미실행 |

---

## 4. 데이터 모델 추적

> 설계 엔티티 → Mock 데이터 매핑

| 설계 엔티티 | Mock 데이터 파일 | 구조 |
|------------|-----------------|------|
| NotificationCategory | notification-settings.json | `{ id, name, description, enabled }` |
| NotificationRecipient | notification-settings.json | `{ id, name, email }` |
| NotificationSettings | notification-settings.json | `{ categories: [], recipients: [] }` |

---

## 5. 인터페이스 추적

> 설계 인터페이스 요구사항 → 구현 매핑

| 설계 인터페이스 | 구현 방식 | Method | 파일 경로 | 요구사항 |
|----------------|----------|--------|----------|----------|
| 설정 로드 | JSON import | - | mock-data/notification-settings.json | FR-001 |
| 설정 저장 | 로컬 상태 | - | 컴포넌트 내부 | FR-002, FR-003 |
| 기본값 복원 | 상수 참조 | - | 컴포넌트 내부 | FR-005 |

---

## 6. 화면 추적

> 설계 화면 요구사항 → 컴포넌트 매핑

| 설계 화면 | 컴포넌트 | 파일 경로 | 요구사항 |
|----------|----------|----------|----------|
| 알림 설정 관리 | NotificationSettings | screens/sample/NotificationSettings/index.tsx | FR-001~FR-005 |
| 카테고리 설정 영역 | CategorySettings | screens/sample/NotificationSettings/CategorySettings.tsx | FR-002 |
| 수신자 테이블 | RecipientTable | screens/sample/NotificationSettings/RecipientTable.tsx | FR-003 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 5 | 5 | 0 | 100% |
| 비즈니스 규칙 (BR) | 4 | 4 | 0 | 100% |
| 단위 테스트 (UT) | 8 | 8 | 0 | 100% |
| E2E 테스트 | 8 | 8 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 5 | 5 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- UI 설계: `011-ui-design.md`
- PRD: `.orchay/projects/mes-portal/prd.md`

---

<!--
author: Claude
Template Version History:
- v1.0.0 (2026-01-23): TSK-06-19 최초 작성
-->
